import {
  Unit_instanceat14thlj150z as Unit_instance,
  protoOf180f3jzyo7rfj as protoOf,
  THROW_CCE2g6jy02ryeudk as THROW_CCE,
  Continuation1aa2oekvx7jm7 as Continuation,
  initMetadataForClassbxx6q50dy2s7 as initMetadataForClass,
  VOID7hggqo3abtya as VOID,
  EmptyCoroutineContext_getInstance7yleecrz3jzr as EmptyCoroutineContext_getInstance,
  createCoroutineUnintercepted3gya308dmbbtg as createCoroutineUnintercepted,
  CoroutineImpl2sn3kjnwmfr10 as CoroutineImpl,
  get_COROUTINE_SUSPENDED3ujt3p13qm4iy as get_COROUTINE_SUSPENDED,
  initMetadataForCoroutine1i7lbatuf5bnt as initMetadataForCoroutine,
  initMetadataForInterface1egvbzx539z91 as initMetadataForInterface,
  UnsupportedOperationException_init_$Create$1usmxm8d6ijjz as UnsupportedOperationException_init_$Create$,
  toString1pkumu07cwy4m as toString,
  isInterface3d6p8outrmvmk as isInterface,
  IllegalStateException_init_$Create$1nm9y6jd3c9iy as IllegalStateException_init_$Create$,
  toString30pk9tzaqopn as toString_0,
  initMetadataForObject1cxne3s9w65el as initMetadataForObject,
  hashCodeq5arwsb9dgti as hashCode,
  equals2au1ep9vhcato as equals,
  CancellationException_init_$Create$abblhb9ra5mk as CancellationException_init_$Create$,
  Result__exceptionOrNull_impl_p6xea93g9kuxe56cw2k as Result__exceptionOrNull_impl_p6xea9,
  _Result___get_value__impl__bjfvqgbxrwpgk5sesh as _Result___get_value__impl__bjfvqg,
  Companion_instance144r68bk89en4 as Companion_instance,
  _Result___init__impl__xyqfz8oelep8i0cbta as _Result___init__impl__xyqfz8,
  createFailure8paxfkfa5dc7 as createFailure,
  AbstractCoroutineContextKey9xr9r6wlj5bm as AbstractCoroutineContextKey,
  Key_instance3trehy4y6zgij as Key_instance,
  AbstractCoroutineContextElement2rpehg0hv5szw as AbstractCoroutineContextElement,
  getxe4seun860fg as get,
  minusKey2uxs00uz5ceqp as minusKey,
  ContinuationInterceptor2624y0vaqwxwf as ContinuationInterceptor,
  RuntimeException_init_$Create$1uo9cv0rggpzf as RuntimeException_init_$Create$,
  addSuppressedu5jwjfvsc039 as addSuppressed,
  getStringHashCode26igk1bx568vk as getStringHashCode,
  Enum3alwj03lh1n41 as Enum,
  startCoroutine327fwvtqvedik as startCoroutine,
  noWhenBranchMatchedException2a6r7ubxgky5j as noWhenBranchMatchedException,
  Long2qws0ah9gnpki as Long,
  intercepted2ogpsikxxj4u0 as intercepted,
  ArrayDeque_init_$Create$3radqcftj9po2 as ArrayDeque_init_$Create$,
  RuntimeException1r3t0zl97011n as RuntimeException,
  RuntimeException_init_$Init$2bxjdc47ga271 as RuntimeException_init_$Init$,
  captureStack1fzi4aczwc4hg as captureStack,
  Error3ofk6owajcepa as Error_0,
  Error_init_$Init$2zp3hflsgcgv as Error_init_$Init$,
  Element2gr7ezmxqaln7 as Element,
  StringBuilder_init_$Create$zzhi687lupah as StringBuilder_init_$Create$,
  throwUninitializedPropertyAccessExceptionyynx7gkm73wd as throwUninitializedPropertyAccessException,
  ArrayList_init_$Create$3m1kyiqequwm5 as ArrayList_init_$Create$,
  CancellationException3b36o9qz53rgr as CancellationException,
  ArrayList3it5z8td81qkl as ArrayList,
  IllegalStateException_init_$Create$1re2ox2t9owo2 as IllegalStateException_init_$Create$_0,
  plusolev77jfy5r9 as plus,
  get6d5x931vk0s as get_0,
  fold36i9psb7d5v48 as fold,
  minusKeyyqanvso9aovh as minusKey_0,
  anyToString3ho3k49fc56mj as anyToString,
  UnsupportedOperationException2tkumpmhredt3 as UnsupportedOperationException,
  CancellationException_init_$Init$31woqfgrhq6f4 as CancellationException_init_$Init$,
  Companion_getInstance148flmv2wtrla as Companion_getInstance,
  DurationUnit_MILLISECONDS_getInstancedq9xrzm1t8sm as DurationUnit_MILLISECONDS_getInstance,
  toDurationba1nlt78o6vu as toDuration,
  returnIfSuspendednggonvg9333x as returnIfSuspended,
  ensureNotNull1e947j3ixpazm as ensureNotNull,
  toLongw1zpgk99d84b as toLong,
  IllegalArgumentException_init_$Create$sfel9vrfa7w2 as IllegalArgumentException_init_$Create$,
  listOf1jh22dvmctj1r as listOf,
  ArrayList_init_$Create$2rimpp4x9tjd3 as ArrayList_init_$Create$_0,
  NoSuchElementException_init_$Create$3t0s5oqnkdmdn as NoSuchElementException_init_$Create$,
  compareTo3ankvs086tmwq as compareTo,
  last2n4gf5az1lkn4 as last,
  _Char___init__impl__6a9atx367vrx0avsvbg as _Char___init__impl__6a9atx,
  initMetadataForCompanion1wyw17z38v6ac as initMetadataForCompanion,
  IllegalStateExceptionkoljg5n0nrlr as IllegalStateException,
  IllegalStateException_init_$Init$2lkdqe48hr7av as IllegalStateException_init_$Init$,
  NoSuchElementException679xzhnp5bpj as NoSuchElementException,
  NoSuchElementException_init_$Init$1d086i58bb247 as NoSuchElementException_init_$Init$,
  getKClass1s3j9wy1cofik as getKClass,
  Exceptiondt2hlxn7j7vw as Exception,
  toLongOrNullutqivezb0wx1 as toLongOrNull,
  createCoroutineUnintercepted21q5ochlctscl as createCoroutineUnintercepted_0,
  startCoroutineUninterceptedOrReturnNonGeneratorVersionyfrrvzbtl8bf as startCoroutineUninterceptedOrReturnNonGeneratorVersion,
  plus20p0vtfmu0596 as plus_0,
  KtList3hktaavzmj137 as KtList,
  listOfvhqybd2zx248 as listOf_0,
  Unitkvevlwgzwiuc as Unit,
  getKClassFromExpression3vpejubogshaw as getKClassFromExpression,
  removeFirstOrNull15yg2tczrh8a7 as removeFirstOrNull,
  KtMutableList1beimitadwkna as KtMutableList,
  coerceIn302bduskdb54x as coerceIn,
  CancellationException_init_$Init$yjd67q19gh18 as CancellationException_init_$Init$_0,
  CancellationException_init_$Create$1eqo789zqov68 as CancellationException_init_$Create$_0,
  HashSet_init_$Create$35v8jtxapyyka as HashSet_init_$Create$,
  RuntimeException_init_$Init$2i94smf8ys3t6 as RuntimeException_init_$Init$_0,
  LinkedHashSet_init_$Create$161uomhguzhxi as LinkedHashSet_init_$Create$,
} from './kotlin-kotlin-stdlib.mjs';
import {
  atomic$int$11d5swdyn6j0pu as atomic$int$1,
  atomic$ref$130aurmcwdfdf1 as atomic$ref$1,
  atomic$boolean$1iggki4z65a2h as atomic$boolean$1,
  atomicfu$AtomicRefArray$ofNulls2kz3j9ehigwa3 as atomicfu$AtomicRefArray$ofNulls,
  atomic$long$129k9zwo6n9ogd as atomic$long$1,
} from './kotlinx-atomicfu.mjs';
//region block: imports
var imul = Math.imul;
//endregion
//region block: pre-declaration
function cancel$default(cause, $super) {
  cause = cause === VOID ? null : cause;
  var tmp;
  if ($super === VOID) {
    this.fm(cause);
    tmp = Unit_instance;
  } else {
    tmp = $super.fm.call(this, cause);
  }
  return tmp;
}
function invokeOnCompletion$default(onCancelling, invokeImmediately, handler, $super) {
  onCancelling = onCancelling === VOID ? false : onCancelling;
  invokeImmediately = invokeImmediately === VOID ? true : invokeImmediately;
  return $super === VOID ? this.am(onCancelling, invokeImmediately, handler) : $super.am.call(this, onCancelling, invokeImmediately, handler);
}
initMetadataForInterface(Job, 'Job', VOID, VOID, [Element], [0]);
initMetadataForInterface(ParentJob, 'ParentJob', VOID, VOID, [Job], [0]);
initMetadataForClass(JobSupport, 'JobSupport', VOID, VOID, [Job, ParentJob], [0]);
initMetadataForInterface(CoroutineScope, 'CoroutineScope');
initMetadataForClass(AbstractCoroutine, 'AbstractCoroutine', VOID, JobSupport, [JobSupport, Job, Continuation, CoroutineScope], [0]);
initMetadataForClass(StandaloneCoroutine, 'StandaloneCoroutine', VOID, AbstractCoroutine, VOID, [0]);
initMetadataForClass(LazyStandaloneCoroutine, 'LazyStandaloneCoroutine', VOID, StandaloneCoroutine, VOID, [0]);
initMetadataForCoroutine($awaitCOROUTINE$1, CoroutineImpl);
initMetadataForClass(DeferredCoroutine, 'DeferredCoroutine', VOID, AbstractCoroutine, [AbstractCoroutine, Job], [0]);
initMetadataForClass(LazyDeferredCoroutine, 'LazyDeferredCoroutine', VOID, DeferredCoroutine, VOID, [0]);
initMetadataForInterface(CancellableContinuation, 'CancellableContinuation', VOID, VOID, [Continuation]);
initMetadataForInterface(NotCompleted, 'NotCompleted');
initMetadataForInterface(CancelHandler, 'CancelHandler', VOID, VOID, [NotCompleted]);
initMetadataForClass(DisposeOnCancel, 'DisposeOnCancel', VOID, VOID, [CancelHandler]);
initMetadataForInterface(Runnable, 'Runnable');
initMetadataForClass(SchedulerTask, 'SchedulerTask', VOID, VOID, [Runnable]);
initMetadataForClass(DispatchedTask, 'DispatchedTask', VOID, SchedulerTask);
initMetadataForInterface(Waiter, 'Waiter');
initMetadataForClass(CancellableContinuationImpl, 'CancellableContinuationImpl', VOID, DispatchedTask, [DispatchedTask, CancellableContinuation, Waiter]);
initMetadataForClass(UserSupplied, 'UserSupplied', VOID, VOID, [CancelHandler]);
initMetadataForObject(Active, 'Active', VOID, VOID, [NotCompleted]);
initMetadataForClass(CompletedContinuation, 'CompletedContinuation');
initMetadataForClass(LockFreeLinkedListNode, 'LockFreeLinkedListNode', LockFreeLinkedListNode);
initMetadataForInterface(Incomplete, 'Incomplete');
initMetadataForClass(JobNode, 'JobNode', VOID, LockFreeLinkedListNode, [LockFreeLinkedListNode, Incomplete]);
initMetadataForClass(ChildContinuation, 'ChildContinuation', VOID, JobNode);
initMetadataForCoroutine($awaitCOROUTINE$2, CoroutineImpl);
initMetadataForClass(CompletableDeferredImpl, 'CompletableDeferredImpl', VOID, JobSupport, [JobSupport, Job], [0]);
initMetadataForInterface(CompletableJob, 'CompletableJob', VOID, VOID, [Job], [0]);
initMetadataForClass(CompletedExceptionally, 'CompletedExceptionally');
initMetadataForClass(CancelledContinuation, 'CancelledContinuation', VOID, CompletedExceptionally);
initMetadataForObject(Key, 'Key', VOID, AbstractCoroutineContextKey);
initMetadataForClass(CoroutineDispatcher, 'CoroutineDispatcher', VOID, AbstractCoroutineContextElement, [AbstractCoroutineContextElement, ContinuationInterceptor]);
initMetadataForObject(Key_0, 'Key');
initMetadataForObject(Key_1, 'Key');
initMetadataForClass(CoroutineName, 'CoroutineName', VOID, AbstractCoroutineContextElement);
initMetadataForObject(GlobalScope, 'GlobalScope', VOID, VOID, [CoroutineScope]);
initMetadataForClass(CoroutineStart, 'CoroutineStart', VOID, Enum);
initMetadataForInterface(CopyableThrowable, 'CopyableThrowable');
function invokeOnTimeout(timeMillis, block, context) {
  return get_DefaultDelay().ds(timeMillis, block, context);
}
initMetadataForInterface(Delay, 'Delay', VOID, VOID, VOID, [1]);
initMetadataForInterface(DelayWithTimeoutDiagnostics, 'DelayWithTimeoutDiagnostics', VOID, VOID, [Delay], [1]);
initMetadataForClass(EventLoop, 'EventLoop', VOID, CoroutineDispatcher);
initMetadataForObject(ThreadLocalEventLoop, 'ThreadLocalEventLoop');
initMetadataForClass(CompletionHandlerException, 'CompletionHandlerException', VOID, RuntimeException);
initMetadataForClass(CoroutinesInternalError, 'CoroutinesInternalError', VOID, Error_0);
initMetadataForObject(Key_2, 'Key');
initMetadataForObject(NonDisposableHandle, 'NonDisposableHandle');
initMetadataForClass(DisposeOnCompletion, 'DisposeOnCompletion', VOID, JobNode);
initMetadataForClass(Empty, 'Empty', VOID, VOID, [Incomplete]);
initMetadataForClass(LockFreeLinkedListHead, 'LockFreeLinkedListHead', LockFreeLinkedListHead, LockFreeLinkedListNode);
initMetadataForClass(NodeList, 'NodeList', NodeList, LockFreeLinkedListHead, [LockFreeLinkedListHead, Incomplete]);
initMetadataForClass(SynchronizedObject, 'SynchronizedObject', SynchronizedObject);
initMetadataForClass(Finishing, 'Finishing', VOID, SynchronizedObject, [SynchronizedObject, Incomplete]);
initMetadataForClass(ChildCompletion, 'ChildCompletion', VOID, JobNode);
initMetadataForClass(AwaitContinuation, 'AwaitContinuation', VOID, CancellableContinuationImpl);
initMetadataForClass(InactiveNodeList, 'InactiveNodeList', VOID, VOID, [Incomplete]);
initMetadataForClass(InvokeOnCompletion, 'InvokeOnCompletion', VOID, JobNode);
initMetadataForClass(InvokeOnCancelling, 'InvokeOnCancelling', VOID, JobNode);
initMetadataForClass(ResumeOnCompletion, 'ResumeOnCompletion', VOID, JobNode);
initMetadataForClass(ChildHandleNode, 'ChildHandleNode', VOID, JobNode);
initMetadataForClass(ResumeAwaitOnCompletion, 'ResumeAwaitOnCompletion', VOID, JobNode);
initMetadataForClass(IncompleteStateBox, 'IncompleteStateBox');
initMetadataForClass(JobImpl, 'JobImpl', VOID, JobSupport, [JobSupport, CompletableJob], [0]);
initMetadataForClass(MainCoroutineDispatcher, 'MainCoroutineDispatcher', VOID, CoroutineDispatcher);
initMetadataForClass(SupervisorJobImpl, 'SupervisorJobImpl', VOID, JobImpl, VOID, [0]);
initMetadataForClass(TimeoutCancellationException, 'TimeoutCancellationException', VOID, CancellationException, [CancellationException, CopyableThrowable]);
initMetadataForClass(ScopeCoroutine, 'ScopeCoroutine', VOID, AbstractCoroutine, VOID, [0]);
initMetadataForClass(TimeoutCoroutine, 'TimeoutCoroutine', VOID, ScopeCoroutine, [ScopeCoroutine, Runnable], [0]);
initMetadataForCoroutine($withTimeoutOrNullCOROUTINE$3, CoroutineImpl);
initMetadataForObject(Unconfined, 'Unconfined', VOID, CoroutineDispatcher);
initMetadataForObject(Key_3, 'Key');
initMetadataForClass(BufferOverflow, 'BufferOverflow', VOID, Enum);
initMetadataForClass(ConcurrentLinkedListNode, 'ConcurrentLinkedListNode');
initMetadataForClass(Segment, 'Segment', VOID, ConcurrentLinkedListNode, [ConcurrentLinkedListNode, NotCompleted]);
initMetadataForClass(ChannelSegment, 'ChannelSegment', VOID, Segment);
initMetadataForCoroutine($hasNextCOROUTINE$7, CoroutineImpl);
initMetadataForClass(SendBroadcast, 'SendBroadcast', VOID, VOID, [Waiter]);
initMetadataForClass(BufferedChannelIterator, 'BufferedChannelIterator', VOID, VOID, [Waiter], [0, 3]);
initMetadataForCoroutine($sendCOROUTINE$4, CoroutineImpl);
initMetadataForCoroutine($receiveCOROUTINE$5, CoroutineImpl);
function cancel$default_0(cause, $super) {
  cause = cause === VOID ? null : cause;
  var tmp;
  if ($super === VOID) {
    this.fm(cause);
    tmp = Unit_instance;
  } else {
    tmp = $super.fm.call(this, cause);
  }
  return tmp;
}
initMetadataForInterface(ReceiveChannel, 'ReceiveChannel', VOID, VOID, VOID, [0]);
function close$default(cause, $super) {
  cause = cause === VOID ? null : cause;
  return $super === VOID ? this.r12(cause) : $super.r12.call(this, cause);
}
initMetadataForInterface(SendChannel, 'SendChannel', VOID, VOID, VOID, [1]);
initMetadataForClass(BufferedChannel, 'BufferedChannel', VOID, VOID, [ReceiveChannel, SendChannel], [1, 4, 0, 3]);
initMetadataForClass(WaiterEB, 'WaiterEB');
initMetadataForClass(ReceiveCatching, 'ReceiveCatching', VOID, VOID, [Waiter]);
initMetadataForObject(Factory, 'Factory');
initMetadataForClass(Failed, 'Failed', Failed);
initMetadataForClass(Closed, 'Closed', VOID, Failed);
initMetadataForCompanion(Companion);
initMetadataForClass(ChannelResult, 'ChannelResult');
initMetadataForClass(ClosedSendChannelException, 'ClosedSendChannelException', VOID, IllegalStateException);
initMetadataForClass(ClosedReceiveChannelException, 'ClosedReceiveChannelException', VOID, NoSuchElementException);
initMetadataForClass(ConflatedBufferedChannel, 'ConflatedBufferedChannel', VOID, BufferedChannel, VOID, [1, 0]);
initMetadataForCoroutine($collectCOROUTINE$11, CoroutineImpl);
initMetadataForClass(_no_name_provided__qut3iv, VOID, VOID, VOID, VOID, [1]);
initMetadataForInterface(FlowCollector, 'FlowCollector', VOID, VOID, VOID, [1]);
initMetadataForCoroutine($emitCOROUTINE$18, CoroutineImpl);
initMetadataForClass(_no_name_provided__qut3iv_0, VOID, VOID, VOID, [FlowCollector], [1]);
initMetadataForCoroutine($firstOrNullCOROUTINE$17, CoroutineImpl);
initMetadataForClass(SegmentOrClosed, 'SegmentOrClosed');
initMetadataForObject(ExceptionSuccessfullyProcessed, 'ExceptionSuccessfullyProcessed', VOID, Exception);
initMetadataForClass(DispatchedContinuation, 'DispatchedContinuation', VOID, DispatchedTask, [DispatchedTask, Continuation]);
initMetadataForClass(UndeliveredElementException, 'UndeliveredElementException', VOID, RuntimeException);
initMetadataForClass(ContextScope, 'ContextScope', VOID, VOID, [CoroutineScope]);
initMetadataForClass(Symbol, 'Symbol');
initMetadataForInterface(SelectInstance, 'SelectInstance');
initMetadataForClass(ClauseData, 'ClauseData', VOID, VOID, VOID, [1]);
initMetadataForClass(SelectImplementation, 'SelectImplementation', VOID, VOID, [CancelHandler, Waiter, SelectInstance], [0, 2]);
initMetadataForClass(TrySelectDetailedResult, 'TrySelectDetailedResult', VOID, Enum);
initMetadataForClass(CancellableContinuationWithOwner, 'CancellableContinuationWithOwner', VOID, VOID, [CancellableContinuation, Waiter]);
initMetadataForClass(SemaphoreAndMutexImpl, 'SemaphoreAndMutexImpl', VOID, VOID, VOID, [0]);
initMetadataForClass(MutexImpl, 'MutexImpl', VOID, SemaphoreAndMutexImpl, VOID, [1, 0]);
initMetadataForClass(SemaphoreSegment, 'SemaphoreSegment', VOID, Segment);
initMetadataForClass(SetTimeoutBasedDispatcher, 'SetTimeoutBasedDispatcher', VOID, CoroutineDispatcher, [CoroutineDispatcher, Delay], [1]);
initMetadataForObject(NodeDispatcher, 'NodeDispatcher', VOID, SetTimeoutBasedDispatcher, VOID, [1]);
initMetadataForClass(MessageQueue, 'MessageQueue', VOID, VOID, [KtMutableList]);
initMetadataForClass(ScheduledMessageQueue, 'ScheduledMessageQueue', VOID, MessageQueue);
initMetadataForClass(WindowMessageQueue, 'WindowMessageQueue', VOID, MessageQueue);
initMetadataForClass(UnconfinedEventLoop, 'UnconfinedEventLoop', UnconfinedEventLoop, EventLoop);
initMetadataForObject(SetTimeoutDispatcher, 'SetTimeoutDispatcher', VOID, SetTimeoutBasedDispatcher, VOID, [1]);
initMetadataForClass(ClearTimeout, 'ClearTimeout', VOID, VOID, [CancelHandler]);
initMetadataForClass(WindowClearTimeout, 'WindowClearTimeout', VOID, ClearTimeout);
initMetadataForClass(WindowDispatcher, 'WindowDispatcher', VOID, CoroutineDispatcher, [CoroutineDispatcher, Delay], [1]);
initMetadataForObject(Dispatchers, 'Dispatchers');
initMetadataForClass(JsMainDispatcher, 'JsMainDispatcher', VOID, MainCoroutineDispatcher);
initMetadataForClass(JobCancellationException, 'JobCancellationException', VOID, CancellationException);
initMetadataForClass(AbortFlowException, 'AbortFlowException', VOID, CancellationException);
initMetadataForClass(DiagnosticCoroutineContextException, 'DiagnosticCoroutineContextException', VOID, RuntimeException);
initMetadataForClass(ListClosed, 'ListClosed', VOID, LockFreeLinkedListNode);
initMetadataForClass(CommonThreadLocal, 'CommonThreadLocal', CommonThreadLocal);
//endregion
function AbstractCoroutine(parentContext, initParentJob, active) {
  JobSupport.call(this, active);
  if (initParentJob) {
    this.tk(parentContext.x8(Key_instance_3));
  }
  this.wk_1 = parentContext.se(this);
}
protoOf(AbstractCoroutine).q8 = function () {
  return this.wk_1;
};
protoOf(AbstractCoroutine).xk = function () {
  return this.wk_1;
};
protoOf(AbstractCoroutine).yk = function () {
  return protoOf(JobSupport).yk.call(this);
};
protoOf(AbstractCoroutine).zk = function (value) {
};
protoOf(AbstractCoroutine).al = function (cause, handled) {
};
protoOf(AbstractCoroutine).bl = function () {
  return get_classSimpleName(this) + ' was cancelled';
};
protoOf(AbstractCoroutine).cl = function (state) {
  if (state instanceof CompletedExceptionally) {
    this.al(state.dl_1, state.fl());
  } else {
    this.zk((state == null ? true : !(state == null)) ? state : THROW_CCE());
  }
};
protoOf(AbstractCoroutine).v8 = function (result) {
  var state = this.gl(toState_0(result));
  if (state === get_COMPLETING_WAITING_CHILDREN())
    return Unit_instance;
  this.hl(state);
};
protoOf(AbstractCoroutine).hl = function (state) {
  return this.il(state);
};
protoOf(AbstractCoroutine).jl = function (exception) {
  handleCoroutineException(this.wk_1, exception);
};
protoOf(AbstractCoroutine).kl = function () {
  var tmp0_elvis_lhs = get_coroutineName(this.wk_1);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return protoOf(JobSupport).kl.call(this);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var coroutineName = tmp;
  return '"' + coroutineName + '":' + protoOf(JobSupport).kl.call(this);
};
protoOf(AbstractCoroutine).ll = function (start, receiver, block) {
  start.ol(block, receiver, this);
};
function launch(_this__u8e3s4, context, start, block) {
  context = context === VOID ? EmptyCoroutineContext_getInstance() : context;
  start = start === VOID ? CoroutineStart_DEFAULT_getInstance() : start;
  var newContext = newCoroutineContext(_this__u8e3s4, context);
  var coroutine = start.wm() ? new LazyStandaloneCoroutine(newContext, block) : new StandaloneCoroutine(newContext, true);
  coroutine.ll(start, coroutine, block);
  return coroutine;
}
function async(_this__u8e3s4, context, start, block) {
  context = context === VOID ? EmptyCoroutineContext_getInstance() : context;
  start = start === VOID ? CoroutineStart_DEFAULT_getInstance() : start;
  var newContext = newCoroutineContext(_this__u8e3s4, context);
  var coroutine = start.wm() ? new LazyDeferredCoroutine(newContext, block) : new DeferredCoroutine(newContext, true);
  coroutine.ll(start, coroutine, block);
  return coroutine;
}
function StandaloneCoroutine(parentContext, active) {
  AbstractCoroutine.call(this, parentContext, true, active);
}
protoOf(StandaloneCoroutine).rm = function (exception) {
  handleCoroutineException(this.wk_1, exception);
  return true;
};
function LazyStandaloneCoroutine(parentContext, block) {
  StandaloneCoroutine.call(this, parentContext, false);
  this.dn_1 = createCoroutineUnintercepted(block, this, this);
}
protoOf(LazyStandaloneCoroutine).vl = function () {
  startCoroutineCancellable(this.dn_1, this);
};
function $awaitCOROUTINE$1(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.mn_1 = _this__u8e3s4;
}
protoOf($awaitCOROUTINE$1).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 2;
          this.k8_1 = 1;
          suspendResult = this.mn_1.vm(this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          return (suspendResult == null ? true : !(suspendResult == null)) ? suspendResult : THROW_CCE();
        case 2:
          throw this.n8_1;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 2) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function DeferredCoroutine(parentContext, active) {
  AbstractCoroutine.call(this, parentContext, true, active);
}
protoOf(DeferredCoroutine).qn = function () {
  var tmp = this.um();
  return (tmp == null ? true : !(tmp == null)) ? tmp : THROW_CCE();
};
protoOf(DeferredCoroutine).rn = function ($completion) {
  var tmp = new $awaitCOROUTINE$1(this, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
function LazyDeferredCoroutine(parentContext, block) {
  DeferredCoroutine.call(this, parentContext, false);
  this.vn_1 = createCoroutineUnintercepted(block, this, this);
}
protoOf(LazyDeferredCoroutine).vl = function () {
  startCoroutineCancellable(this.vn_1, this);
};
function CancellableContinuation() {
}
function disposeOnCancellation(_this__u8e3s4, handle) {
  return invokeOnCancellation(_this__u8e3s4, new DisposeOnCancel(handle));
}
function invokeOnCancellation(_this__u8e3s4, handler) {
  var tmp;
  if (_this__u8e3s4 instanceof CancellableContinuationImpl) {
    _this__u8e3s4.ho(handler);
    tmp = Unit_instance;
  } else {
    throw UnsupportedOperationException_init_$Create$('third-party implementation of CancellableContinuation is not supported');
  }
  return tmp;
}
function DisposeOnCancel(handle) {
  this.io_1 = handle;
}
protoOf(DisposeOnCancel).jo = function (cause) {
  return this.io_1.ko();
};
protoOf(DisposeOnCancel).toString = function () {
  return 'DisposeOnCancel[' + toString(this.io_1) + ']';
};
function getOrCreateCancellableContinuation(delegate) {
  if (!(delegate instanceof DispatchedContinuation)) {
    return new CancellableContinuationImpl(delegate, 1);
  }
  var tmp4_safe_receiver = delegate.ro();
  var tmp;
  if (tmp4_safe_receiver == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.takeIf' call
    // Inline function 'kotlin.contracts.contract' call
    var tmp_0;
    // Inline function 'kotlinx.coroutines.getOrCreateCancellableContinuation.<anonymous>' call
    if (tmp4_safe_receiver.so()) {
      tmp_0 = tmp4_safe_receiver;
    } else {
      tmp_0 = null;
    }
    tmp = tmp_0;
  }
  var tmp0_elvis_lhs = tmp;
  var tmp_1;
  if (tmp0_elvis_lhs == null) {
    return new CancellableContinuationImpl(delegate, 2);
  } else {
    tmp_1 = tmp0_elvis_lhs;
  }
  return tmp_1;
}
function get_RESUME_TOKEN() {
  _init_properties_CancellableContinuationImpl_kt__6rrtdd();
  return RESUME_TOKEN;
}
var RESUME_TOKEN;
function _get_parentHandle__f8dcex($this) {
  return $this.go_1.kotlinx$atomicfu$value;
}
function _get_stateDebugRepresentation__bf18u4($this) {
  var tmp5_subject = $this.rl();
  var tmp;
  if (!(tmp5_subject == null) ? isInterface(tmp5_subject, NotCompleted) : false) {
    tmp = 'Active';
  } else {
    if (tmp5_subject instanceof CancelledContinuation) {
      tmp = 'Cancelled';
    } else {
      tmp = 'Completed';
    }
  }
  return tmp;
}
function isReusable($this) {
  var tmp;
  if (get_isReusableMode($this.uo_1)) {
    var tmp_0 = $this.co_1;
    tmp = (tmp_0 instanceof DispatchedContinuation ? tmp_0 : THROW_CCE()).to();
  } else {
    tmp = false;
  }
  return tmp;
}
function cancelLater($this, cause) {
  if (!isReusable($this))
    return false;
  var tmp = $this.co_1;
  var dispatched = tmp instanceof DispatchedContinuation ? tmp : THROW_CCE();
  return dispatched.vo(cause);
}
function callSegmentOnCancellation($this, segment, cause) {
  // Inline function 'kotlinx.coroutines.index' call
  var index = $this.eo_1.kotlinx$atomicfu$value & 536870911;
  // Inline function 'kotlin.check' call
  // Inline function 'kotlin.contracts.contract' call
  if (!!(index === 536870911)) {
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.callSegmentOnCancellation.<anonymous>' call
    var message = 'The index for Segment.onCancellation(..) is broken';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.callCancelHandlerSafely' call
  try {
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.callSegmentOnCancellation.<anonymous>' call
    segment.ap(index, cause, $this.q8());
  } catch ($p) {
    if ($p instanceof Error) {
      var ex = $p;
      handleCoroutineException($this.q8(), new CompletionHandlerException('Exception in invokeOnCancellation handler for ' + $this.toString(), ex));
    } else {
      throw $p;
    }
  }
}
function trySuspend($this) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = $this.eo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.trySuspend.<anonymous>' call
    var cur = this_0.kotlinx$atomicfu$value;
    // Inline function 'kotlinx.coroutines.decision' call
    switch (cur >> 29) {
      case 0:
        // Inline function 'kotlinx.coroutines.decisionAndIndex' call

        // Inline function 'kotlinx.coroutines.index' call

        var tmp$ret$2 = (1 << 29) + (cur & 536870911) | 0;
        if ($this.eo_1.atomicfu$compareAndSet(cur, tmp$ret$2))
          return true;
        break;
      case 2:
        return false;
      default:
        // Inline function 'kotlin.error' call

        var message = 'Already suspended';
        throw IllegalStateException_init_$Create$(toString(message));
    }
  }
}
function tryResume($this) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = $this.eo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.tryResume.<anonymous>' call
    var cur = this_0.kotlinx$atomicfu$value;
    // Inline function 'kotlinx.coroutines.decision' call
    switch (cur >> 29) {
      case 0:
        // Inline function 'kotlinx.coroutines.decisionAndIndex' call

        // Inline function 'kotlinx.coroutines.index' call

        var tmp$ret$2 = (2 << 29) + (cur & 536870911) | 0;
        if ($this.eo_1.atomicfu$compareAndSet(cur, tmp$ret$2))
          return true;
        break;
      case 1:
        return false;
      default:
        // Inline function 'kotlin.error' call

        var message = 'Already resumed';
        throw IllegalStateException_init_$Create$(toString(message));
    }
  }
}
function installParentHandle($this) {
  var tmp0_elvis_lhs = $this.q8().x8(Key_instance_3);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return null;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var parent = tmp;
  var handle = invokeOnCompletion(parent, VOID, new ChildContinuation($this));
  $this.go_1.atomicfu$compareAndSet(null, handle);
  return handle;
}
function invokeOnCancellationImpl($this, handler) {
  // Inline function 'kotlinx.coroutines.assert' call
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = $this.fo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.invokeOnCancellationImpl.<anonymous>' call
    var state = this_0.kotlinx$atomicfu$value;
    if (state instanceof Active) {
      if ($this.fo_1.atomicfu$compareAndSet(state, handler))
        return Unit_instance;
    } else {
      var tmp;
      if (!(state == null) ? isInterface(state, CancelHandler) : false) {
        tmp = true;
      } else {
        tmp = state instanceof Segment;
      }
      if (tmp) {
        multipleHandlersError($this, handler, state);
      } else {
        if (state instanceof CompletedExceptionally) {
          if (!state.jp()) {
            multipleHandlersError($this, handler, state);
          }
          if (state instanceof CancelledContinuation) {
            var tmp13_safe_receiver = state instanceof CompletedExceptionally ? state : null;
            var cause = tmp13_safe_receiver == null ? null : tmp13_safe_receiver.dl_1;
            if (isInterface(handler, CancelHandler)) {
              $this.gp(handler, cause);
            } else {
              var segment = handler instanceof Segment ? handler : THROW_CCE();
              callSegmentOnCancellation($this, segment, cause);
            }
          }
          return Unit_instance;
        } else {
          if (state instanceof CompletedContinuation) {
            if (!(state.cp_1 == null)) {
              multipleHandlersError($this, handler, state);
            }
            if (handler instanceof Segment)
              return Unit_instance;
            if (!isInterface(handler, CancelHandler))
              THROW_CCE();
            if (state.hp()) {
              $this.gp(handler, state.fp_1);
              return Unit_instance;
            }
            var update = state.ip(VOID, handler);
            if ($this.fo_1.atomicfu$compareAndSet(state, update))
              return Unit_instance;
          } else {
            if (handler instanceof Segment)
              return Unit_instance;
            if (!isInterface(handler, CancelHandler))
              THROW_CCE();
            var update_0 = new CompletedContinuation(state, handler);
            if ($this.fo_1.atomicfu$compareAndSet(state, update_0))
              return Unit_instance;
          }
        }
      }
    }
  }
}
function multipleHandlersError($this, handler, state) {
  // Inline function 'kotlin.error' call
  var message = "It's prohibited to register multiple handlers, tried to register " + toString(handler) + ', already has ' + toString_0(state);
  throw IllegalStateException_init_$Create$(toString(message));
}
function dispatchResume($this, mode) {
  if (tryResume($this))
    return Unit_instance;
  dispatch($this, mode);
}
function resumedState($this, state, proposedUpdate, resumeMode, onCancellation, idempotent) {
  var tmp;
  if (proposedUpdate instanceof CompletedExceptionally) {
    // Inline function 'kotlinx.coroutines.assert' call
    // Inline function 'kotlinx.coroutines.assert' call
    tmp = proposedUpdate;
  } else {
    if (!get_isCancellableMode(resumeMode) && idempotent == null) {
      tmp = proposedUpdate;
    } else {
      var tmp_0;
      var tmp_1;
      if (!(onCancellation == null)) {
        tmp_1 = true;
      } else {
        tmp_1 = isInterface(state, CancelHandler);
      }
      if (tmp_1) {
        tmp_0 = true;
      } else {
        tmp_0 = !(idempotent == null);
      }
      if (tmp_0) {
        tmp = new CompletedContinuation(proposedUpdate, isInterface(state, CancelHandler) ? state : null, onCancellation, idempotent);
      } else {
        tmp = proposedUpdate;
      }
    }
  }
  return tmp;
}
function tryResumeImpl($this, proposedUpdate, idempotent, onCancellation) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = $this.fo_1;
  while (true) {
    $l$block: {
      // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.tryResumeImpl.<anonymous>' call
      var state = this_0.kotlinx$atomicfu$value;
      if (!(state == null) ? isInterface(state, NotCompleted) : false) {
        var update = resumedState($this, state, proposedUpdate, $this.uo_1, onCancellation, idempotent);
        if (!$this.fo_1.atomicfu$compareAndSet(state, update)) {
          break $l$block;
        }
        detachChildIfNonResuable($this);
        return get_RESUME_TOKEN();
      } else {
        if (state instanceof CompletedContinuation) {
          var tmp;
          if (!(idempotent == null) && state.ep_1 === idempotent) {
            // Inline function 'kotlinx.coroutines.assert' call
            tmp = get_RESUME_TOKEN();
          } else {
            tmp = null;
          }
          return tmp;
        } else {
          return null;
        }
      }
    }
  }
}
function alreadyResumedError($this, proposedUpdate) {
  // Inline function 'kotlin.error' call
  var message = 'Already resumed, but proposed with update ' + toString_0(proposedUpdate);
  throw IllegalStateException_init_$Create$(toString(message));
}
function detachChildIfNonResuable($this) {
  if (!isReusable($this)) {
    $this.kp();
  }
}
function CancellableContinuationImpl$resume$lambda($onCancellation) {
  return function (cause, _unused_var__etf5q3, _unused_var__etf5q3_0) {
    $onCancellation(cause);
    return Unit_instance;
  };
}
function CancellableContinuationImpl(delegate, resumeMode) {
  DispatchedTask.call(this, resumeMode);
  this.co_1 = delegate;
  // Inline function 'kotlinx.coroutines.assert' call
  this.do_1 = this.co_1.q8();
  var tmp = this;
  // Inline function 'kotlinx.coroutines.decisionAndIndex' call
  var tmp$ret$0 = (0 << 29) + 536870911 | 0;
  tmp.eo_1 = atomic$int$1(tmp$ret$0);
  this.fo_1 = atomic$ref$1(Active_instance);
  this.go_1 = atomic$ref$1(null);
}
protoOf(CancellableContinuationImpl).lp = function () {
  return this.co_1;
};
protoOf(CancellableContinuationImpl).q8 = function () {
  return this.do_1;
};
protoOf(CancellableContinuationImpl).rl = function () {
  return this.fo_1.kotlinx$atomicfu$value;
};
protoOf(CancellableContinuationImpl).sl = function () {
  var tmp = this.rl();
  return !(!(tmp == null) ? isInterface(tmp, NotCompleted) : false);
};
protoOf(CancellableContinuationImpl).tl = function () {
  var tmp = this.rl();
  return tmp instanceof CancelledContinuation;
};
protoOf(CancellableContinuationImpl).mp = function () {
  var tmp0_elvis_lhs = installParentHandle(this);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return Unit_instance;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var handle = tmp;
  if (this.sl()) {
    handle.ko();
    this.go_1.kotlinx$atomicfu$value = NonDisposableHandle_instance;
  }
};
protoOf(CancellableContinuationImpl).so = function () {
  // Inline function 'kotlinx.coroutines.assert' call
  // Inline function 'kotlinx.coroutines.assert' call
  var state = this.fo_1.kotlinx$atomicfu$value;
  // Inline function 'kotlinx.coroutines.assert' call
  var tmp;
  if (state instanceof CompletedContinuation) {
    tmp = !(state.ep_1 == null);
  } else {
    tmp = false;
  }
  if (tmp) {
    this.kp();
    return false;
  }
  var tmp_0 = this.eo_1;
  // Inline function 'kotlinx.coroutines.decisionAndIndex' call
  tmp_0.kotlinx$atomicfu$value = (0 << 29) + 536870911 | 0;
  this.fo_1.kotlinx$atomicfu$value = Active_instance;
  return true;
};
protoOf(CancellableContinuationImpl).np = function () {
  return this.rl();
};
protoOf(CancellableContinuationImpl).op = function (takenState, cause) {
  var this_0 = this.fo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.cancelCompletedResult.<anonymous>' call
    var state = this_0.kotlinx$atomicfu$value;
    if (!(state == null) ? isInterface(state, NotCompleted) : false) {
      // Inline function 'kotlin.error' call
      var message = 'Not completed';
      throw IllegalStateException_init_$Create$(toString(message));
    } else {
      if (state instanceof CompletedExceptionally)
        return Unit_instance;
      else {
        if (state instanceof CompletedContinuation) {
          // Inline function 'kotlin.check' call
          // Inline function 'kotlin.contracts.contract' call
          if (!!state.hp()) {
            // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.cancelCompletedResult.<anonymous>.<anonymous>' call
            var message_0 = 'Must be called at most once';
            throw IllegalStateException_init_$Create$(toString(message_0));
          }
          var update = state.ip(VOID, VOID, VOID, VOID, cause);
          if (this.fo_1.atomicfu$compareAndSet(state, update)) {
            state.pp(this, cause);
            return Unit_instance;
          }
        } else {
          if (this.fo_1.atomicfu$compareAndSet(state, new CompletedContinuation(state, VOID, VOID, VOID, cause))) {
            return Unit_instance;
          }
        }
      }
    }
  }
  return Unit_instance;
};
protoOf(CancellableContinuationImpl).qp = function (cause) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = this.fo_1;
  while (true) {
    $l$block: {
      // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.cancel.<anonymous>' call
      var state = this_0.kotlinx$atomicfu$value;
      if (!(!(state == null) ? isInterface(state, NotCompleted) : false))
        return false;
      var tmp;
      if (isInterface(state, CancelHandler)) {
        tmp = true;
      } else {
        tmp = state instanceof Segment;
      }
      var update = new CancelledContinuation(this, cause, tmp);
      if (!this.fo_1.atomicfu$compareAndSet(state, update)) {
        break $l$block;
      }
      if (isInterface(state, CancelHandler)) {
        this.gp(state, cause);
      } else {
        if (state instanceof Segment) {
          callSegmentOnCancellation(this, state, cause);
        }
      }
      detachChildIfNonResuable(this);
      dispatchResume(this, this.uo_1);
      return true;
    }
  }
};
protoOf(CancellableContinuationImpl).rp = function (cause) {
  if (cancelLater(this, cause))
    return Unit_instance;
  this.qp(cause);
  detachChildIfNonResuable(this);
};
protoOf(CancellableContinuationImpl).gp = function (handler, cause) {
  var tmp;
  try {
    handler.jo(cause);
    tmp = Unit_instance;
  } catch ($p) {
    var tmp_0;
    if ($p instanceof Error) {
      var ex = $p;
      handleCoroutineException(this.q8(), new CompletionHandlerException('Exception in invokeOnCancellation handler for ' + this.toString(), ex));
      tmp_0 = Unit_instance;
    } else {
      throw $p;
    }
    tmp = tmp_0;
  }
  return tmp;
};
protoOf(CancellableContinuationImpl).sp = function (onCancellation, cause, value) {
  try {
    onCancellation(cause, value, this.q8());
  } catch ($p) {
    if ($p instanceof Error) {
      var ex = $p;
      handleCoroutineException(this.q8(), new CompletionHandlerException('Exception in resume onCancellation handler for ' + this.toString(), ex));
    } else {
      throw $p;
    }
  }
};
protoOf(CancellableContinuationImpl).tp = function (parent) {
  return parent.wl();
};
protoOf(CancellableContinuationImpl).up = function () {
  var isReusable_0 = isReusable(this);
  if (trySuspend(this)) {
    if (_get_parentHandle__f8dcex(this) == null) {
      installParentHandle(this);
    }
    if (isReusable_0) {
      this.vp();
    }
    return get_COROUTINE_SUSPENDED();
  }
  if (isReusable_0) {
    this.vp();
  }
  var state = this.rl();
  if (state instanceof CompletedExceptionally)
    throw recoverStackTrace(state.dl_1, this);
  if (get_isCancellableMode(this.uo_1)) {
    var job = this.q8().x8(Key_instance_3);
    if (!(job == null) && !job.yk()) {
      var cause = job.wl();
      this.op(state, cause);
      throw recoverStackTrace(cause, this);
    }
  }
  return this.wp(state);
};
protoOf(CancellableContinuationImpl).vp = function () {
  var tmp = this.co_1;
  var tmp10_safe_receiver = tmp instanceof DispatchedContinuation ? tmp : null;
  var tmp0_elvis_lhs = tmp10_safe_receiver == null ? null : tmp10_safe_receiver.xp(this);
  var tmp_0;
  if (tmp0_elvis_lhs == null) {
    return Unit_instance;
  } else {
    tmp_0 = tmp0_elvis_lhs;
  }
  var cancellationCause = tmp_0;
  this.kp();
  this.qp(cancellationCause);
};
protoOf(CancellableContinuationImpl).v8 = function (result) {
  return this.yp(toState(result, this), this.uo_1);
};
protoOf(CancellableContinuationImpl).zp = function (value, onCancellation) {
  var tmp = this.uo_1;
  var tmp_0;
  if (onCancellation == null) {
    tmp_0 = null;
  } else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.resume.<anonymous>' call
    tmp_0 = CancellableContinuationImpl$resume$lambda(onCancellation);
  }
  return this.aq(value, tmp, tmp_0);
};
protoOf(CancellableContinuationImpl).ao = function (value, onCancellation) {
  return this.aq(value, this.uo_1, onCancellation);
};
protoOf(CancellableContinuationImpl).bq = function (segment, index) {
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    var this_0 = this.eo_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.invokeOnCancellation.<anonymous>' call
      // Inline function 'kotlin.check' call
      // Inline function 'kotlinx.coroutines.index' call
      // Inline function 'kotlin.contracts.contract' call
      if (!((cur & 536870911) === 536870911)) {
        // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.invokeOnCancellation.<anonymous>.<anonymous>' call
        var message = 'invokeOnCancellation should be called at most once';
        throw IllegalStateException_init_$Create$(toString(message));
      }
      // Inline function 'kotlinx.coroutines.decisionAndIndex' call
      // Inline function 'kotlinx.coroutines.decision' call
      var upd = (cur >> 29 << 29) + index | 0;
      if (this_0.atomicfu$compareAndSet(cur, upd)) {
        break $l$block;
      }
    }
  }
  invokeOnCancellationImpl(this, segment);
};
protoOf(CancellableContinuationImpl).yn = function (handler) {
  return invokeOnCancellation(this, new UserSupplied(handler));
};
protoOf(CancellableContinuationImpl).ho = function (handler) {
  return invokeOnCancellationImpl(this, handler);
};
protoOf(CancellableContinuationImpl).aq = function (proposedUpdate, resumeMode, onCancellation) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = this.fo_1;
  while (true) {
    $l$block: {
      // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.resumeImpl.<anonymous>' call
      var state = this_0.kotlinx$atomicfu$value;
      if (!(state == null) ? isInterface(state, NotCompleted) : false) {
        var update = resumedState(this, state, proposedUpdate, resumeMode, onCancellation, null);
        if (!this.fo_1.atomicfu$compareAndSet(state, update)) {
          break $l$block;
        }
        detachChildIfNonResuable(this);
        dispatchResume(this, resumeMode);
        return Unit_instance;
      } else {
        if (state instanceof CancelledContinuation) {
          if (state.fq()) {
            if (onCancellation == null)
              null;
            else {
              // Inline function 'kotlin.let' call
              // Inline function 'kotlin.contracts.contract' call
              this.sp(onCancellation, state.dl_1, proposedUpdate);
            }
            return Unit_instance;
          }
        }
      }
      alreadyResumedError(this, proposedUpdate);
    }
  }
};
protoOf(CancellableContinuationImpl).yp = function (proposedUpdate, resumeMode, onCancellation, $super) {
  onCancellation = onCancellation === VOID ? null : onCancellation;
  var tmp;
  if ($super === VOID) {
    this.aq(proposedUpdate, resumeMode, onCancellation);
    tmp = Unit_instance;
  } else {
    tmp = $super.aq.call(this, proposedUpdate, resumeMode, onCancellation);
  }
  return tmp;
};
protoOf(CancellableContinuationImpl).kp = function () {
  var tmp0_elvis_lhs = _get_parentHandle__f8dcex(this);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return Unit_instance;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var handle = tmp;
  handle.ko();
  this.go_1.kotlinx$atomicfu$value = NonDisposableHandle_instance;
};
protoOf(CancellableContinuationImpl).wn = function (value, idempotent, onCancellation) {
  return tryResumeImpl(this, value, idempotent, onCancellation);
};
protoOf(CancellableContinuationImpl).xn = function (token) {
  // Inline function 'kotlinx.coroutines.assert' call
  dispatchResume(this, this.uo_1);
};
protoOf(CancellableContinuationImpl).zn = function (_this__u8e3s4, value) {
  var tmp = this.co_1;
  var dc = tmp instanceof DispatchedContinuation ? tmp : null;
  var tmp_0;
  if ((dc == null ? null : dc.mo_1) === _this__u8e3s4) {
    tmp_0 = 4;
  } else {
    tmp_0 = this.uo_1;
  }
  this.yp(value, tmp_0);
};
protoOf(CancellableContinuationImpl).wp = function (state) {
  var tmp;
  if (state instanceof CompletedContinuation) {
    var tmp_0 = state.bp_1;
    tmp = (tmp_0 == null ? true : !(tmp_0 == null)) ? tmp_0 : THROW_CCE();
  } else {
    tmp = (state == null ? true : !(state == null)) ? state : THROW_CCE();
  }
  return tmp;
};
protoOf(CancellableContinuationImpl).gq = function (state) {
  var tmp20_safe_receiver = protoOf(DispatchedTask).gq.call(this, state);
  var tmp;
  if (tmp20_safe_receiver == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.CancellableContinuationImpl.getExceptionalResult.<anonymous>' call
    tmp = recoverStackTrace(tmp20_safe_receiver, this.co_1);
  }
  return tmp;
};
protoOf(CancellableContinuationImpl).toString = function () {
  return this.hq() + '(' + toDebugString(this.co_1) + '){' + _get_stateDebugRepresentation__bf18u4(this) + '}@' + get_hexAddress(this);
};
protoOf(CancellableContinuationImpl).hq = function () {
  return 'CancellableContinuation';
};
function NotCompleted() {
}
function UserSupplied(handler) {
  this.kq_1 = handler;
}
protoOf(UserSupplied).jo = function (cause) {
  this.kq_1(cause);
};
protoOf(UserSupplied).toString = function () {
  return 'CancelHandler.UserSupplied[' + get_classSimpleName(this.kq_1) + '@' + get_hexAddress(this) + ']';
};
function CancelHandler() {
}
function Active() {
}
protoOf(Active).toString = function () {
  return 'Active';
};
var Active_instance;
function Active_getInstance() {
  return Active_instance;
}
function CompletedContinuation(result, cancelHandler, onCancellation, idempotentResume, cancelCause) {
  cancelHandler = cancelHandler === VOID ? null : cancelHandler;
  onCancellation = onCancellation === VOID ? null : onCancellation;
  idempotentResume = idempotentResume === VOID ? null : idempotentResume;
  cancelCause = cancelCause === VOID ? null : cancelCause;
  this.bp_1 = result;
  this.cp_1 = cancelHandler;
  this.dp_1 = onCancellation;
  this.ep_1 = idempotentResume;
  this.fp_1 = cancelCause;
}
protoOf(CompletedContinuation).hp = function () {
  return !(this.fp_1 == null);
};
protoOf(CompletedContinuation).pp = function (cont, cause) {
  var tmp21_safe_receiver = this.cp_1;
  if (tmp21_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    cont.gp(tmp21_safe_receiver, cause);
  }
  var tmp22_safe_receiver = this.dp_1;
  if (tmp22_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    cont.sp(tmp22_safe_receiver, cause, this.bp_1);
  }
};
protoOf(CompletedContinuation).lq = function (result, cancelHandler, onCancellation, idempotentResume, cancelCause) {
  return new CompletedContinuation(result, cancelHandler, onCancellation, idempotentResume, cancelCause);
};
protoOf(CompletedContinuation).ip = function (result, cancelHandler, onCancellation, idempotentResume, cancelCause, $super) {
  result = result === VOID ? this.bp_1 : result;
  cancelHandler = cancelHandler === VOID ? this.cp_1 : cancelHandler;
  onCancellation = onCancellation === VOID ? this.dp_1 : onCancellation;
  idempotentResume = idempotentResume === VOID ? this.ep_1 : idempotentResume;
  cancelCause = cancelCause === VOID ? this.fp_1 : cancelCause;
  return $super === VOID ? this.lq(result, cancelHandler, onCancellation, idempotentResume, cancelCause) : $super.lq.call(this, result, cancelHandler, onCancellation, idempotentResume, cancelCause);
};
protoOf(CompletedContinuation).toString = function () {
  return 'CompletedContinuation(result=' + toString_0(this.bp_1) + ', cancelHandler=' + toString_0(this.cp_1) + ', onCancellation=' + toString_0(this.dp_1) + ', idempotentResume=' + toString_0(this.ep_1) + ', cancelCause=' + toString_0(this.fp_1) + ')';
};
protoOf(CompletedContinuation).hashCode = function () {
  var result = this.bp_1 == null ? 0 : hashCode(this.bp_1);
  result = imul(result, 31) + (this.cp_1 == null ? 0 : hashCode(this.cp_1)) | 0;
  result = imul(result, 31) + (this.dp_1 == null ? 0 : hashCode(this.dp_1)) | 0;
  result = imul(result, 31) + (this.ep_1 == null ? 0 : hashCode(this.ep_1)) | 0;
  result = imul(result, 31) + (this.fp_1 == null ? 0 : hashCode(this.fp_1)) | 0;
  return result;
};
protoOf(CompletedContinuation).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof CompletedContinuation))
    return false;
  var tmp0_other_with_cast = other instanceof CompletedContinuation ? other : THROW_CCE();
  if (!equals(this.bp_1, tmp0_other_with_cast.bp_1))
    return false;
  if (!equals(this.cp_1, tmp0_other_with_cast.cp_1))
    return false;
  if (!equals(this.dp_1, tmp0_other_with_cast.dp_1))
    return false;
  if (!equals(this.ep_1, tmp0_other_with_cast.ep_1))
    return false;
  if (!equals(this.fp_1, tmp0_other_with_cast.fp_1))
    return false;
  return true;
};
function ChildContinuation(child) {
  JobNode.call(this);
  this.qq_1 = child;
}
protoOf(ChildContinuation).rq = function () {
  return true;
};
protoOf(ChildContinuation).jo = function (cause) {
  this.qq_1.rp(this.qq_1.tp(this.wq()));
};
var properties_initialized_CancellableContinuationImpl_kt_xtzb03;
function _init_properties_CancellableContinuationImpl_kt__6rrtdd() {
  if (!properties_initialized_CancellableContinuationImpl_kt_xtzb03) {
    properties_initialized_CancellableContinuationImpl_kt_xtzb03 = true;
    RESUME_TOKEN = new Symbol('RESUME_TOKEN');
  }
}
function CompletableDeferred(parent) {
  parent = parent === VOID ? null : parent;
  return new CompletableDeferredImpl(parent);
}
function $awaitCOROUTINE$2(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.mr_1 = _this__u8e3s4;
}
protoOf($awaitCOROUTINE$2).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 2;
          this.k8_1 = 1;
          suspendResult = this.mr_1.vm(this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          return (suspendResult == null ? true : !(suspendResult == null)) ? suspendResult : THROW_CCE();
        case 2:
          throw this.n8_1;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 2) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function CompletableDeferredImpl(parent) {
  JobSupport.call(this, true);
  this.tk(parent);
}
protoOf(CompletableDeferredImpl).em = function () {
  return true;
};
protoOf(CompletableDeferredImpl).qn = function () {
  var tmp = this.um();
  return (tmp == null ? true : !(tmp == null)) ? tmp : THROW_CCE();
};
protoOf(CompletableDeferredImpl).rn = function ($completion) {
  var tmp = new $awaitCOROUTINE$2(this, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
protoOf(CompletableDeferredImpl).pr = function (value) {
  return this.qr(value);
};
protoOf(CompletableDeferredImpl).rr = function (exception) {
  return this.qr(new CompletedExceptionally(exception));
};
function CompletableJob() {
}
function CompletedExceptionally(cause, handled) {
  handled = handled === VOID ? false : handled;
  this.dl_1 = cause;
  this.el_1 = atomic$boolean$1(handled);
}
protoOf(CompletedExceptionally).fl = function () {
  return this.el_1.kotlinx$atomicfu$value;
};
protoOf(CompletedExceptionally).jp = function () {
  return this.el_1.atomicfu$compareAndSet(false, true);
};
protoOf(CompletedExceptionally).toString = function () {
  return get_classSimpleName(this) + '[' + this.dl_1.toString() + ']';
};
function CancelledContinuation(continuation, cause, handled) {
  CompletedExceptionally.call(this, cause == null ? CancellationException_init_$Create$('Continuation ' + toString(continuation) + ' was cancelled normally') : cause, handled);
  this.eq_1 = atomic$boolean$1(false);
}
protoOf(CancelledContinuation).fq = function () {
  return this.eq_1.atomicfu$compareAndSet(false, true);
};
function toState(_this__u8e3s4, caller) {
  // Inline function 'kotlin.getOrElse' call
  // Inline function 'kotlin.contracts.contract' call
  var exception = Result__exceptionOrNull_impl_p6xea9(_this__u8e3s4);
  var tmp;
  if (exception == null) {
    var tmp_0 = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
    tmp = (tmp_0 == null ? true : !(tmp_0 == null)) ? tmp_0 : THROW_CCE();
  } else {
    // Inline function 'kotlinx.coroutines.toState.<anonymous>' call
    tmp = new CompletedExceptionally(recoverStackTrace(exception, caller));
  }
  return tmp;
}
function toState_0(_this__u8e3s4) {
  // Inline function 'kotlin.getOrElse' call
  // Inline function 'kotlin.contracts.contract' call
  var exception = Result__exceptionOrNull_impl_p6xea9(_this__u8e3s4);
  var tmp;
  if (exception == null) {
    var tmp_0 = _Result___get_value__impl__bjfvqg(_this__u8e3s4);
    tmp = (tmp_0 == null ? true : !(tmp_0 == null)) ? tmp_0 : THROW_CCE();
  } else {
    // Inline function 'kotlinx.coroutines.toState.<anonymous>' call
    tmp = new CompletedExceptionally(exception);
  }
  return tmp;
}
function recoverResult(state, uCont) {
  var tmp;
  if (state instanceof CompletedExceptionally) {
    // Inline function 'kotlin.Companion.failure' call
    var exception = recoverStackTrace(state.dl_1, uCont);
    tmp = _Result___init__impl__xyqfz8(createFailure(exception));
  } else {
    // Inline function 'kotlin.Companion.success' call
    var value = (state == null ? true : !(state == null)) ? state : THROW_CCE();
    tmp = _Result___init__impl__xyqfz8(value);
  }
  return tmp;
}
function CoroutineDispatcher$Key$_init_$lambda_akl8b5(it) {
  return it instanceof CoroutineDispatcher ? it : null;
}
function Key() {
  Key_instance_0 = this;
  var tmp = Key_instance;
  AbstractCoroutineContextKey.call(this, tmp, CoroutineDispatcher$Key$_init_$lambda_akl8b5);
}
var Key_instance_0;
function Key_getInstance() {
  if (Key_instance_0 == null)
    new Key();
  return Key_instance_0;
}
function CoroutineDispatcher() {
  Key_getInstance();
  AbstractCoroutineContextElement.call(this, Key_instance);
}
protoOf(CoroutineDispatcher).vr = function (context) {
  return true;
};
protoOf(CoroutineDispatcher).y8 = function (continuation) {
  return new DispatchedContinuation(this, continuation);
};
protoOf(CoroutineDispatcher).z8 = function (continuation) {
  var dispatched = continuation instanceof DispatchedContinuation ? continuation : THROW_CCE();
  dispatched.xr();
};
protoOf(CoroutineDispatcher).toString = function () {
  return get_classSimpleName(this) + '@' + get_hexAddress(this);
};
function handleCoroutineException(context, exception) {
  try {
    var tmp23_safe_receiver = context.x8(Key_instance_1);
    if (tmp23_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      // Inline function 'kotlin.contracts.contract' call
      tmp23_safe_receiver.yr(context, exception);
      return Unit_instance;
    }
  } catch ($p) {
    if ($p instanceof Error) {
      var t = $p;
      handleUncaughtCoroutineException(context, handlerException(exception, t));
      return Unit_instance;
    } else {
      throw $p;
    }
  }
  handleUncaughtCoroutineException(context, exception);
}
function Key_0() {
}
var Key_instance_1;
function Key_getInstance_0() {
  return Key_instance_1;
}
function handlerException(originalException, thrownException) {
  if (originalException === thrownException)
    return originalException;
  // Inline function 'kotlin.apply' call
  var this_0 = RuntimeException_init_$Create$('Exception while trying to handle coroutine exception', thrownException);
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.handlerException.<anonymous>' call
  addSuppressed(this_0, originalException);
  return this_0;
}
function Key_1() {
}
var Key_instance_2;
function Key_getInstance_1() {
  return Key_instance_2;
}
function CoroutineName(name) {
  AbstractCoroutineContextElement.call(this, Key_instance_2);
  this.as_1 = name;
}
protoOf(CoroutineName).toString = function () {
  return 'CoroutineName(' + this.as_1 + ')';
};
protoOf(CoroutineName).hashCode = function () {
  return getStringHashCode(this.as_1);
};
protoOf(CoroutineName).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof CoroutineName))
    return false;
  var tmp0_other_with_cast = other instanceof CoroutineName ? other : THROW_CCE();
  if (!(this.as_1 === tmp0_other_with_cast.as_1))
    return false;
  return true;
};
function CoroutineScope() {
}
function GlobalScope() {
}
protoOf(GlobalScope).xk = function () {
  return EmptyCoroutineContext_getInstance();
};
var GlobalScope_instance;
function GlobalScope_getInstance() {
  return GlobalScope_instance;
}
function cancel(_this__u8e3s4, message, cause) {
  cause = cause === VOID ? null : cause;
  return cancel_0(_this__u8e3s4, CancellationException_0(message, cause));
}
function cancel_0(_this__u8e3s4, cause) {
  cause = cause === VOID ? null : cause;
  var tmp0_elvis_lhs = _this__u8e3s4.xk().x8(Key_instance_3);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    var message = 'Scope cannot be cancelled because it does not have a job: ' + toString(_this__u8e3s4);
    throw IllegalStateException_init_$Create$(toString(message));
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var job = tmp;
  job.fm(cause);
}
function CoroutineScope_0(context) {
  return new ContextScope(!(context.x8(Key_instance_3) == null) ? context : context.se(Job_0()));
}
var CoroutineStart_DEFAULT_instance;
var CoroutineStart_LAZY_instance;
var CoroutineStart_ATOMIC_instance;
var CoroutineStart_UNDISPATCHED_instance;
var CoroutineStart_entriesInitialized;
function CoroutineStart_initEntries() {
  if (CoroutineStart_entriesInitialized)
    return Unit_instance;
  CoroutineStart_entriesInitialized = true;
  CoroutineStart_DEFAULT_instance = new CoroutineStart('DEFAULT', 0);
  CoroutineStart_LAZY_instance = new CoroutineStart('LAZY', 1);
  CoroutineStart_ATOMIC_instance = new CoroutineStart('ATOMIC', 2);
  CoroutineStart_UNDISPATCHED_instance = new CoroutineStart('UNDISPATCHED', 3);
}
function CoroutineStart(name, ordinal) {
  Enum.call(this, name, ordinal);
}
protoOf(CoroutineStart).ol = function (block, receiver, completion) {
  var tmp;
  switch (this.n2_1) {
    case 0:
      startCoroutineCancellable_0(block, receiver, completion);
      tmp = Unit_instance;
      break;
    case 2:
      startCoroutine(block, receiver, completion);
      tmp = Unit_instance;
      break;
    case 3:
      startCoroutineUndispatched(block, receiver, completion);
      tmp = Unit_instance;
      break;
    case 1:
      tmp = Unit_instance;
      break;
    default:
      noWhenBranchMatchedException();
      break;
  }
  return tmp;
};
protoOf(CoroutineStart).wm = function () {
  return this === CoroutineStart_LAZY_getInstance();
};
function CoroutineStart_DEFAULT_getInstance() {
  CoroutineStart_initEntries();
  return CoroutineStart_DEFAULT_instance;
}
function CoroutineStart_LAZY_getInstance() {
  CoroutineStart_initEntries();
  return CoroutineStart_LAZY_instance;
}
function CoroutineStart_UNDISPATCHED_getInstance() {
  CoroutineStart_initEntries();
  return CoroutineStart_UNDISPATCHED_instance;
}
function CopyableThrowable() {
}
function Delay() {
}
function get_delay(_this__u8e3s4) {
  var tmp = _this__u8e3s4.x8(Key_instance);
  var tmp0_elvis_lhs = (!(tmp == null) ? isInterface(tmp, Delay) : false) ? tmp : null;
  return tmp0_elvis_lhs == null ? get_DefaultDelay() : tmp0_elvis_lhs;
}
function delay(timeMillis, $completion) {
  if (timeMillis.e1(new Long(0, 0)) <= 0)
    return Unit_instance;
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutine.<anonymous>' call
  var cancellable = new CancellableContinuationImpl(intercepted($completion), 1);
  cancellable.mp();
  // Inline function 'kotlinx.coroutines.delay.<anonymous>' call
  if (timeMillis.e1(new Long(-1, 2147483647)) < 0) {
    get_delay(cancellable.q8()).cs(timeMillis, cancellable);
  }
  return cancellable.up();
}
function DelayWithTimeoutDiagnostics() {
}
function delta($this, unconfined) {
  return unconfined ? new Long(0, 1) : new Long(1, 0);
}
function EventLoop() {
  CoroutineDispatcher.call(this);
  this.gs_1 = new Long(0, 0);
  this.hs_1 = false;
  this.is_1 = null;
}
protoOf(EventLoop).js = function () {
  var tmp0_elvis_lhs = this.is_1;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return false;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var queue = tmp;
  var tmp1_elvis_lhs = queue.hd();
  var tmp_0;
  if (tmp1_elvis_lhs == null) {
    return false;
  } else {
    tmp_0 = tmp1_elvis_lhs;
  }
  var task = tmp_0;
  task.iq();
  return true;
};
protoOf(EventLoop).ks = function (task) {
  var tmp0_elvis_lhs = this.is_1;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    // Inline function 'kotlin.also' call
    var this_0 = ArrayDeque_init_$Create$();
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.EventLoop.dispatchUnconfined.<anonymous>' call
    this.is_1 = this_0;
    tmp = this_0;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var queue = tmp;
  queue.fd(task);
};
protoOf(EventLoop).ls = function () {
  return this.gs_1.e1(delta(this, true)) >= 0;
};
protoOf(EventLoop).ms = function () {
  var tmp27_safe_receiver = this.is_1;
  var tmp0_elvis_lhs = tmp27_safe_receiver == null ? null : tmp27_safe_receiver.h();
  return tmp0_elvis_lhs == null ? true : tmp0_elvis_lhs;
};
protoOf(EventLoop).ns = function (unconfined) {
  this.gs_1 = this.gs_1.t2(delta(this, unconfined));
  if (!unconfined)
    this.hs_1 = true;
};
protoOf(EventLoop).os = function (unconfined) {
  this.gs_1 = this.gs_1.u2(delta(this, unconfined));
  if (this.gs_1.e1(new Long(0, 0)) > 0)
    return Unit_instance;
  // Inline function 'kotlinx.coroutines.assert' call
  if (this.hs_1) {
    this.ps();
  }
};
protoOf(EventLoop).ps = function () {
};
function ThreadLocalEventLoop() {
  ThreadLocalEventLoop_instance = this;
  this.qs_1 = commonThreadLocal(new Symbol('ThreadLocalEventLoop'));
}
protoOf(ThreadLocalEventLoop).rs = function () {
  var tmp0_elvis_lhs = this.qs_1.ts();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    // Inline function 'kotlin.also' call
    var this_0 = createEventLoop();
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.ThreadLocalEventLoop.<get-eventLoop>.<anonymous>' call
    ThreadLocalEventLoop_getInstance().qs_1.us(this_0);
    tmp = this_0;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
};
var ThreadLocalEventLoop_instance;
function ThreadLocalEventLoop_getInstance() {
  if (ThreadLocalEventLoop_instance == null)
    new ThreadLocalEventLoop();
  return ThreadLocalEventLoop_instance;
}
function CompletionHandlerException(message, cause) {
  RuntimeException_init_$Init$(message, cause, this);
  captureStack(this, CompletionHandlerException);
}
function CoroutinesInternalError(message, cause) {
  Error_init_$Init$(message, cause, this);
  captureStack(this, CoroutinesInternalError);
}
function Key_2() {
}
var Key_instance_3;
function Key_getInstance_2() {
  return Key_instance_3;
}
function Job() {
}
function ParentJob() {
}
function NonDisposableHandle() {
}
protoOf(NonDisposableHandle).ko = function () {
};
protoOf(NonDisposableHandle).jm = function (cause) {
  return false;
};
protoOf(NonDisposableHandle).toString = function () {
  return 'NonDisposableHandle';
};
var NonDisposableHandle_instance;
function NonDisposableHandle_getInstance() {
  return NonDisposableHandle_instance;
}
function ensureActive(_this__u8e3s4) {
  var tmp41_safe_receiver = _this__u8e3s4.x8(Key_instance_3);
  if (tmp41_safe_receiver == null)
    null;
  else {
    ensureActive_0(tmp41_safe_receiver);
  }
}
function invokeOnCompletion(_this__u8e3s4, invokeImmediately, handler) {
  invokeImmediately = invokeImmediately === VOID ? true : invokeImmediately;
  var tmp;
  if (_this__u8e3s4 instanceof JobSupport) {
    tmp = _this__u8e3s4.cm(invokeImmediately, handler);
  } else {
    var tmp_0 = handler.rq();
    tmp = _this__u8e3s4.am(tmp_0, invokeImmediately, JobNode$invoke$ref(handler));
  }
  return tmp;
}
function ensureActive_0(_this__u8e3s4) {
  if (!_this__u8e3s4.yk())
    throw _this__u8e3s4.wl();
}
function cancel_1(_this__u8e3s4, message, cause) {
  cause = cause === VOID ? null : cause;
  return _this__u8e3s4.fm(CancellationException_0(message, cause));
}
function Job_0(parent) {
  parent = parent === VOID ? null : parent;
  return new JobImpl(parent);
}
function get_job(_this__u8e3s4) {
  var tmp0_elvis_lhs = _this__u8e3s4.x8(Key_instance_3);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    var message = "Current context doesn't contain Job in it: " + toString(_this__u8e3s4);
    throw IllegalStateException_init_$Create$(toString(message));
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
}
function cancel_2(_this__u8e3s4, cause) {
  cause = cause === VOID ? null : cause;
  var tmp40_safe_receiver = _this__u8e3s4.x8(Key_instance_3);
  if (tmp40_safe_receiver == null)
    null;
  else {
    tmp40_safe_receiver.fm(cause);
  }
}
function disposeOnCompletion(_this__u8e3s4, handle) {
  return invokeOnCompletion(_this__u8e3s4, VOID, new DisposeOnCompletion(handle));
}
function DisposeOnCompletion(handle) {
  JobNode.call(this);
  this.zs_1 = handle;
}
protoOf(DisposeOnCompletion).rq = function () {
  return false;
};
protoOf(DisposeOnCompletion).jo = function (cause) {
  return this.zs_1.ko();
};
function JobNode$invoke$ref($boundThis) {
  var l = function (p0) {
    $boundThis.jo(p0);
    return Unit_instance;
  };
  l.callableName = 'invoke';
  return l;
}
function get_COMPLETING_ALREADY() {
  _init_properties_JobSupport_kt__68f172();
  return COMPLETING_ALREADY;
}
var COMPLETING_ALREADY;
function get_COMPLETING_WAITING_CHILDREN() {
  _init_properties_JobSupport_kt__68f172();
  return COMPLETING_WAITING_CHILDREN;
}
var COMPLETING_WAITING_CHILDREN;
function get_COMPLETING_RETRY() {
  _init_properties_JobSupport_kt__68f172();
  return COMPLETING_RETRY;
}
var COMPLETING_RETRY;
function get_TOO_LATE_TO_CANCEL() {
  _init_properties_JobSupport_kt__68f172();
  return TOO_LATE_TO_CANCEL;
}
var TOO_LATE_TO_CANCEL;
function get_SEALED() {
  _init_properties_JobSupport_kt__68f172();
  return SEALED;
}
var SEALED;
function get_EMPTY_NEW() {
  _init_properties_JobSupport_kt__68f172();
  return EMPTY_NEW;
}
var EMPTY_NEW;
function get_EMPTY_ACTIVE() {
  _init_properties_JobSupport_kt__68f172();
  return EMPTY_ACTIVE;
}
var EMPTY_ACTIVE;
function Empty(isActive) {
  this.at_1 = isActive;
}
protoOf(Empty).yk = function () {
  return this.at_1;
};
protoOf(Empty).xq = function () {
  return null;
};
protoOf(Empty).toString = function () {
  return 'Empty{' + (this.at_1 ? 'Active' : 'New') + '}';
};
function Incomplete() {
}
function NodeList() {
  LockFreeLinkedListHead.call(this);
}
protoOf(NodeList).yk = function () {
  return true;
};
protoOf(NodeList).xq = function () {
  return this;
};
protoOf(NodeList).et = function (state) {
  // Inline function 'kotlin.text.buildString' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlin.apply' call
  var this_0 = StringBuilder_init_$Create$();
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.NodeList.getString.<anonymous>' call
  this_0.w7('List{');
  this_0.w7(state);
  this_0.w7('}[');
  var first = true;
  // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListHead.forEach' call
  var cur = this.yq_1;
  while (!equals(cur, this)) {
    // Inline function 'kotlinx.coroutines.NodeList.getString.<anonymous>.<anonymous>' call
    var node = cur;
    if (node instanceof JobNode) {
      if (first) {
        first = false;
      } else
        this_0.w7(', ');
      this_0.v7(node);
    }
    cur = cur.yq_1;
  }
  this_0.w7(']');
  return this_0.toString();
};
protoOf(NodeList).toString = function () {
  return get_DEBUG() ? this.et('Active') : protoOf(LockFreeLinkedListHead).toString.call(this);
};
function JobNode() {
  LockFreeLinkedListNode.call(this);
}
protoOf(JobNode).wq = function () {
  var tmp = this.vq_1;
  if (!(tmp == null))
    return tmp;
  else {
    throwUninitializedPropertyAccessException('job');
  }
};
protoOf(JobNode).yk = function () {
  return true;
};
protoOf(JobNode).xq = function () {
  return null;
};
protoOf(JobNode).ko = function () {
  return this.wq().dm(this);
};
protoOf(JobNode).toString = function () {
  return get_classSimpleName(this) + '@' + get_hexAddress(this) + '[job@' + get_hexAddress(this.wq()) + ']';
};
function _set_exceptionsHolder__tqm22h($this, value) {
  $this.jt_1.kotlinx$atomicfu$value = value;
}
function _get_exceptionsHolder__nhszp($this) {
  return $this.jt_1.kotlinx$atomicfu$value;
}
function allocateList($this) {
  return ArrayList_init_$Create$(4);
}
function finalizeFinishingState($this, state, proposedUpdate) {
  // Inline function 'kotlinx.coroutines.assert' call
  // Inline function 'kotlinx.coroutines.assert' call
  // Inline function 'kotlinx.coroutines.assert' call
  var tmp46_safe_receiver = proposedUpdate instanceof CompletedExceptionally ? proposedUpdate : null;
  var proposedException = tmp46_safe_receiver == null ? null : tmp46_safe_receiver.dl_1;
  var wasCancelling;
  // Inline function 'kotlinx.coroutines.internal.synchronized' call
  // Inline function 'kotlinx.coroutines.internal.synchronizedImpl' call
  // Inline function 'kotlinx.coroutines.JobSupport.finalizeFinishingState.<anonymous>' call
  wasCancelling = state.kt();
  var exceptions = state.lt(proposedException);
  var finalCause = getFinalRootCause($this, state, exceptions);
  if (!(finalCause == null)) {
    addSuppressedExceptions($this, finalCause, exceptions);
  }
  var finalException = finalCause;
  var finalState = finalException == null ? proposedUpdate : finalException === proposedException ? proposedUpdate : new CompletedExceptionally(finalException);
  if (!(finalException == null)) {
    var handled = cancelParent($this, finalException) || $this.rm(finalException);
    if (handled) {
      (finalState instanceof CompletedExceptionally ? finalState : THROW_CCE()).jp();
    }
  }
  if (!wasCancelling) {
    $this.om(finalException);
  }
  $this.cl(finalState);
  var casSuccess = $this.rk_1.atomicfu$compareAndSet(state, boxIncomplete(finalState));
  // Inline function 'kotlinx.coroutines.assert' call
  completeStateFinalization($this, state, finalState);
  return finalState;
}
function getFinalRootCause($this, state, exceptions) {
  if (exceptions.h()) {
    if (state.kt()) {
      // Inline function 'kotlinx.coroutines.JobSupport.defaultCancellationException' call
      return new JobCancellationException(null == null ? $this.bl() : null, null, $this);
    }
    return null;
  }
  var tmp$ret$2;
  $l$block: {
    // Inline function 'kotlin.collections.firstOrNull' call
    var tmp0_iterator = exceptions.m();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      // Inline function 'kotlinx.coroutines.JobSupport.getFinalRootCause.<anonymous>' call
      if (!(element instanceof CancellationException)) {
        tmp$ret$2 = element;
        break $l$block;
      }
    }
    tmp$ret$2 = null;
  }
  var firstNonCancellation = tmp$ret$2;
  if (!(firstNonCancellation == null))
    return firstNonCancellation;
  var first = exceptions.u(0);
  if (first instanceof TimeoutCancellationException) {
    var tmp$ret$4;
    $l$block_0: {
      // Inline function 'kotlin.collections.firstOrNull' call
      var tmp0_iterator_0 = exceptions.m();
      while (tmp0_iterator_0.n()) {
        var element_0 = tmp0_iterator_0.o();
        // Inline function 'kotlinx.coroutines.JobSupport.getFinalRootCause.<anonymous>' call
        var tmp;
        if (!(element_0 === first)) {
          tmp = element_0 instanceof TimeoutCancellationException;
        } else {
          tmp = false;
        }
        if (tmp) {
          tmp$ret$4 = element_0;
          break $l$block_0;
        }
      }
      tmp$ret$4 = null;
    }
    var detailedTimeoutException = tmp$ret$4;
    if (!(detailedTimeoutException == null))
      return detailedTimeoutException;
  }
  return first;
}
function addSuppressedExceptions($this, rootCause, exceptions) {
  if (exceptions.p() <= 1)
    return Unit_instance;
  var seenExceptions = identitySet(exceptions.p());
  var unwrappedCause = unwrap(rootCause);
  var _iterator__ex2g4s = exceptions.m();
  while (_iterator__ex2g4s.n()) {
    var exception = _iterator__ex2g4s.o();
    var unwrapped = unwrap(exception);
    var tmp;
    var tmp_0;
    if (!(unwrapped === rootCause) && !(unwrapped === unwrappedCause)) {
      tmp_0 = !(unwrapped instanceof CancellationException);
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = seenExceptions.k(unwrapped);
    } else {
      tmp = false;
    }
    if (tmp) {
      addSuppressed(rootCause, unwrapped);
    }
  }
}
function tryFinalizeSimpleState($this, state, update) {
  // Inline function 'kotlinx.coroutines.assert' call
  // Inline function 'kotlinx.coroutines.assert' call
  if (!$this.rk_1.atomicfu$compareAndSet(state, boxIncomplete(update)))
    return false;
  $this.om(null);
  $this.cl(update);
  completeStateFinalization($this, state, update);
  return true;
}
function completeStateFinalization($this, state, update) {
  var tmp47_safe_receiver = $this.ql();
  if (tmp47_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    tmp47_safe_receiver.ko();
    $this.pl(NonDisposableHandle_instance);
  }
  var tmp48_safe_receiver = update instanceof CompletedExceptionally ? update : null;
  var cause = tmp48_safe_receiver == null ? null : tmp48_safe_receiver.dl_1;
  if (state instanceof JobNode) {
    try {
      state.jo(cause);
    } catch ($p) {
      if ($p instanceof Error) {
        var ex = $p;
        $this.jl(new CompletionHandlerException('Exception in completion handler ' + state.toString() + ' for ' + $this.toString(), ex));
      } else {
        throw $p;
      }
    }
  } else {
    var tmp49_safe_receiver = state.xq();
    if (tmp49_safe_receiver == null)
      null;
    else {
      notifyCompletion(tmp49_safe_receiver, $this, cause);
    }
  }
}
function notifyCancelling($this, list, cause) {
  $this.om(cause);
  list.ft(4);
  // Inline function 'kotlinx.coroutines.JobSupport.notifyHandlers' call
  var exception = null;
  // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListHead.forEach' call
  var cur = list.yq_1;
  while (!equals(cur, list)) {
    // Inline function 'kotlinx.coroutines.JobSupport.notifyHandlers.<anonymous>' call
    var node = cur;
    var tmp;
    if (node instanceof JobNode) {
      // Inline function 'kotlinx.coroutines.JobSupport.notifyCancelling.<anonymous>' call
      tmp = node.rq();
    } else {
      tmp = false;
    }
    if (tmp) {
      try {
        node.jo(cause);
      } catch ($p) {
        if ($p instanceof Error) {
          var ex = $p;
          var tmp50_safe_receiver = exception;
          var tmp_0;
          if (tmp50_safe_receiver == null) {
            tmp_0 = null;
          } else {
            // Inline function 'kotlin.apply' call
            // Inline function 'kotlin.contracts.contract' call
            // Inline function 'kotlinx.coroutines.JobSupport.notifyHandlers.<anonymous>.<anonymous>' call
            addSuppressed(tmp50_safe_receiver, ex);
            tmp_0 = tmp50_safe_receiver;
          }
          if (tmp_0 == null) {
            // Inline function 'kotlin.run' call
            // Inline function 'kotlin.contracts.contract' call
            exception = new CompletionHandlerException('Exception in completion handler ' + node.toString() + ' for ' + $this.toString(), ex);
          }
        } else {
          throw $p;
        }
      }
    }
    cur = cur.yq_1;
  }
  var tmp51_safe_receiver = exception;
  if (tmp51_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    $this.jl(tmp51_safe_receiver);
  }
  cancelParent($this, cause);
}
function cancelParent($this, cause) {
  if ($this.pm())
    return true;
  var isCancellation = cause instanceof CancellationException;
  var parent = $this.ql();
  if (parent === null || parent === NonDisposableHandle_instance) {
    return isCancellation;
  }
  return parent.jm(cause) || isCancellation;
}
function notifyCompletion(_this__u8e3s4, $this, cause) {
  _this__u8e3s4.ft(1);
  // Inline function 'kotlinx.coroutines.JobSupport.notifyHandlers' call
  var exception = null;
  // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListHead.forEach' call
  var cur = _this__u8e3s4.yq_1;
  while (!equals(cur, _this__u8e3s4)) {
    // Inline function 'kotlinx.coroutines.JobSupport.notifyHandlers.<anonymous>' call
    var node = cur;
    var tmp;
    if (node instanceof JobNode) {
      // Inline function 'kotlinx.coroutines.JobSupport.notifyCompletion.<anonymous>' call
      tmp = true;
    } else {
      tmp = false;
    }
    if (tmp) {
      try {
        node.jo(cause);
      } catch ($p) {
        if ($p instanceof Error) {
          var ex = $p;
          var tmp50_safe_receiver = exception;
          var tmp_0;
          if (tmp50_safe_receiver == null) {
            tmp_0 = null;
          } else {
            // Inline function 'kotlin.apply' call
            // Inline function 'kotlin.contracts.contract' call
            // Inline function 'kotlinx.coroutines.JobSupport.notifyHandlers.<anonymous>.<anonymous>' call
            addSuppressed(tmp50_safe_receiver, ex);
            tmp_0 = tmp50_safe_receiver;
          }
          if (tmp_0 == null) {
            // Inline function 'kotlin.run' call
            // Inline function 'kotlin.contracts.contract' call
            exception = new CompletionHandlerException('Exception in completion handler ' + node.toString() + ' for ' + $this.toString(), ex);
          }
        } else {
          throw $p;
        }
      }
    }
    cur = cur.yq_1;
  }
  var tmp51_safe_receiver = exception;
  if (tmp51_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    $this.jl(tmp51_safe_receiver);
  }
}
function startInternal($this, state) {
  if (state instanceof Empty) {
    if (state.at_1)
      return 0;
    if (!$this.rk_1.atomicfu$compareAndSet(state, get_EMPTY_ACTIVE()))
      return -1;
    $this.vl();
    return 1;
  } else {
    if (state instanceof InactiveNodeList) {
      if (!$this.rk_1.atomicfu$compareAndSet(state, state.mt_1))
        return -1;
      $this.vl();
      return 1;
    } else {
      return 0;
    }
  }
}
function promoteEmptyToNodeList($this, state) {
  var list = new NodeList();
  var update = state.at_1 ? list : new InactiveNodeList(list);
  $this.rk_1.atomicfu$compareAndSet(state, update);
}
function promoteSingleToNodeList($this, state) {
  state.dr(new NodeList());
  // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListNode.nextNode' call
  var list = state.yq_1;
  $this.rk_1.atomicfu$compareAndSet(state, list);
}
function joinInternal($this) {
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    // Inline function 'kotlinx.coroutines.JobSupport.joinInternal.<anonymous>' call
    var state = $this.rl();
    if (!(!(state == null) ? isInterface(state, Incomplete) : false))
      return false;
    if (startInternal($this, state) >= 0)
      return true;
  }
}
function joinSuspend($this, $completion) {
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutine.<anonymous>' call
  var cancellable = new CancellableContinuationImpl(intercepted($completion), 1);
  cancellable.mp();
  // Inline function 'kotlinx.coroutines.JobSupport.joinSuspend.<anonymous>' call
  disposeOnCancellation(cancellable, invokeOnCompletion($this, VOID, new ResumeOnCompletion(cancellable)));
  return cancellable.up();
}
function cancelMakeCompleting($this, cause) {
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    // Inline function 'kotlinx.coroutines.JobSupport.cancelMakeCompleting.<anonymous>' call
    var state = $this.rl();
    var tmp;
    if (!(!(state == null) ? isInterface(state, Incomplete) : false)) {
      tmp = true;
    } else {
      var tmp_0;
      if (state instanceof Finishing) {
        tmp_0 = state.nt();
      } else {
        tmp_0 = false;
      }
      tmp = tmp_0;
    }
    if (tmp) {
      return get_COMPLETING_ALREADY();
    }
    var proposedUpdate = new CompletedExceptionally(createCauseException($this, cause));
    var finalState = tryMakeCompleting($this, state, proposedUpdate);
    if (!(finalState === get_COMPLETING_RETRY()))
      return finalState;
  }
}
function createCauseException($this, cause) {
  var tmp;
  if (cause == null ? true : cause instanceof Error) {
    var tmp_0;
    if (cause == null) {
      // Inline function 'kotlinx.coroutines.JobSupport.defaultCancellationException' call
      tmp_0 = new JobCancellationException(null == null ? $this.bl() : null, null, $this);
    } else {
      tmp_0 = cause;
    }
    tmp = tmp_0;
  } else {
    tmp = ((!(cause == null) ? isInterface(cause, ParentJob) : false) ? cause : THROW_CCE()).mm();
  }
  return tmp;
}
function makeCancelling($this, cause) {
  var causeExceptionCache = null;
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    $l$block: {
      // Inline function 'kotlinx.coroutines.JobSupport.makeCancelling.<anonymous>' call
      var state = $this.rl();
      if (state instanceof Finishing) {
        // Inline function 'kotlinx.coroutines.internal.synchronized' call
        // Inline function 'kotlinx.coroutines.internal.synchronizedImpl' call
        // Inline function 'kotlinx.coroutines.JobSupport.makeCancelling.<anonymous>.<anonymous>' call
        if (state.ot())
          return get_TOO_LATE_TO_CANCEL();
        var wasCancelling = state.kt();
        if (!(cause == null) || !wasCancelling) {
          var tmp0_elvis_lhs = causeExceptionCache;
          var tmp;
          if (tmp0_elvis_lhs == null) {
            // Inline function 'kotlin.also' call
            var this_0 = createCauseException($this, cause);
            // Inline function 'kotlin.contracts.contract' call
            // Inline function 'kotlinx.coroutines.JobSupport.makeCancelling.<anonymous>.<anonymous>.<anonymous>' call
            causeExceptionCache = this_0;
            tmp = this_0;
          } else {
            tmp = tmp0_elvis_lhs;
          }
          var causeException = tmp;
          state.pt(causeException);
        }
        // Inline function 'kotlin.takeIf' call
        var this_1 = state.qt();
        // Inline function 'kotlin.contracts.contract' call
        var tmp_0;
        // Inline function 'kotlinx.coroutines.JobSupport.makeCancelling.<anonymous>.<anonymous>.<anonymous>' call
        if (!wasCancelling) {
          tmp_0 = this_1;
        } else {
          tmp_0 = null;
        }
        var notifyRootCause = tmp_0;
        if (notifyRootCause == null)
          null;
        else {
          // Inline function 'kotlin.let' call
          // Inline function 'kotlin.contracts.contract' call
          notifyCancelling($this, state.gt_1, notifyRootCause);
        }
        return get_COMPLETING_ALREADY();
      } else {
        if (!(state == null) ? isInterface(state, Incomplete) : false) {
          var tmp0_elvis_lhs_0 = causeExceptionCache;
          var tmp_1;
          if (tmp0_elvis_lhs_0 == null) {
            // Inline function 'kotlin.also' call
            var this_2 = createCauseException($this, cause);
            // Inline function 'kotlin.contracts.contract' call
            // Inline function 'kotlinx.coroutines.JobSupport.makeCancelling.<anonymous>.<anonymous>' call
            causeExceptionCache = this_2;
            tmp_1 = this_2;
          } else {
            tmp_1 = tmp0_elvis_lhs_0;
          }
          var causeException_0 = tmp_1;
          if (state.yk()) {
            if (tryMakeCancelling($this, state, causeException_0))
              return get_COMPLETING_ALREADY();
          } else {
            var finalState = tryMakeCompleting($this, state, new CompletedExceptionally(causeException_0));
            if (finalState === get_COMPLETING_ALREADY()) {
              // Inline function 'kotlin.error' call
              var message = 'Cannot happen in ' + toString(state);
              throw IllegalStateException_init_$Create$(toString(message));
            } else if (finalState === get_COMPLETING_RETRY()) {
              break $l$block;
            } else
              return finalState;
          }
        } else {
          return get_TOO_LATE_TO_CANCEL();
        }
      }
    }
  }
}
function getOrPromoteCancellingList($this, state) {
  var tmp0_elvis_lhs = state.xq();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    var tmp_0;
    if (state instanceof Empty) {
      tmp_0 = new NodeList();
    } else {
      if (state instanceof JobNode) {
        promoteSingleToNodeList($this, state);
        tmp_0 = null;
      } else {
        var message = 'State should have list: ' + toString(state);
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
    tmp = tmp_0;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
}
function tryMakeCancelling($this, state, rootCause) {
  // Inline function 'kotlinx.coroutines.assert' call
  // Inline function 'kotlinx.coroutines.assert' call
  var tmp0_elvis_lhs = getOrPromoteCancellingList($this, state);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return false;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var list = tmp;
  var cancelling = new Finishing(list, false, rootCause);
  if (!$this.rk_1.atomicfu$compareAndSet(state, cancelling))
    return false;
  notifyCancelling($this, list, rootCause);
  return true;
}
function tryMakeCompleting($this, state, proposedUpdate) {
  if (!(!(state == null) ? isInterface(state, Incomplete) : false))
    return get_COMPLETING_ALREADY();
  var tmp;
  var tmp_0;
  var tmp_1;
  if (state instanceof Empty) {
    tmp_1 = true;
  } else {
    tmp_1 = state instanceof JobNode;
  }
  if (tmp_1) {
    tmp_0 = !(state instanceof ChildHandleNode);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = !(proposedUpdate instanceof CompletedExceptionally);
  } else {
    tmp = false;
  }
  if (tmp) {
    if (tryFinalizeSimpleState($this, state, proposedUpdate)) {
      return proposedUpdate;
    }
    return get_COMPLETING_RETRY();
  }
  return tryMakeCompletingSlowPath($this, state, proposedUpdate);
}
function tryMakeCompletingSlowPath($this, state, proposedUpdate) {
  var tmp0_elvis_lhs = getOrPromoteCancellingList($this, state);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return get_COMPLETING_RETRY();
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var list = tmp;
  var tmp1_elvis_lhs = state instanceof Finishing ? state : null;
  var finishing = tmp1_elvis_lhs == null ? new Finishing(list, false, null) : tmp1_elvis_lhs;
  var notifyRootCause;
  // Inline function 'kotlinx.coroutines.internal.synchronized' call
  // Inline function 'kotlinx.coroutines.internal.synchronizedImpl' call
  if (finishing.nt())
    return get_COMPLETING_ALREADY();
  finishing.rt(true);
  if (!(finishing === state)) {
    if (!$this.rk_1.atomicfu$compareAndSet(state, finishing))
      return get_COMPLETING_RETRY();
  }
  // Inline function 'kotlinx.coroutines.assert' call
  var wasCancelling = finishing.kt();
  var tmp65_safe_receiver = proposedUpdate instanceof CompletedExceptionally ? proposedUpdate : null;
  if (tmp65_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    finishing.pt(tmp65_safe_receiver.dl_1);
  }
  // Inline function 'kotlin.takeIf' call
  var this_0 = finishing.qt();
  // Inline function 'kotlin.contracts.contract' call
  var tmp_0;
  // Inline function 'kotlinx.coroutines.JobSupport.tryMakeCompletingSlowPath.<anonymous>.<anonymous>' call
  if (!wasCancelling) {
    tmp_0 = this_0;
  } else {
    tmp_0 = null;
  }
  notifyRootCause = tmp_0;
  if (notifyRootCause == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    notifyCancelling($this, list, notifyRootCause);
  }
  var child = nextChild(list, $this);
  if (!(child == null) && tryWaitForChild($this, finishing, child, proposedUpdate))
    return get_COMPLETING_WAITING_CHILDREN();
  list.ft(2);
  var anotherChild = nextChild(list, $this);
  if (!(anotherChild == null) && tryWaitForChild($this, finishing, anotherChild, proposedUpdate))
    return get_COMPLETING_WAITING_CHILDREN();
  return finalizeFinishingState($this, finishing, proposedUpdate);
}
function _get_exceptionOrNull__b3j7js(_this__u8e3s4, $this) {
  var tmp67_safe_receiver = _this__u8e3s4 instanceof CompletedExceptionally ? _this__u8e3s4 : null;
  return tmp67_safe_receiver == null ? null : tmp67_safe_receiver.dl_1;
}
function tryWaitForChild($this, state, child, proposedUpdate) {
  var $this_0 = $this;
  var state_0 = state;
  var child_0 = child;
  var proposedUpdate_0 = proposedUpdate;
  $l$1: do {
    $l$0: do {
      var handle = invokeOnCompletion(child_0.wt_1, false, new ChildCompletion($this_0, state_0, child_0, proposedUpdate_0));
      if (!(handle === NonDisposableHandle_instance))
        return true;
      var tmp0_elvis_lhs = nextChild(child_0, $this_0);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        return false;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var nextChild_0 = tmp;
      $this_0 = $this_0;
      state_0 = state_0;
      child_0 = nextChild_0;
      proposedUpdate_0 = proposedUpdate_0;
      continue $l$0;
    }
     while (false);
  }
   while (true);
}
function continueCompleting($this, state, lastChild, proposedUpdate) {
  // Inline function 'kotlinx.coroutines.assert' call
  var waitChild = nextChild(lastChild, $this);
  if (!(waitChild == null) && tryWaitForChild($this, state, waitChild, proposedUpdate))
    return Unit_instance;
  state.gt_1.ft(2);
  var waitChildAgain = nextChild(lastChild, $this);
  if (!(waitChildAgain == null) && tryWaitForChild($this, state, waitChildAgain, proposedUpdate)) {
    return Unit_instance;
  }
  var finalState = finalizeFinishingState($this, state, proposedUpdate);
  $this.il(finalState);
}
function nextChild(_this__u8e3s4, $this) {
  var cur = _this__u8e3s4;
  $l$loop: while (true) {
    // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListNode.isRemoved' call
    if (!cur.ar_1) {
      break $l$loop;
    }
    // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListNode.prevNode' call
    cur = cur.zq_1;
  }
  $l$loop_0: while (true) {
    // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListNode.nextNode' call
    cur = cur.yq_1;
    // Inline function 'kotlinx.coroutines.internal.LockFreeLinkedListNode.isRemoved' call
    if (cur.ar_1)
      continue $l$loop_0;
    if (cur instanceof ChildHandleNode)
      return cur;
    if (cur instanceof NodeList)
      return null;
  }
}
function stateString($this, state) {
  var tmp;
  if (state instanceof Finishing) {
    tmp = state.kt() ? 'Cancelling' : state.nt() ? 'Completing' : 'Active';
  } else {
    if (!(state == null) ? isInterface(state, Incomplete) : false) {
      tmp = state.yk() ? 'Active' : 'New';
    } else {
      if (state instanceof CompletedExceptionally) {
        tmp = 'Cancelled';
      } else {
        tmp = 'Completed';
      }
    }
  }
  return tmp;
}
function Finishing(list, isCompleting, rootCause) {
  SynchronizedObject.call(this);
  this.gt_1 = list;
  this.ht_1 = atomic$boolean$1(isCompleting);
  this.it_1 = atomic$ref$1(rootCause);
  this.jt_1 = atomic$ref$1(null);
}
protoOf(Finishing).xq = function () {
  return this.gt_1;
};
protoOf(Finishing).rt = function (value) {
  this.ht_1.kotlinx$atomicfu$value = value;
};
protoOf(Finishing).nt = function () {
  return this.ht_1.kotlinx$atomicfu$value;
};
protoOf(Finishing).xt = function (value) {
  this.it_1.kotlinx$atomicfu$value = value;
};
protoOf(Finishing).qt = function () {
  return this.it_1.kotlinx$atomicfu$value;
};
protoOf(Finishing).ot = function () {
  return _get_exceptionsHolder__nhszp(this) === get_SEALED();
};
protoOf(Finishing).kt = function () {
  return !(this.qt() == null);
};
protoOf(Finishing).yk = function () {
  return this.qt() == null;
};
protoOf(Finishing).lt = function (proposedException) {
  var eh = _get_exceptionsHolder__nhszp(this);
  var tmp;
  if (eh == null) {
    tmp = allocateList(this);
  } else {
    if (eh instanceof Error) {
      // Inline function 'kotlin.also' call
      var this_0 = allocateList(this);
      // Inline function 'kotlin.contracts.contract' call
      // Inline function 'kotlinx.coroutines.Finishing.sealLocked.<anonymous>' call
      this_0.k(eh);
      tmp = this_0;
    } else {
      if (eh instanceof ArrayList) {
        tmp = eh instanceof ArrayList ? eh : THROW_CCE();
      } else {
        var message = 'State is ' + toString_0(eh);
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
  var list = tmp;
  var rootCause = this.qt();
  if (rootCause == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    list.c2(0, rootCause);
  }
  if (!(proposedException == null) && !equals(proposedException, rootCause)) {
    list.k(proposedException);
  }
  _set_exceptionsHolder__tqm22h(this, get_SEALED());
  return list;
};
protoOf(Finishing).pt = function (exception) {
  var rootCause = this.qt();
  if (rootCause == null) {
    this.xt(exception);
    return Unit_instance;
  }
  if (exception === rootCause)
    return Unit_instance;
  var eh = _get_exceptionsHolder__nhszp(this);
  if (eh == null) {
    _set_exceptionsHolder__tqm22h(this, exception);
  } else {
    if (eh instanceof Error) {
      if (exception === eh)
        return Unit_instance;
      // Inline function 'kotlin.apply' call
      var this_0 = allocateList(this);
      // Inline function 'kotlin.contracts.contract' call
      // Inline function 'kotlinx.coroutines.Finishing.addExceptionLocked.<anonymous>' call
      this_0.k(eh);
      this_0.k(exception);
      _set_exceptionsHolder__tqm22h(this, this_0);
    } else {
      if (eh instanceof ArrayList) {
        (eh instanceof ArrayList ? eh : THROW_CCE()).k(exception);
      } else {
        var message = 'State is ' + toString_0(eh);
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
};
protoOf(Finishing).toString = function () {
  return 'Finishing[cancelling=' + this.kt() + ', completing=' + this.nt() + ', rootCause=' + toString_0(this.qt()) + ', exceptions=' + toString_0(_get_exceptionsHolder__nhszp(this)) + ', list=' + this.gt_1.toString() + ']';
};
function ChildCompletion(parent, state, child, proposedUpdate) {
  JobNode.call(this);
  this.cu_1 = parent;
  this.du_1 = state;
  this.eu_1 = child;
  this.fu_1 = proposedUpdate;
}
protoOf(ChildCompletion).rq = function () {
  return false;
};
protoOf(ChildCompletion).jo = function (cause) {
  continueCompleting(this.cu_1, this.du_1, this.eu_1, this.fu_1);
};
function AwaitContinuation(delegate, job) {
  CancellableContinuationImpl.call(this, delegate, 1);
  this.mu_1 = job;
}
protoOf(AwaitContinuation).tp = function (parent) {
  var state = this.mu_1.rl();
  if (state instanceof Finishing) {
    var tmp73_safe_receiver = state.qt();
    if (tmp73_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      // Inline function 'kotlin.contracts.contract' call
      return tmp73_safe_receiver;
    }
  }
  if (state instanceof CompletedExceptionally)
    return state.dl_1;
  return parent.wl();
};
protoOf(AwaitContinuation).hq = function () {
  return 'AwaitContinuation';
};
function awaitSuspend($this, $completion) {
  // Inline function 'kotlinx.coroutines.JobSupport.awaitSuspend.<anonymous>' call
  var cont = new AwaitContinuation(intercepted($completion), $this);
  cont.mp();
  disposeOnCancellation(cont, invokeOnCompletion($this, VOID, new ResumeAwaitOnCompletion(cont)));
  return cont.up();
}
function JobSupport(active) {
  this.rk_1 = atomic$ref$1(active ? get_EMPTY_ACTIVE() : get_EMPTY_NEW());
  this.sk_1 = atomic$ref$1(null);
}
protoOf(JobSupport).y = function () {
  return Key_instance_3;
};
protoOf(JobSupport).pl = function (value) {
  this.sk_1.kotlinx$atomicfu$value = value;
};
protoOf(JobSupport).ql = function () {
  return this.sk_1.kotlinx$atomicfu$value;
};
protoOf(JobSupport).tk = function (parent) {
  // Inline function 'kotlinx.coroutines.assert' call
  if (parent == null) {
    this.pl(NonDisposableHandle_instance);
    return Unit_instance;
  }
  parent.ul();
  var handle = parent.nm(this);
  this.pl(handle);
  if (this.sl()) {
    handle.ko();
    this.pl(NonDisposableHandle_instance);
  }
};
protoOf(JobSupport).rl = function () {
  return this.rk_1.kotlinx$atomicfu$value;
};
protoOf(JobSupport).yk = function () {
  var state = this.rl();
  var tmp;
  if (!(state == null) ? isInterface(state, Incomplete) : false) {
    tmp = state.yk();
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(JobSupport).sl = function () {
  var tmp = this.rl();
  return !(!(tmp == null) ? isInterface(tmp, Incomplete) : false);
};
protoOf(JobSupport).tl = function () {
  var state = this.rl();
  var tmp;
  if (state instanceof CompletedExceptionally) {
    tmp = true;
  } else {
    var tmp_0;
    if (state instanceof Finishing) {
      tmp_0 = state.kt();
    } else {
      tmp_0 = false;
    }
    tmp = tmp_0;
  }
  return tmp;
};
protoOf(JobSupport).ul = function () {
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    // Inline function 'kotlinx.coroutines.JobSupport.start.<anonymous>' call
    var state = this.rl();
    var tmp52_subject = startInternal(this, state);
    if (tmp52_subject === 0)
      return false;
    else if (tmp52_subject === 1)
      return true;
  }
};
protoOf(JobSupport).vl = function () {
};
protoOf(JobSupport).wl = function () {
  var state = this.rl();
  var tmp;
  if (state instanceof Finishing) {
    var tmp54_safe_receiver = state.qt();
    var tmp0_elvis_lhs = tmp54_safe_receiver == null ? null : this.xl(tmp54_safe_receiver, get_classSimpleName(this) + ' is cancelling');
    var tmp_0;
    if (tmp0_elvis_lhs == null) {
      var message = 'Job is still new or active: ' + this.toString();
      throw IllegalStateException_init_$Create$(toString(message));
    } else {
      tmp_0 = tmp0_elvis_lhs;
    }
    tmp = tmp_0;
  } else {
    if (!(state == null) ? isInterface(state, Incomplete) : false) {
      var message_0 = 'Job is still new or active: ' + this.toString();
      throw IllegalStateException_init_$Create$(toString(message_0));
    } else {
      if (state instanceof CompletedExceptionally) {
        tmp = this.yl(state.dl_1);
      } else {
        tmp = new JobCancellationException(get_classSimpleName(this) + ' has completed normally', null, this);
      }
    }
  }
  return tmp;
};
protoOf(JobSupport).xl = function (_this__u8e3s4, message) {
  var tmp0_elvis_lhs = _this__u8e3s4 instanceof CancellationException ? _this__u8e3s4 : null;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    // Inline function 'kotlinx.coroutines.JobSupport.defaultCancellationException' call
    tmp = new JobCancellationException(message == null ? this.bl() : message, _this__u8e3s4, this);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
};
protoOf(JobSupport).yl = function (_this__u8e3s4, message, $super) {
  message = message === VOID ? null : message;
  return $super === VOID ? this.xl(_this__u8e3s4, message) : $super.xl.call(this, _this__u8e3s4, message);
};
protoOf(JobSupport).zl = function (handler) {
  return this.cm(true, new InvokeOnCompletion(handler));
};
protoOf(JobSupport).am = function (onCancelling, invokeImmediately, handler) {
  var tmp;
  if (onCancelling) {
    tmp = new InvokeOnCancelling(handler);
  } else {
    tmp = new InvokeOnCompletion(handler);
  }
  return this.cm(invokeImmediately, tmp);
};
protoOf(JobSupport).cm = function (invokeImmediately, node) {
  node.vq_1 = this;
  var tmp$ret$0;
  $l$block_1: {
    // Inline function 'kotlinx.coroutines.JobSupport.tryPutNodeIntoList' call
    // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
    while (true) {
      // Inline function 'kotlinx.coroutines.JobSupport.tryPutNodeIntoList.<anonymous>' call
      var state = this.rl();
      if (state instanceof Empty) {
        if (state.at_1) {
          if (this.rk_1.atomicfu$compareAndSet(state, node)) {
            tmp$ret$0 = true;
            break $l$block_1;
          }
        } else {
          promoteEmptyToNodeList(this, state);
        }
      } else {
        if (!(state == null) ? isInterface(state, Incomplete) : false) {
          var list = state.xq();
          if (list == null) {
            promoteSingleToNodeList(this, state instanceof JobNode ? state : THROW_CCE());
          } else {
            // Inline function 'kotlinx.coroutines.JobSupport.invokeOnCompletionInternal.<anonymous>' call
            var tmp;
            if (node.rq()) {
              var tmp55_safe_receiver = state instanceof Finishing ? state : null;
              var rootCause = tmp55_safe_receiver == null ? null : tmp55_safe_receiver.qt();
              var tmp_0;
              if (rootCause == null) {
                tmp_0 = list.br(node, 5);
              } else {
                if (invokeImmediately) {
                  node.jo(rootCause);
                }
                return NonDisposableHandle_instance;
              }
              tmp = tmp_0;
            } else {
              tmp = list.br(node, 1);
            }
            if (tmp) {
              tmp$ret$0 = true;
              break $l$block_1;
            }
          }
        } else {
          tmp$ret$0 = false;
          break $l$block_1;
        }
      }
    }
  }
  var added = tmp$ret$0;
  if (added)
    return node;
  else if (invokeImmediately) {
    var tmp_1 = this.rl();
    var tmp56_safe_receiver = tmp_1 instanceof CompletedExceptionally ? tmp_1 : null;
    node.jo(tmp56_safe_receiver == null ? null : tmp56_safe_receiver.dl_1);
  }
  return NonDisposableHandle_instance;
};
protoOf(JobSupport).tr = function ($completion) {
  if (!joinInternal(this)) {
    // Inline function 'kotlin.js.getCoroutineContext' call
    var tmp$ret$0 = $completion.q8();
    ensureActive(tmp$ret$0);
    return Unit_instance;
  }
  return joinSuspend(this, $completion);
};
protoOf(JobSupport).dm = function (node) {
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    // Inline function 'kotlinx.coroutines.JobSupport.removeNode.<anonymous>' call
    var state = this.rl();
    if (state instanceof JobNode) {
      if (!(state === node))
        return Unit_instance;
      if (this.rk_1.atomicfu$compareAndSet(state, get_EMPTY_ACTIVE()))
        return Unit_instance;
    } else {
      if (!(state == null) ? isInterface(state, Incomplete) : false) {
        if (!(state.xq() == null)) {
          node.cr();
        }
        return Unit_instance;
      } else {
        return Unit_instance;
      }
    }
  }
};
protoOf(JobSupport).em = function () {
  return false;
};
protoOf(JobSupport).fm = function (cause) {
  var tmp;
  if (cause == null) {
    // Inline function 'kotlinx.coroutines.JobSupport.defaultCancellationException' call
    tmp = new JobCancellationException(null == null ? this.bl() : null, null, this);
  } else {
    tmp = cause;
  }
  this.hm(tmp);
};
protoOf(JobSupport).bl = function () {
  return 'Job was cancelled';
};
protoOf(JobSupport).hm = function (cause) {
  this.lm(cause);
};
protoOf(JobSupport).im = function (parentJob) {
  this.lm(parentJob);
};
protoOf(JobSupport).jm = function (cause) {
  if (cause instanceof CancellationException)
    return true;
  return this.lm(cause) && this.qm();
};
protoOf(JobSupport).km = function (cause) {
  return this.lm(cause);
};
protoOf(JobSupport).lm = function (cause) {
  var finalState = get_COMPLETING_ALREADY();
  if (this.em()) {
    finalState = cancelMakeCompleting(this, cause);
    if (finalState === get_COMPLETING_WAITING_CHILDREN())
      return true;
  }
  if (finalState === get_COMPLETING_ALREADY()) {
    finalState = makeCancelling(this, cause);
  }
  var tmp;
  if (finalState === get_COMPLETING_ALREADY()) {
    tmp = true;
  } else if (finalState === get_COMPLETING_WAITING_CHILDREN()) {
    tmp = true;
  } else if (finalState === get_TOO_LATE_TO_CANCEL()) {
    tmp = false;
  } else {
    this.il(finalState);
    tmp = true;
  }
  return tmp;
};
protoOf(JobSupport).mm = function () {
  var state = this.rl();
  var tmp;
  if (state instanceof Finishing) {
    tmp = state.qt();
  } else {
    if (state instanceof CompletedExceptionally) {
      tmp = state.dl_1;
    } else {
      if (!(state == null) ? isInterface(state, Incomplete) : false) {
        var message = 'Cannot be cancelling child in this state: ' + toString(state);
        throw IllegalStateException_init_$Create$(toString(message));
      } else {
        tmp = null;
      }
    }
  }
  var rootCause = tmp;
  var tmp0_elvis_lhs = rootCause instanceof CancellationException ? rootCause : null;
  return tmp0_elvis_lhs == null ? new JobCancellationException('Parent job is ' + stateString(this, state), rootCause, this) : tmp0_elvis_lhs;
};
protoOf(JobSupport).qr = function (proposedUpdate) {
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    $l$block: {
      // Inline function 'kotlinx.coroutines.JobSupport.makeCompleting.<anonymous>' call
      var state = this.rl();
      var finalState = tryMakeCompleting(this, state, proposedUpdate);
      if (finalState === get_COMPLETING_ALREADY())
        return false;
      else if (finalState === get_COMPLETING_WAITING_CHILDREN())
        return true;
      else if (finalState === get_COMPLETING_RETRY()) {
        break $l$block;
      } else {
        this.il(finalState);
        return true;
      }
    }
  }
};
protoOf(JobSupport).gl = function (proposedUpdate) {
  // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
  while (true) {
    $l$block: {
      // Inline function 'kotlinx.coroutines.JobSupport.makeCompletingOnce.<anonymous>' call
      var state = this.rl();
      var finalState = tryMakeCompleting(this, state, proposedUpdate);
      if (finalState === get_COMPLETING_ALREADY())
        throw IllegalStateException_init_$Create$_0('Job ' + this.toString() + ' is already complete or completing, ' + ('but is being completed with ' + toString_0(proposedUpdate)), _get_exceptionOrNull__b3j7js(proposedUpdate, this));
      else if (finalState === get_COMPLETING_RETRY()) {
        break $l$block;
      } else
        return finalState;
    }
  }
};
protoOf(JobSupport).nm = function (child) {
  // Inline function 'kotlin.also' call
  var this_0 = new ChildHandleNode(child);
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.JobSupport.attachChild.<anonymous>' call
  this_0.vq_1 = this;
  var node = this_0;
  var tmp$ret$1;
  $l$block_1: {
    // Inline function 'kotlinx.coroutines.JobSupport.tryPutNodeIntoList' call
    // Inline function 'kotlinx.coroutines.JobSupport.loopOnState' call
    while (true) {
      // Inline function 'kotlinx.coroutines.JobSupport.tryPutNodeIntoList.<anonymous>' call
      var state = this.rl();
      if (state instanceof Empty) {
        if (state.at_1) {
          if (this.rk_1.atomicfu$compareAndSet(state, node)) {
            tmp$ret$1 = true;
            break $l$block_1;
          }
        } else {
          promoteEmptyToNodeList(this, state);
        }
      } else {
        if (!(state == null) ? isInterface(state, Incomplete) : false) {
          var list = state.xq();
          if (list == null) {
            promoteSingleToNodeList(this, state instanceof JobNode ? state : THROW_CCE());
          } else {
            // Inline function 'kotlinx.coroutines.JobSupport.attachChild.<anonymous>' call
            var addedBeforeCancellation = list.br(node, 7);
            var tmp;
            if (addedBeforeCancellation) {
              tmp = true;
            } else {
              var addedBeforeCompletion = list.br(node, 3);
              var latestState = this.rl();
              var tmp_0;
              if (latestState instanceof Finishing) {
                tmp_0 = latestState.qt();
              } else {
                // Inline function 'kotlinx.coroutines.assert' call
                var tmp69_safe_receiver = latestState instanceof CompletedExceptionally ? latestState : null;
                tmp_0 = tmp69_safe_receiver == null ? null : tmp69_safe_receiver.dl_1;
              }
              var rootCause = tmp_0;
              node.jo(rootCause);
              var tmp_1;
              if (addedBeforeCompletion) {
                // Inline function 'kotlinx.coroutines.assert' call
                tmp_1 = true;
              } else {
                return NonDisposableHandle_instance;
              }
              tmp = tmp_1;
            }
            if (tmp) {
              tmp$ret$1 = true;
              break $l$block_1;
            }
          }
        } else {
          tmp$ret$1 = false;
          break $l$block_1;
        }
      }
    }
  }
  var added = tmp$ret$1;
  if (added)
    return node;
  var tmp_2 = this.rl();
  var tmp70_safe_receiver = tmp_2 instanceof CompletedExceptionally ? tmp_2 : null;
  node.jo(tmp70_safe_receiver == null ? null : tmp70_safe_receiver.dl_1);
  return NonDisposableHandle_instance;
};
protoOf(JobSupport).jl = function (exception) {
  throw exception;
};
protoOf(JobSupport).om = function (cause) {
};
protoOf(JobSupport).pm = function () {
  return false;
};
protoOf(JobSupport).qm = function () {
  return true;
};
protoOf(JobSupport).rm = function (exception) {
  return false;
};
protoOf(JobSupport).cl = function (state) {
};
protoOf(JobSupport).il = function (state) {
};
protoOf(JobSupport).toString = function () {
  return this.sm() + '@' + get_hexAddress(this);
};
protoOf(JobSupport).sm = function () {
  return this.kl() + '{' + stateString(this, this.rl()) + '}';
};
protoOf(JobSupport).kl = function () {
  return get_classSimpleName(this);
};
protoOf(JobSupport).tm = function () {
  var state = this.rl();
  // Inline function 'kotlin.check' call
  // Inline function 'kotlin.contracts.contract' call
  if (!!(!(state == null) ? isInterface(state, Incomplete) : false)) {
    // Inline function 'kotlinx.coroutines.JobSupport.getCompletionExceptionOrNull.<anonymous>' call
    var message = 'This job has not completed yet';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  return _get_exceptionOrNull__b3j7js(state, this);
};
protoOf(JobSupport).um = function () {
  var state = this.rl();
  // Inline function 'kotlin.check' call
  // Inline function 'kotlin.contracts.contract' call
  if (!!(!(state == null) ? isInterface(state, Incomplete) : false)) {
    // Inline function 'kotlinx.coroutines.JobSupport.getCompletedInternal.<anonymous>' call
    var message = 'This job has not completed yet';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  if (state instanceof CompletedExceptionally)
    throw state.dl_1;
  return unboxState(state);
};
protoOf(JobSupport).vm = function ($completion) {
  $l$loop: while (true) {
    var state = this.rl();
    if (!(!(state == null) ? isInterface(state, Incomplete) : false)) {
      if (state instanceof CompletedExceptionally) {
        // Inline function 'kotlinx.coroutines.internal.recoverAndThrow' call
        throw state.dl_1;
      }
      return unboxState(state);
    }
    if (startInternal(this, state) >= 0)
      break $l$loop;
  }
  return awaitSuspend(this, $completion);
};
function boxIncomplete(_this__u8e3s4) {
  _init_properties_JobSupport_kt__68f172();
  var tmp;
  if (!(_this__u8e3s4 == null) ? isInterface(_this__u8e3s4, Incomplete) : false) {
    tmp = new IncompleteStateBox(_this__u8e3s4);
  } else {
    tmp = _this__u8e3s4;
  }
  return tmp;
}
function InactiveNodeList(list) {
  this.mt_1 = list;
}
protoOf(InactiveNodeList).xq = function () {
  return this.mt_1;
};
protoOf(InactiveNodeList).yk = function () {
  return false;
};
protoOf(InactiveNodeList).toString = function () {
  return get_DEBUG() ? this.mt_1.et('New') : anyToString(this);
};
function InvokeOnCompletion(handler) {
  JobNode.call(this);
  this.ru_1 = handler;
}
protoOf(InvokeOnCompletion).rq = function () {
  return false;
};
protoOf(InvokeOnCompletion).jo = function (cause) {
  return this.ru_1(cause);
};
function InvokeOnCancelling(handler) {
  JobNode.call(this);
  this.wu_1 = handler;
  this.xu_1 = atomic$boolean$1(false);
}
protoOf(InvokeOnCancelling).rq = function () {
  return true;
};
protoOf(InvokeOnCancelling).jo = function (cause) {
  if (this.xu_1.atomicfu$compareAndSet(false, true))
    this.wu_1(cause);
};
function ResumeOnCompletion(continuation) {
  JobNode.call(this);
  this.cv_1 = continuation;
}
protoOf(ResumeOnCompletion).rq = function () {
  return false;
};
protoOf(ResumeOnCompletion).jo = function (cause) {
  // Inline function 'kotlin.coroutines.resume' call
  var this_0 = this.cv_1;
  // Inline function 'kotlin.Companion.success' call
  var tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_instance);
  this_0.v8(tmp$ret$0);
  return Unit_instance;
};
function ChildHandleNode(childJob) {
  JobNode.call(this);
  this.wt_1 = childJob;
}
protoOf(ChildHandleNode).rq = function () {
  return true;
};
protoOf(ChildHandleNode).jo = function (cause) {
  return this.wt_1.im(this.wq());
};
protoOf(ChildHandleNode).jm = function (cause) {
  return this.wq().jm(cause);
};
function unboxState(_this__u8e3s4) {
  _init_properties_JobSupport_kt__68f172();
  var tmp74_safe_receiver = _this__u8e3s4 instanceof IncompleteStateBox ? _this__u8e3s4 : null;
  var tmp0_elvis_lhs = tmp74_safe_receiver == null ? null : tmp74_safe_receiver.dv_1;
  return tmp0_elvis_lhs == null ? _this__u8e3s4 : tmp0_elvis_lhs;
}
function ResumeAwaitOnCompletion(continuation) {
  JobNode.call(this);
  this.iv_1 = continuation;
}
protoOf(ResumeAwaitOnCompletion).rq = function () {
  return false;
};
protoOf(ResumeAwaitOnCompletion).jo = function (cause) {
  var state = this.wq().rl();
  // Inline function 'kotlinx.coroutines.assert' call
  if (state instanceof CompletedExceptionally) {
    // Inline function 'kotlin.coroutines.resumeWithException' call
    var this_0 = this.iv_1;
    // Inline function 'kotlin.Companion.failure' call
    var exception = state.dl_1;
    var tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception));
    this_0.v8(tmp$ret$0);
  } else {
    // Inline function 'kotlin.coroutines.resume' call
    var this_1 = this.iv_1;
    var tmp = unboxState(state);
    // Inline function 'kotlin.Companion.success' call
    var value = (tmp == null ? true : !(tmp == null)) ? tmp : THROW_CCE();
    var tmp$ret$2 = _Result___init__impl__xyqfz8(value);
    this_1.v8(tmp$ret$2);
  }
};
function IncompleteStateBox(state) {
  this.dv_1 = state;
}
function handlesExceptionF($this) {
  var tmp = $this.ql();
  var tmp75_safe_receiver = tmp instanceof ChildHandleNode ? tmp : null;
  var tmp0_elvis_lhs = tmp75_safe_receiver == null ? null : tmp75_safe_receiver.wq();
  var tmp_0;
  if (tmp0_elvis_lhs == null) {
    return false;
  } else {
    tmp_0 = tmp0_elvis_lhs;
  }
  var parentJob = tmp_0;
  while (true) {
    if (parentJob.qm())
      return true;
    var tmp_1 = parentJob.ql();
    var tmp76_safe_receiver = tmp_1 instanceof ChildHandleNode ? tmp_1 : null;
    var tmp1_elvis_lhs = tmp76_safe_receiver == null ? null : tmp76_safe_receiver.wq();
    var tmp_2;
    if (tmp1_elvis_lhs == null) {
      return false;
    } else {
      tmp_2 = tmp1_elvis_lhs;
    }
    parentJob = tmp_2;
  }
}
function JobImpl(parent) {
  JobSupport.call(this, true);
  this.tk(parent);
  this.lv_1 = handlesExceptionF(this);
}
protoOf(JobImpl).em = function () {
  return true;
};
protoOf(JobImpl).qm = function () {
  return this.lv_1;
};
protoOf(JobImpl).sr = function () {
  return this.qr(Unit_instance);
};
protoOf(JobImpl).rr = function (exception) {
  return this.qr(new CompletedExceptionally(exception));
};
var properties_initialized_JobSupport_kt_5iq8a4;
function _init_properties_JobSupport_kt__68f172() {
  if (!properties_initialized_JobSupport_kt_5iq8a4) {
    properties_initialized_JobSupport_kt_5iq8a4 = true;
    COMPLETING_ALREADY = new Symbol('COMPLETING_ALREADY');
    COMPLETING_WAITING_CHILDREN = new Symbol('COMPLETING_WAITING_CHILDREN');
    COMPLETING_RETRY = new Symbol('COMPLETING_RETRY');
    TOO_LATE_TO_CANCEL = new Symbol('TOO_LATE_TO_CANCEL');
    SEALED = new Symbol('SEALED');
    EMPTY_NEW = new Empty(false);
    EMPTY_ACTIVE = new Empty(true);
  }
}
function MainCoroutineDispatcher() {
  CoroutineDispatcher.call(this);
}
protoOf(MainCoroutineDispatcher).toString = function () {
  var tmp0_elvis_lhs = this.ov();
  return tmp0_elvis_lhs == null ? get_classSimpleName(this) + '@' + get_hexAddress(this) : tmp0_elvis_lhs;
};
protoOf(MainCoroutineDispatcher).ov = function () {
  var main = Dispatchers_getInstance().tv();
  if (this === main)
    return 'Dispatchers.Main';
  var tmp;
  try {
    tmp = main.nv();
  } catch ($p) {
    var tmp_0;
    if ($p instanceof UnsupportedOperationException) {
      var e = $p;
      tmp_0 = null;
    } else {
      throw $p;
    }
    tmp = tmp_0;
  }
  var immediate = tmp;
  if (this === immediate)
    return 'Dispatchers.Main.immediate';
  return null;
};
function SupervisorJob(parent) {
  parent = parent === VOID ? null : parent;
  return new SupervisorJobImpl(parent);
}
function SupervisorJobImpl(parent) {
  JobImpl.call(this, parent);
}
protoOf(SupervisorJobImpl).jm = function (cause) {
  return false;
};
function TimeoutCancellationException(message, coroutine) {
  CancellationException_init_$Init$(message, this);
  captureStack(this, TimeoutCancellationException);
  this.xv_1 = coroutine;
}
protoOf(TimeoutCancellationException).bs = function () {
  // Inline function 'kotlin.also' call
  var tmp0_elvis_lhs = this.message;
  var this_0 = new TimeoutCancellationException(tmp0_elvis_lhs == null ? '' : tmp0_elvis_lhs, this.xv_1);
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.TimeoutCancellationException.createCopy.<anonymous>' call
  initCause(this_0, this);
  return this_0;
};
function withTimeoutOrNull(timeMillis, block, $completion) {
  var tmp = new $withTimeoutOrNullCOROUTINE$3(timeMillis, block, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
}
function TimeoutCoroutine(time, uCont) {
  ScopeCoroutine.call(this, uCont.q8(), uCont);
  this.nw_1 = time;
}
protoOf(TimeoutCoroutine).iq = function () {
  this.km(TimeoutCancellationException_0(this.nw_1, get_delay(this.wk_1), this));
};
protoOf(TimeoutCoroutine).kl = function () {
  return protoOf(ScopeCoroutine).kl.call(this) + '(timeMillis=' + this.nw_1.toString() + ')';
};
function setupTimeout(coroutine, block) {
  var cont = coroutine.rw_1;
  var context = cont.q8();
  disposeOnCompletion(coroutine, get_delay(context).ds(coroutine.nw_1, coroutine, coroutine.wk_1));
  return startUndispatchedOrReturnIgnoreTimeout(coroutine, coroutine, block);
}
function TimeoutCancellationException_0(time, delay, coroutine) {
  var tmp77_safe_receiver = isInterface(delay, DelayWithTimeoutDiagnostics) ? delay : null;
  var tmp;
  if (tmp77_safe_receiver == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.time.Companion.milliseconds' call
    Companion_getInstance();
    var tmp$ret$0 = toDuration(time, DurationUnit_MILLISECONDS_getInstance());
    tmp = tmp77_safe_receiver.es(tmp$ret$0);
  }
  var tmp0_elvis_lhs = tmp;
  var message = tmp0_elvis_lhs == null ? 'Timed out waiting for ' + time.toString() + ' ms' : tmp0_elvis_lhs;
  return new TimeoutCancellationException(message, coroutine);
}
function $withTimeoutOrNullCOROUTINE$3(timeMillis, block, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.gw_1 = timeMillis;
  this.hw_1 = block;
}
protoOf($withTimeoutOrNullCOROUTINE$3).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 3;
          if (this.gw_1.e1(new Long(0, 0)) <= 0)
            return null;
          this.iw_1 = {_v: null};
          this.l8_1 = 2;
          this.k8_1 = 1;
          var timeoutCoroutine = new TimeoutCoroutine(this.gw_1, this);
          this.iw_1._v = timeoutCoroutine;
          suspendResult = returnIfSuspended(setupTimeout(timeoutCoroutine, this.hw_1), this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          return suspendResult;
        case 2:
          this.l8_1 = 3;
          var tmp_0 = this.n8_1;
          if (tmp_0 instanceof TimeoutCancellationException) {
            var e = this.n8_1;
            if (e.xv_1 === this.iw_1._v) {
              return null;
            }
            throw e;
          } else {
            throw this.n8_1;
          }

        case 3:
          throw this.n8_1;
      }
    } catch ($p) {
      var e_0 = $p;
      if (this.l8_1 === 3) {
        throw e_0;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e_0;
      }
    }
   while (true);
};
function Unconfined() {
  Unconfined_instance = this;
  CoroutineDispatcher.call(this);
}
protoOf(Unconfined).vr = function (context) {
  return false;
};
protoOf(Unconfined).wr = function (context, block) {
  var yieldContext = context.x8(Key_instance_4);
  if (!(yieldContext == null)) {
    yieldContext.uw_1 = true;
    return Unit_instance;
  }
  throw UnsupportedOperationException_init_$Create$('Dispatchers.Unconfined.dispatch function can only be used by the yield function. If you wrap Unconfined dispatcher in your code, make sure you properly delegate isDispatchNeeded and dispatch calls.');
};
protoOf(Unconfined).toString = function () {
  return 'Dispatchers.Unconfined';
};
var Unconfined_instance;
function Unconfined_getInstance() {
  if (Unconfined_instance == null)
    new Unconfined();
  return Unconfined_instance;
}
function Key_3() {
}
var Key_instance_4;
function Key_getInstance_3() {
  return Key_instance_4;
}
function Waiter() {
}
var BufferOverflow_SUSPEND_instance;
var BufferOverflow_DROP_OLDEST_instance;
var BufferOverflow_DROP_LATEST_instance;
var BufferOverflow_entriesInitialized;
function BufferOverflow_initEntries() {
  if (BufferOverflow_entriesInitialized)
    return Unit_instance;
  BufferOverflow_entriesInitialized = true;
  BufferOverflow_SUSPEND_instance = new BufferOverflow('SUSPEND', 0);
  BufferOverflow_DROP_OLDEST_instance = new BufferOverflow('DROP_OLDEST', 1);
  BufferOverflow_DROP_LATEST_instance = new BufferOverflow('DROP_LATEST', 2);
}
function BufferOverflow(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function BufferOverflow_SUSPEND_getInstance() {
  BufferOverflow_initEntries();
  return BufferOverflow_SUSPEND_instance;
}
function BufferOverflow_DROP_OLDEST_getInstance() {
  BufferOverflow_initEntries();
  return BufferOverflow_DROP_OLDEST_instance;
}
function BufferOverflow_DROP_LATEST_getInstance() {
  BufferOverflow_initEntries();
  return BufferOverflow_DROP_LATEST_instance;
}
function get_NULL_SEGMENT() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return NULL_SEGMENT;
}
var NULL_SEGMENT;
function get_SEGMENT_SIZE() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return SEGMENT_SIZE;
}
var SEGMENT_SIZE;
function get_EXPAND_BUFFER_COMPLETION_WAIT_ITERATIONS() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return EXPAND_BUFFER_COMPLETION_WAIT_ITERATIONS;
}
var EXPAND_BUFFER_COMPLETION_WAIT_ITERATIONS;
function get_BUFFERED() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return BUFFERED;
}
var BUFFERED;
function get_IN_BUFFER() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return IN_BUFFER;
}
var IN_BUFFER;
function get_RESUMING_BY_RCV() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return RESUMING_BY_RCV;
}
var RESUMING_BY_RCV;
function get_RESUMING_BY_EB() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return RESUMING_BY_EB;
}
var RESUMING_BY_EB;
function get_POISONED() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return POISONED;
}
var POISONED;
function get_DONE_RCV() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return DONE_RCV;
}
var DONE_RCV;
function get_INTERRUPTED_SEND() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return INTERRUPTED_SEND;
}
var INTERRUPTED_SEND;
function get_INTERRUPTED_RCV() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return INTERRUPTED_RCV;
}
var INTERRUPTED_RCV;
function get_CHANNEL_CLOSED() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return CHANNEL_CLOSED;
}
var CHANNEL_CLOSED;
function get_SUSPEND() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return SUSPEND;
}
var SUSPEND;
function get_SUSPEND_NO_WAITER() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return SUSPEND_NO_WAITER;
}
var SUSPEND_NO_WAITER;
function get_FAILED() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return FAILED;
}
var FAILED;
function get_NO_RECEIVE_RESULT() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return NO_RECEIVE_RESULT;
}
var NO_RECEIVE_RESULT;
function get_CLOSE_HANDLER_CLOSED() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return CLOSE_HANDLER_CLOSED;
}
var CLOSE_HANDLER_CLOSED;
function get_CLOSE_HANDLER_INVOKED() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return CLOSE_HANDLER_INVOKED;
}
var CLOSE_HANDLER_INVOKED;
function get_NO_CLOSE_CAUSE() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return NO_CLOSE_CAUSE;
}
var NO_CLOSE_CAUSE;
function setElementLazy($this, index, value) {
  // Inline function 'kotlinx.atomicfu.AtomicRef.lazySet' call
  $this.ax_1.atomicfu$get(imul(index, 2)).kotlinx$atomicfu$value = value;
}
function ChannelSegment(id, prev, channel, pointers) {
  Segment.call(this, id, prev, pointers);
  this.zw_1 = channel;
  this.ax_1 = atomicfu$AtomicRefArray$ofNulls(imul(get_SEGMENT_SIZE(), 2));
}
protoOf(ChannelSegment).bx = function () {
  return ensureNotNull(this.zw_1);
};
protoOf(ChannelSegment).cx = function () {
  return get_SEGMENT_SIZE();
};
protoOf(ChannelSegment).dx = function (index, element) {
  setElementLazy(this, index, element);
};
protoOf(ChannelSegment).ex = function (index) {
  var tmp = this.ax_1.atomicfu$get(imul(index, 2)).kotlinx$atomicfu$value;
  return (tmp == null ? true : !(tmp == null)) ? tmp : THROW_CCE();
};
protoOf(ChannelSegment).fx = function (index) {
  // Inline function 'kotlin.also' call
  var this_0 = this.ex(index);
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.ChannelSegment.retrieveElement.<anonymous>' call
  this.gx(index);
  return this_0;
};
protoOf(ChannelSegment).gx = function (index) {
  setElementLazy(this, index, null);
};
protoOf(ChannelSegment).hx = function (index) {
  return this.ax_1.atomicfu$get(imul(index, 2) + 1 | 0).kotlinx$atomicfu$value;
};
protoOf(ChannelSegment).ix = function (index, value) {
  this.ax_1.atomicfu$get(imul(index, 2) + 1 | 0).kotlinx$atomicfu$value = value;
};
protoOf(ChannelSegment).jx = function (index, from, to) {
  return this.ax_1.atomicfu$get(imul(index, 2) + 1 | 0).atomicfu$compareAndSet(from, to);
};
protoOf(ChannelSegment).kx = function (index, update) {
  return this.ax_1.atomicfu$get(imul(index, 2) + 1 | 0).atomicfu$getAndSet(update);
};
protoOf(ChannelSegment).ap = function (index, cause, context) {
  var isSender = index >= get_SEGMENT_SIZE();
  var index_0 = isSender ? index - get_SEGMENT_SIZE() | 0 : index;
  var element = this.ex(index_0);
  $l$loop: while (true) {
    var cur = this.hx(index_0);
    var tmp;
    if (!(cur == null) ? isInterface(cur, Waiter) : false) {
      tmp = true;
    } else {
      tmp = cur instanceof WaiterEB;
    }
    if (tmp) {
      var update = isSender ? get_INTERRUPTED_SEND() : get_INTERRUPTED_RCV();
      if (this.jx(index_0, cur, update)) {
        this.gx(index_0);
        this.xx(index_0, !isSender);
        if (isSender) {
          var tmp109_safe_receiver = this.bx().mx_1;
          if (tmp109_safe_receiver == null)
            null;
          else {
            callUndeliveredElement(tmp109_safe_receiver, element, context);
          }
        }
        return Unit_instance;
      }
    } else {
      if (cur === get_INTERRUPTED_SEND() || cur === get_INTERRUPTED_RCV()) {
        this.gx(index_0);
        if (isSender) {
          var tmp110_safe_receiver = this.bx().mx_1;
          if (tmp110_safe_receiver == null)
            null;
          else {
            callUndeliveredElement(tmp110_safe_receiver, element, context);
          }
        }
        return Unit_instance;
      } else {
        if (cur === get_RESUMING_BY_EB() || cur === get_RESUMING_BY_RCV())
          continue $l$loop;
        else {
          if (cur === get_DONE_RCV() || cur === get_BUFFERED())
            return Unit_instance;
          else {
            if (cur === get_CHANNEL_CLOSED())
              return Unit_instance;
            else {
              var message = 'unexpected state: ' + toString_0(cur);
              throw IllegalStateException_init_$Create$(toString(message));
            }
          }
        }
      }
    }
  }
};
protoOf(ChannelSegment).xx = function (index, receiver) {
  if (receiver) {
    var tmp = this.bx();
    // Inline function 'kotlin.Long.plus' call
    // Inline function 'kotlin.Long.times' call
    var this_0 = this.yo_1;
    var other = get_SEGMENT_SIZE();
    var tmp$ret$1 = this_0.v2(toLong(other)).t2(toLong(index));
    tmp.yx(tmp$ret$1);
  }
  this.zx();
};
function onClosedHasNext($this) {
  $this.ly_1 = get_CHANNEL_CLOSED();
  var tmp0_elvis_lhs = $this.ny_1.oy();
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return false;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var cause = tmp;
  throw recoverStackTrace_0(cause);
}
function hasNextOnNoWaiterSuspend($this, segment, index, r, $completion) {
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutineReusable.<anonymous>' call
  var cancellable = getOrCreateCancellableContinuation(intercepted($completion));
  try {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannelIterator.hasNextOnNoWaiterSuspend.<anonymous>' call
    $this.my_1 = cancellable;
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveImplOnNoWaiter' call
    var this_0 = $this.ny_1;
    var updCellResult = updateCellReceive(this_0, segment, index, r, $this);
    if (updCellResult === _get_SUSPEND_$accessor$yt74tm_ccb8g1()) {
      prepareReceiverForSuspension($this, this_0, segment, index);
    } else if (updCellResult === _get_FAILED_$accessor$yt74tm_h47uk8()) {
      if (r.e1(this_0.py()) < 0) {
        segment.jy();
      }
      $l$block_0: {
        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveImpl' call
        var segment_0 = this_0.sx_1.kotlinx$atomicfu$value;
        $l$loop_0: while (true) {
          if (this_0.qy()) {
            onClosedHasNextNoWaiterSuspend($this);
            break $l$block_0;
          }
          var r_0 = this_0.ox_1.atomicfu$getAndIncrement$long();
          // Inline function 'kotlin.Long.div' call
          var other = get_SEGMENT_SIZE();
          var id = r_0.w2(toLong(other));
          // Inline function 'kotlin.Long.rem' call
          var other_0 = get_SEGMENT_SIZE();
          var i = r_0.x2(toLong(other_0)).j1();
          if (!segment_0.yo_1.equals(id)) {
            var tmp0_elvis_lhs = findSegmentReceive(this_0, id, segment_0);
            var tmp;
            if (tmp0_elvis_lhs == null) {
              continue $l$loop_0;
            } else {
              tmp = tmp0_elvis_lhs;
            }
            segment_0 = tmp;
          }
          var updCellResult_0 = updateCellReceive(this_0, segment_0, i, r_0, $this);
          var tmp_0;
          if (updCellResult_0 === _get_SUSPEND_$accessor$yt74tm_ccb8g1()) {
            var tmp92_safe_receiver = (!($this == null) ? isInterface($this, Waiter) : false) ? $this : null;
            if (tmp92_safe_receiver == null)
              null;
            else {
              prepareReceiverForSuspension(tmp92_safe_receiver, this_0, segment_0, i);
            }
            // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveImplOnNoWaiter.<anonymous>' call
            tmp_0 = Unit_instance;
          } else if (updCellResult_0 === _get_FAILED_$accessor$yt74tm_h47uk8()) {
            if (r_0.e1(this_0.py()) < 0) {
              segment_0.jy();
            }
            continue $l$loop_0;
          } else if (updCellResult_0 === _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky()) {
            var message = 'unexpected';
            throw IllegalStateException_init_$Create$(toString(message));
          } else {
            segment_0.jy();
            var element = (updCellResult_0 == null ? true : !(updCellResult_0 == null)) ? updCellResult_0 : THROW_CCE();
            $this.ly_1 = element;
            $this.my_1 = null;
            var tmp96_safe_receiver = $this.ny_1.mx_1;
            cancellable.ao(true, tmp96_safe_receiver == null ? null : bindCancellationFun(tmp96_safe_receiver, $this.ny_1, element));
            tmp_0 = Unit_instance;
          }
          break $l$block_0;
        }
      }
    } else {
      segment.jy();
      // Inline function 'kotlinx.coroutines.channels.BufferedChannelIterator.hasNextOnNoWaiterSuspend.<anonymous>.<anonymous>' call
      var element_0 = (updCellResult == null ? true : !(updCellResult == null)) ? updCellResult : THROW_CCE();
      $this.ly_1 = element_0;
      $this.my_1 = null;
      var tmp96_safe_receiver_0 = $this.ny_1.mx_1;
      cancellable.ao(true, tmp96_safe_receiver_0 == null ? null : bindCancellationFun(tmp96_safe_receiver_0, $this.ny_1, element_0));
    }
  } catch ($p) {
    if ($p instanceof Error) {
      var e = $p;
      cancellable.vp();
      throw e;
    } else {
      throw $p;
    }
  }
  return cancellable.up();
}
function onClosedHasNextNoWaiterSuspend($this) {
  var cont = ensureNotNull($this.my_1);
  $this.my_1 = null;
  $this.ly_1 = get_CHANNEL_CLOSED();
  var cause = $this.ny_1.oy();
  if (cause == null) {
    // Inline function 'kotlin.coroutines.resume' call
    // Inline function 'kotlin.Companion.success' call
    var tmp$ret$0 = _Result___init__impl__xyqfz8(false);
    cont.v8(tmp$ret$0);
  } else {
    // Inline function 'kotlin.coroutines.resumeWithException' call
    // Inline function 'kotlin.Companion.failure' call
    var exception = recoverStackTrace(cause, cont);
    var tmp$ret$2 = _Result___init__impl__xyqfz8(createFailure(exception));
    cont.v8(tmp$ret$2);
  }
}
function $hasNextCOROUTINE$7(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.zy_1 = _this__u8e3s4;
}
protoOf($hasNextCOROUTINE$7).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 8;
          if (!(this.zy_1.ly_1 === get_NO_RECEIVE_RESULT()) && !(this.zy_1.ly_1 === get_CHANNEL_CLOSED())) {
            var tmp_0 = this;
            tmp_0.az_1 = true;
            this.k8_1 = 11;
            continue $sm;
          } else {
            this.k8_1 = 1;
            continue $sm;
          }

        case 1:
          var tmp_1 = this;
          tmp_1.cz_1 = this.zy_1.ny_1;
          var tmp_2 = this;
          tmp_2.dz_1 = null;
          this.ez_1 = this.cz_1.sx_1.kotlinx$atomicfu$value;
          this.k8_1 = 2;
          continue $sm;
        case 2:
          if (!true) {
            this.k8_1 = 9;
            continue $sm;
          }

          if (this.cz_1.qy()) {
            var tmp_3 = this;
            tmp_3.bz_1 = onClosedHasNext(this.zy_1);
            this.k8_1 = 10;
            continue $sm;
          } else {
            this.k8_1 = 3;
            continue $sm;
          }

        case 3:
          this.fz_1 = this.cz_1.ox_1.atomicfu$getAndIncrement$long();
          var tmp_4 = this;
          var this_0 = this.fz_1;
          var other = get_SEGMENT_SIZE();
          tmp_4.gz_1 = this_0.w2(toLong(other));
          var tmp_5 = this;
          var this_1 = this.fz_1;
          var other_0 = get_SEGMENT_SIZE();
          tmp_5.hz_1 = this_1.x2(toLong(other_0)).j1();
          if (!this.ez_1.yo_1.equals(this.gz_1)) {
            this.iz_1 = findSegmentReceive(this.cz_1, this.gz_1, this.ez_1);
            if (this.iz_1 == null) {
              this.k8_1 = 2;
              var tmp_6 = this;
              continue $sm;
            } else {
              this.jz_1 = this.iz_1;
              this.k8_1 = 4;
              continue $sm;
            }
          } else {
            this.k8_1 = 5;
            continue $sm;
          }

        case 4:
          this.ez_1 = this.jz_1;
          this.k8_1 = 5;
          continue $sm;
        case 5:
          this.kz_1 = updateCellReceive(this.cz_1, this.ez_1, this.hz_1, this.fz_1, this.dz_1);
          if (this.kz_1 === _get_SUSPEND_$accessor$yt74tm_ccb8g1()) {
            var tmp_7 = this;
            var tmp_8 = this.dz_1;
            var tmp92_safe_receiver = (!(tmp_8 == null) ? isInterface(tmp_8, Waiter) : false) ? tmp_8 : null;
            if (tmp92_safe_receiver == null)
              null;
            else {
              prepareReceiverForSuspension(tmp92_safe_receiver, this.cz_1, this.ez_1, this.hz_1);
            }
            this.ez_1;
            this.hz_1;
            this.fz_1;
            var message = 'unreachable';
            throw IllegalStateException_init_$Create$(toString(message));
          } else {
            if (this.kz_1 === _get_FAILED_$accessor$yt74tm_h47uk8()) {
              if (this.fz_1.e1(this.cz_1.py()) < 0) {
                this.ez_1.jy();
              }
              this.k8_1 = 2;
              var tmp_9 = this;
              continue $sm;
            } else {
              if (this.kz_1 === _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky()) {
                var tmp_10 = this;
                tmp_10.mz_1 = this.ez_1;
                var tmp_11 = this;
                tmp_11.nz_1 = this.hz_1;
                var tmp_12 = this;
                tmp_12.oz_1 = this.fz_1;
                this.k8_1 = 6;
                suspendResult = hasNextOnNoWaiterSuspend(this.zy_1, this.mz_1, this.nz_1, this.oz_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }
                continue $sm;
              } else {
                var tmp_13 = this;
                this.ez_1.jy();
                var tmp_14 = this.kz_1;
                var element = (tmp_14 == null ? true : !(tmp_14 == null)) ? tmp_14 : THROW_CCE();
                this.zy_1.ly_1 = element;
                tmp_13.lz_1 = true;
                this.k8_1 = 7;
                continue $sm;
              }
            }
          }

        case 6:
          var tmp_15 = this;
          return suspendResult;
        case 7:
          this.bz_1 = this.lz_1;
          this.k8_1 = 10;
          continue $sm;
        case 8:
          throw this.n8_1;
        case 9:
          if (false) {
            this.k8_1 = 1;
            continue $sm;
          }

          this.k8_1 = 10;
          continue $sm;
        case 10:
          this.az_1 = this.bz_1;
          this.k8_1 = 11;
          continue $sm;
        case 11:
          return this.az_1;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 8) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function _get_bufferEndCounter__2d4hee($this) {
  return $this.px_1.kotlinx$atomicfu$value;
}
function _get_isRendezvousOrUnlimited__3mdufi($this) {
  // Inline function 'kotlin.let' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.<get-isRendezvousOrUnlimited>.<anonymous>' call
  var it = _get_bufferEndCounter__2d4hee($this);
  return it.equals(new Long(0, 0)) || it.equals(new Long(-1, 2147483647));
}
function onClosedSend($this, element, $completion) {
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutine.<anonymous>' call
  var cancellable = new CancellableContinuationImpl(intercepted($completion), 1);
  cancellable.mp();
  $l$block: {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.onClosedSend.<anonymous>' call
    var tmp79_safe_receiver = $this.mx_1;
    var tmp80_safe_receiver = tmp79_safe_receiver == null ? null : callUndeliveredElementCatchingException(tmp79_safe_receiver, element);
    if (tmp80_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      // Inline function 'kotlin.contracts.contract' call
      addSuppressed(tmp80_safe_receiver, $this.pz());
      // Inline function 'kotlinx.coroutines.resumeWithStackTrace' call
      // Inline function 'kotlin.Companion.failure' call
      var exception = recoverStackTrace(tmp80_safe_receiver, cancellable);
      var tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception));
      cancellable.v8(tmp$ret$0);
      break $l$block;
    }
    // Inline function 'kotlinx.coroutines.resumeWithStackTrace' call
    var exception_0 = $this.pz();
    // Inline function 'kotlin.Companion.failure' call
    var exception_1 = recoverStackTrace(exception_0, cancellable);
    var tmp$ret$3 = _Result___init__impl__xyqfz8(createFailure(exception_1));
    cancellable.v8(tmp$ret$3);
  }
  return cancellable.up();
}
function sendOnNoWaiterSuspend($this, segment, index, element, s, $completion) {
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutineReusable.<anonymous>' call
  var cancellable = getOrCreateCancellableContinuation(intercepted($completion));
  try {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendOnNoWaiterSuspend.<anonymous>' call
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendImplOnNoWaiter' call
    switch (updateCellSend($this, segment, index, element, s, cancellable, false)) {
      case 0:
        segment.jy();
        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendOnNoWaiterSuspend.<anonymous>.<anonymous>' call

        // Inline function 'kotlin.coroutines.resume' call

        // Inline function 'kotlin.Companion.success' call

        var tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_instance);
        cancellable.v8(tmp$ret$0);
        break;
      case 1:
        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendOnNoWaiterSuspend.<anonymous>.<anonymous>' call

        // Inline function 'kotlin.coroutines.resume' call

        // Inline function 'kotlin.Companion.success' call

        var tmp$ret$2 = _Result___init__impl__xyqfz8(Unit_instance);
        cancellable.v8(tmp$ret$2);
        break;
      case 2:
        prepareSenderForSuspension(cancellable, $this, segment, index);
        break;
      case 4:
        if (s.e1($this.qz()) < 0) {
          segment.jy();
        }

        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendOnNoWaiterSuspend.<anonymous>.<anonymous>' call

        onClosedSendOnNoWaiterSuspend($this, element, cancellable);
        break;
      case 5:
        segment.jy();
        $l$block_4: {
          // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendImpl' call
          var segment_0 = $this.rx_1.kotlinx$atomicfu$value;
          $l$loop_0: while (true) {
            var sendersAndCloseStatusCur = $this.nx_1.atomicfu$getAndIncrement$long();
            // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
            var s_0 = sendersAndCloseStatusCur.f3(new Long(-1, 268435455));
            var closed = _get_isClosedForSend0__kxgf9m(sendersAndCloseStatusCur, $this);
            // Inline function 'kotlin.Long.div' call
            var other = get_SEGMENT_SIZE();
            var id = s_0.w2(toLong(other));
            // Inline function 'kotlin.Long.rem' call
            var other_0 = get_SEGMENT_SIZE();
            var i = s_0.x2(toLong(other_0)).j1();
            if (!segment_0.yo_1.equals(id)) {
              var tmp0_elvis_lhs = findSegmentSend($this, id, segment_0);
              var tmp;
              if (tmp0_elvis_lhs == null) {
                var tmp_0;
                if (closed) {
                  onClosedSendOnNoWaiterSuspend($this, element, cancellable);
                  break $l$block_4;
                } else {
                  continue $l$loop_0;
                }
              } else {
                tmp = tmp0_elvis_lhs;
              }
              segment_0 = tmp;
            }
            switch (updateCellSend($this, segment_0, i, element, s_0, cancellable, closed)) {
              case 0:
                segment_0.jy();
                // Inline function 'kotlin.coroutines.resume' call

                // Inline function 'kotlin.Companion.success' call

                var tmp$ret$8 = _Result___init__impl__xyqfz8(Unit_instance);
                cancellable.v8(tmp$ret$8);
                break $l$block_4;
              case 1:
                // Inline function 'kotlin.coroutines.resume' call

                // Inline function 'kotlin.Companion.success' call

                var tmp$ret$10 = _Result___init__impl__xyqfz8(Unit_instance);
                cancellable.v8(tmp$ret$10);
                break $l$block_4;
              case 2:
                if (closed) {
                  segment_0.zx();
                  onClosedSendOnNoWaiterSuspend($this, element, cancellable);
                  break $l$block_4;
                }

                var tmp83_safe_receiver = (!(cancellable == null) ? isInterface(cancellable, Waiter) : false) ? cancellable : null;
                if (tmp83_safe_receiver == null)
                  null;
                else {
                  prepareSenderForSuspension(tmp83_safe_receiver, $this, segment_0, i);
                }

                // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendImplOnNoWaiter.<anonymous>' call

                break $l$block_4;
              case 4:
                if (s_0.e1($this.qz()) < 0) {
                  segment_0.jy();
                }

                onClosedSendOnNoWaiterSuspend($this, element, cancellable);
                break $l$block_4;
              case 5:
                segment_0.jy();
                continue $l$loop_0;
              case 3:
                var message = 'unexpected';
                throw IllegalStateException_init_$Create$(toString(message));
            }
          }
        }

        break;
      default:
        // Inline function 'kotlin.error' call

        var message_0 = 'unexpected';
        throw IllegalStateException_init_$Create$(toString(message_0));
    }
  } catch ($p) {
    if ($p instanceof Error) {
      var e = $p;
      cancellable.vp();
      throw e;
    } else {
      throw $p;
    }
  }
  return cancellable.up();
}
function prepareSenderForSuspension(_this__u8e3s4, $this, segment, index) {
  _this__u8e3s4.bq(segment, index + get_SEGMENT_SIZE() | 0);
}
function onClosedSendOnNoWaiterSuspend($this, element, cont) {
  var tmp81_safe_receiver = $this.mx_1;
  if (tmp81_safe_receiver == null)
    null;
  else {
    callUndeliveredElement(tmp81_safe_receiver, element, cont.q8());
  }
  // Inline function 'kotlin.coroutines.resumeWithException' call
  // Inline function 'kotlin.Companion.failure' call
  var exception = recoverStackTrace($this.pz(), cont);
  var tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception));
  cont.v8(tmp$ret$0);
}
function SendBroadcast() {
}
function updateCellSend($this, segment, index, element, s, waiter, closed) {
  segment.dx(index, element);
  if (closed)
    return updateCellSendSlow($this, segment, index, element, s, waiter, closed);
  var state = segment.hx(index);
  if (state === null) {
    if (bufferOrRendezvousSend($this, s)) {
      if (segment.jx(index, null, get_BUFFERED())) {
        return 1;
      }
    } else {
      if (waiter == null) {
        return 3;
      } else {
        if (segment.jx(index, null, waiter))
          return 2;
      }
    }
  } else {
    if (!(state == null) ? isInterface(state, Waiter) : false) {
      segment.gx(index);
      var tmp;
      if (tryResumeReceiver(state, $this, element)) {
        segment.ix(index, get_DONE_RCV());
        $this.rz();
        tmp = 0;
      } else {
        if (!(segment.kx(index, get_INTERRUPTED_RCV()) === get_INTERRUPTED_RCV())) {
          segment.xx(index, true);
        }
        tmp = 5;
      }
      return tmp;
    }
  }
  return updateCellSendSlow($this, segment, index, element, s, waiter, closed);
}
function updateCellSendSlow($this, segment, index, element, s, waiter, closed) {
  while (true) {
    var state = segment.hx(index);
    if (state === null) {
      if (bufferOrRendezvousSend($this, s) && !closed) {
        if (segment.jx(index, null, get_BUFFERED())) {
          return 1;
        }
      } else {
        if (closed) {
          if (segment.jx(index, null, get_INTERRUPTED_SEND())) {
            segment.xx(index, false);
            return 4;
          }
        } else if (waiter == null)
          return 3;
        else if (segment.jx(index, null, waiter))
          return 2;
      }
    } else if (state === get_IN_BUFFER()) {
      if (segment.jx(index, state, get_BUFFERED())) {
        return 1;
      }
    } else if (state === get_INTERRUPTED_RCV()) {
      segment.gx(index);
      return 5;
    } else if (state === get_POISONED()) {
      segment.gx(index);
      return 5;
    } else if (state === get_CHANNEL_CLOSED()) {
      segment.gx(index);
      completeCloseOrCancel($this);
      return 4;
    } else {
      // Inline function 'kotlinx.coroutines.assert' call
      segment.gx(index);
      var tmp;
      if (state instanceof WaiterEB) {
        tmp = state.sz_1;
      } else {
        tmp = state;
      }
      var receiver = tmp;
      var tmp_0;
      if (tryResumeReceiver(receiver, $this, element)) {
        segment.ix(index, get_DONE_RCV());
        $this.rz();
        tmp_0 = 0;
      } else {
        if (!(segment.kx(index, get_INTERRUPTED_RCV()) === get_INTERRUPTED_RCV())) {
          segment.xx(index, true);
        }
        tmp_0 = 5;
      }
      return tmp_0;
    }
  }
}
function shouldSendSuspend0($this, curSendersAndCloseStatus) {
  if (_get_isClosedForSend0__kxgf9m(curSendersAndCloseStatus, $this))
    return false;
  // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
  var tmp$ret$0 = curSendersAndCloseStatus.f3(new Long(-1, 268435455));
  return !bufferOrRendezvousSend($this, tmp$ret$0);
}
function bufferOrRendezvousSend($this, curSenders) {
  var tmp;
  if (curSenders.e1(_get_bufferEndCounter__2d4hee($this)) < 0) {
    tmp = true;
  } else {
    // Inline function 'kotlin.Long.plus' call
    var this_0 = $this.qz();
    var other = $this.lx_1;
    var tmp$ret$0 = this_0.t2(toLong(other));
    tmp = curSenders.e1(tmp$ret$0) < 0;
  }
  return tmp;
}
function tryResumeReceiver(_this__u8e3s4, $this, element) {
  var tmp;
  if (isInterface(_this__u8e3s4, SelectInstance)) {
    tmp = _this__u8e3s4.xz($this, element);
  } else {
    if (_this__u8e3s4 instanceof ReceiveCatching) {
      if (!(_this__u8e3s4 instanceof ReceiveCatching))
        THROW_CCE();
      var tmp_0 = Companion_getInstance_0().vz(element);
      var tmp86_safe_receiver = $this.mx_1;
      tmp = tryResume0(_this__u8e3s4.wz_1, new ChannelResult(tmp_0), tmp86_safe_receiver == null ? null : bindCancellationFunResult(tmp86_safe_receiver, $this));
    } else {
      if (_this__u8e3s4 instanceof BufferedChannelIterator) {
        if (!(_this__u8e3s4 instanceof BufferedChannelIterator))
          THROW_CCE();
        tmp = _this__u8e3s4.tz(element);
      } else {
        if (isInterface(_this__u8e3s4, CancellableContinuation)) {
          if (!isInterface(_this__u8e3s4, CancellableContinuation))
            THROW_CCE();
          var tmp87_safe_receiver = $this.mx_1;
          tmp = tryResume0(_this__u8e3s4, element, tmp87_safe_receiver == null ? null : bindCancellationFun_0(tmp87_safe_receiver, $this));
        } else {
          var message = 'Unexpected receiver type: ' + toString(_this__u8e3s4);
          throw IllegalStateException_init_$Create$(toString(message));
        }
      }
    }
  }
  return tmp;
}
function receiveOnNoWaiterSuspend($this, segment, index, r, $completion) {
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutineReusable.<anonymous>' call
  var cancellable = getOrCreateCancellableContinuation(intercepted($completion));
  try {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveOnNoWaiterSuspend.<anonymous>' call
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveImplOnNoWaiter' call
    var updCellResult = updateCellReceive($this, segment, index, r, cancellable);
    if (updCellResult === _get_SUSPEND_$accessor$yt74tm_ccb8g1()) {
      prepareReceiverForSuspension(cancellable, $this, segment, index);
    } else if (updCellResult === _get_FAILED_$accessor$yt74tm_h47uk8()) {
      if (r.e1($this.py()) < 0) {
        segment.jy();
      }
      $l$block_0: {
        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveImpl' call
        var segment_0 = $this.sx_1.kotlinx$atomicfu$value;
        $l$loop_0: while (true) {
          if ($this.qy()) {
            onClosedReceiveOnNoWaiterSuspend($this, cancellable);
            break $l$block_0;
          }
          var r_0 = $this.ox_1.atomicfu$getAndIncrement$long();
          // Inline function 'kotlin.Long.div' call
          var other = get_SEGMENT_SIZE();
          var id = r_0.w2(toLong(other));
          // Inline function 'kotlin.Long.rem' call
          var other_0 = get_SEGMENT_SIZE();
          var i = r_0.x2(toLong(other_0)).j1();
          if (!segment_0.yo_1.equals(id)) {
            var tmp0_elvis_lhs = findSegmentReceive($this, id, segment_0);
            var tmp;
            if (tmp0_elvis_lhs == null) {
              continue $l$loop_0;
            } else {
              tmp = tmp0_elvis_lhs;
            }
            segment_0 = tmp;
          }
          var updCellResult_0 = updateCellReceive($this, segment_0, i, r_0, cancellable);
          var tmp_0;
          if (updCellResult_0 === _get_SUSPEND_$accessor$yt74tm_ccb8g1()) {
            var tmp92_safe_receiver = (!(cancellable == null) ? isInterface(cancellable, Waiter) : false) ? cancellable : null;
            if (tmp92_safe_receiver == null)
              null;
            else {
              prepareReceiverForSuspension(tmp92_safe_receiver, $this, segment_0, i);
            }
            // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveImplOnNoWaiter.<anonymous>' call
            tmp_0 = Unit_instance;
          } else if (updCellResult_0 === _get_FAILED_$accessor$yt74tm_h47uk8()) {
            if (r_0.e1($this.py()) < 0) {
              segment_0.jy();
            }
            continue $l$loop_0;
          } else if (updCellResult_0 === _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky()) {
            var message = 'unexpected';
            throw IllegalStateException_init_$Create$(toString(message));
          } else {
            segment_0.jy();
            var element = (updCellResult_0 == null ? true : !(updCellResult_0 == null)) ? updCellResult_0 : THROW_CCE();
            var tmp88_safe_receiver = $this.mx_1;
            var onCancellation = tmp88_safe_receiver == null ? null : bindCancellationFun_0(tmp88_safe_receiver, $this);
            cancellable.ao(element, onCancellation);
            tmp_0 = Unit_instance;
          }
          break $l$block_0;
        }
      }
    } else {
      segment.jy();
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.receiveOnNoWaiterSuspend.<anonymous>.<anonymous>' call
      var element_0 = (updCellResult == null ? true : !(updCellResult == null)) ? updCellResult : THROW_CCE();
      var tmp88_safe_receiver_0 = $this.mx_1;
      var onCancellation_0 = tmp88_safe_receiver_0 == null ? null : bindCancellationFun_0(tmp88_safe_receiver_0, $this);
      cancellable.ao(element_0, onCancellation_0);
    }
  } catch ($p) {
    if ($p instanceof Error) {
      var e = $p;
      cancellable.vp();
      throw e;
    } else {
      throw $p;
    }
  }
  return cancellable.up();
}
function prepareReceiverForSuspension(_this__u8e3s4, $this, segment, index) {
  $this.yz();
  _this__u8e3s4.bq(segment, index);
}
function onClosedReceiveOnNoWaiterSuspend($this, cont) {
  // Inline function 'kotlin.coroutines.resumeWithException' call
  // Inline function 'kotlin.Companion.failure' call
  var exception = _get_receiveException__foorc1($this);
  var tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception));
  cont.v8(tmp$ret$0);
}
function updateCellReceive($this, segment, index, r, waiter) {
  var state = segment.hx(index);
  if (state === null) {
    // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
    var senders = $this.nx_1.kotlinx$atomicfu$value.f3(new Long(-1, 268435455));
    if (r.e1(senders) >= 0) {
      if (waiter === null) {
        return _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky();
      }
      if (segment.jx(index, state, waiter)) {
        expandBuffer($this);
        return _get_SUSPEND_$accessor$yt74tm_ccb8g1();
      }
    }
  } else if (state === get_BUFFERED())
    if (segment.jx(index, state, get_DONE_RCV())) {
      expandBuffer($this);
      return segment.fx(index);
    }
  return updateCellReceiveSlow($this, segment, index, r, waiter);
}
function updateCellReceiveSlow($this, segment, index, r, waiter) {
  $l$loop: while (true) {
    var state = segment.hx(index);
    if (state === null || state === get_IN_BUFFER()) {
      // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
      var senders = $this.nx_1.kotlinx$atomicfu$value.f3(new Long(-1, 268435455));
      if (r.e1(senders) < 0) {
        if (segment.jx(index, state, get_POISONED())) {
          expandBuffer($this);
          return _get_FAILED_$accessor$yt74tm_h47uk8();
        }
      } else {
        if (waiter === null) {
          return _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky();
        }
        if (segment.jx(index, state, waiter)) {
          expandBuffer($this);
          return _get_SUSPEND_$accessor$yt74tm_ccb8g1();
        }
      }
    } else if (state === get_BUFFERED()) {
      if (segment.jx(index, state, get_DONE_RCV())) {
        expandBuffer($this);
        return segment.fx(index);
      }
    } else if (state === get_INTERRUPTED_SEND())
      return _get_FAILED_$accessor$yt74tm_h47uk8();
    else if (state === get_POISONED())
      return _get_FAILED_$accessor$yt74tm_h47uk8();
    else if (state === get_CHANNEL_CLOSED()) {
      expandBuffer($this);
      return _get_FAILED_$accessor$yt74tm_h47uk8();
    } else if (state === get_RESUMING_BY_EB())
      continue $l$loop;
    else {
      if (segment.jx(index, state, get_RESUMING_BY_RCV())) {
        var helpExpandBuffer = state instanceof WaiterEB;
        var tmp;
        if (state instanceof WaiterEB) {
          tmp = state.sz_1;
        } else {
          tmp = state;
        }
        var sender = tmp;
        var tmp_0;
        if (tryResumeSender(sender, $this, segment, index)) {
          segment.ix(index, get_DONE_RCV());
          expandBuffer($this);
          tmp_0 = segment.fx(index);
        } else {
          segment.ix(index, get_INTERRUPTED_SEND());
          segment.xx(index, false);
          if (helpExpandBuffer) {
            expandBuffer($this);
          }
          tmp_0 = _get_FAILED_$accessor$yt74tm_h47uk8();
        }
        return tmp_0;
      }
    }
  }
}
function tryResumeSender(_this__u8e3s4, $this, segment, index) {
  var tmp;
  if (isInterface(_this__u8e3s4, CancellableContinuation)) {
    if (!isInterface(_this__u8e3s4, CancellableContinuation))
      THROW_CCE();
    tmp = tryResume0(_this__u8e3s4, Unit_instance);
  } else {
    if (isInterface(_this__u8e3s4, SelectInstance)) {
      if (!(_this__u8e3s4 instanceof SelectImplementation))
        THROW_CCE();
      var trySelectResult = _this__u8e3s4.d10($this, Unit_instance);
      if (trySelectResult === TrySelectDetailedResult_REREGISTER_getInstance()) {
        segment.gx(index);
      }
      tmp = trySelectResult === TrySelectDetailedResult_SUCCESSFUL_getInstance();
    } else {
      if (_this__u8e3s4 instanceof SendBroadcast) {
        tmp = tryResume0(_this__u8e3s4.zz_1, true);
      } else {
        var message = 'Unexpected waiter: ' + toString(_this__u8e3s4);
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
  return tmp;
}
function expandBuffer($this) {
  if (_get_isRendezvousOrUnlimited__3mdufi($this))
    return Unit_instance;
  var segment = $this.tx_1.kotlinx$atomicfu$value;
  try_again: while (true) {
    var b = $this.px_1.atomicfu$getAndIncrement$long();
    // Inline function 'kotlin.Long.div' call
    var other = get_SEGMENT_SIZE();
    var id = b.w2(toLong(other));
    var s = $this.py();
    if (s.e1(b) <= 0) {
      if (segment.yo_1.e1(id) < 0 && !(segment.fy() == null)) {
        moveSegmentBufferEndToSpecifiedOrLast($this, id, segment);
      }
      incCompletedExpandBufferAttempts$default($this);
      return Unit_instance;
    }
    if (!segment.yo_1.equals(id)) {
      var tmp0_elvis_lhs = findSegmentBufferEnd($this, id, segment, b);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        continue try_again;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      segment = tmp;
    }
    // Inline function 'kotlin.Long.rem' call
    var other_0 = get_SEGMENT_SIZE();
    var i = b.x2(toLong(other_0)).j1();
    if (updateCellExpandBuffer($this, segment, i, b)) {
      incCompletedExpandBufferAttempts$default($this);
      return Unit_instance;
    } else {
      incCompletedExpandBufferAttempts$default($this);
      continue try_again;
    }
  }
}
function updateCellExpandBuffer($this, segment, index, b) {
  var state = segment.hx(index);
  if (!(state == null) ? isInterface(state, Waiter) : false) {
    if (b.e1($this.ox_1.kotlinx$atomicfu$value) >= 0) {
      if (segment.jx(index, state, get_RESUMING_BY_EB())) {
        var tmp;
        if (tryResumeSender(state, $this, segment, index)) {
          segment.ix(index, get_BUFFERED());
          tmp = true;
        } else {
          segment.ix(index, get_INTERRUPTED_SEND());
          segment.xx(index, false);
          tmp = false;
        }
        return tmp;
      }
    }
  }
  return updateCellExpandBufferSlow($this, segment, index, b);
}
function updateCellExpandBufferSlow($this, segment, index, b) {
  $l$loop: while (true) {
    var state = segment.hx(index);
    if (!(state == null) ? isInterface(state, Waiter) : false) {
      if (b.e1($this.ox_1.kotlinx$atomicfu$value) < 0) {
        if (segment.jx(index, state, new WaiterEB(state)))
          return true;
      } else {
        if (segment.jx(index, state, get_RESUMING_BY_EB())) {
          var tmp;
          if (tryResumeSender(state, $this, segment, index)) {
            segment.ix(index, get_BUFFERED());
            tmp = true;
          } else {
            segment.ix(index, get_INTERRUPTED_SEND());
            segment.xx(index, false);
            tmp = false;
          }
          return tmp;
        }
      }
    } else {
      if (state === get_INTERRUPTED_SEND())
        return false;
      else {
        if (state === null) {
          if (segment.jx(index, state, get_IN_BUFFER()))
            return true;
        } else {
          if (state === get_BUFFERED())
            return true;
          else {
            if (state === get_POISONED() || state === get_DONE_RCV() || state === get_INTERRUPTED_RCV())
              return true;
            else {
              if (state === get_CHANNEL_CLOSED())
                return true;
              else {
                if (state === get_RESUMING_BY_RCV())
                  continue $l$loop;
                else {
                  var message = 'Unexpected cell state: ' + toString_0(state);
                  throw IllegalStateException_init_$Create$(toString(message));
                }
              }
            }
          }
        }
      }
    }
  }
}
function incCompletedExpandBufferAttempts($this, nAttempts) {
  // Inline function 'kotlin.also' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.incCompletedExpandBufferAttempts.<anonymous>' call
  // Inline function 'kotlinx.coroutines.channels.ebPauseExpandBuffers' call
  if (!$this.qx_1.atomicfu$addAndGet$long(nAttempts).f3(new Long(0, 1073741824)).equals(new Long(0, 0))) {
    $l$loop: while (true) {
      // Inline function 'kotlinx.coroutines.channels.ebPauseExpandBuffers' call
      if (!!$this.qx_1.kotlinx$atomicfu$value.f3(new Long(0, 1073741824)).equals(new Long(0, 0))) {
        break $l$loop;
      }
    }
  }
}
function incCompletedExpandBufferAttempts$default($this, nAttempts, $super) {
  nAttempts = nAttempts === VOID ? new Long(1, 0) : nAttempts;
  return incCompletedExpandBufferAttempts($this, nAttempts);
}
function BufferedChannelIterator($outer) {
  this.ny_1 = $outer;
  this.ly_1 = get_NO_RECEIVE_RESULT();
  this.my_1 = null;
}
protoOf(BufferedChannelIterator).e10 = function ($completion) {
  var tmp = new $hasNextCOROUTINE$7(this, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
protoOf(BufferedChannelIterator).bq = function (segment, index) {
  var tmp97_safe_receiver = this.my_1;
  if (tmp97_safe_receiver == null)
    null;
  else {
    tmp97_safe_receiver.bq(segment, index);
  }
};
protoOf(BufferedChannelIterator).o = function () {
  var result = this.ly_1;
  // Inline function 'kotlin.check' call
  // Inline function 'kotlin.contracts.contract' call
  if (!!(result === get_NO_RECEIVE_RESULT())) {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannelIterator.next.<anonymous>' call
    var message = '`hasNext()` has not been invoked';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  this.ly_1 = get_NO_RECEIVE_RESULT();
  if (result === get_CHANNEL_CLOSED())
    throw recoverStackTrace_0(_get_receiveException__foorc1(this.ny_1));
  return (result == null ? true : !(result == null)) ? result : THROW_CCE();
};
protoOf(BufferedChannelIterator).tz = function (element) {
  var cont = ensureNotNull(this.my_1);
  this.my_1 = null;
  this.ly_1 = element;
  var tmp98_safe_receiver = this.ny_1.mx_1;
  return tryResume0(cont, true, tmp98_safe_receiver == null ? null : bindCancellationFun(tmp98_safe_receiver, this.ny_1, element));
};
protoOf(BufferedChannelIterator).f10 = function () {
  var cont = ensureNotNull(this.my_1);
  this.my_1 = null;
  this.ly_1 = get_CHANNEL_CLOSED();
  var cause = this.ny_1.oy();
  if (cause == null) {
    // Inline function 'kotlin.coroutines.resume' call
    // Inline function 'kotlin.Companion.success' call
    var tmp$ret$0 = _Result___init__impl__xyqfz8(false);
    cont.v8(tmp$ret$0);
  } else {
    // Inline function 'kotlin.coroutines.resumeWithException' call
    // Inline function 'kotlin.Companion.failure' call
    var exception = recoverStackTrace(cause, cont);
    var tmp$ret$2 = _Result___init__impl__xyqfz8(createFailure(exception));
    cont.v8(tmp$ret$2);
  }
};
function _get_receiveException__foorc1($this) {
  var tmp0_elvis_lhs = $this.oy();
  return tmp0_elvis_lhs == null ? new ClosedReceiveChannelException('Channel was closed') : tmp0_elvis_lhs;
}
function invokeCloseHandler($this) {
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.getAndUpdate' call
    var this_0 = $this.wx_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.invokeCloseHandler.<anonymous>' call
      var tmp;
      if (cur === null) {
        tmp = get_CLOSE_HANDLER_CLOSED();
      } else {
        tmp = get_CLOSE_HANDLER_INVOKED();
      }
      var upd = tmp;
      if (this_0.atomicfu$compareAndSet(cur, upd)) {
        tmp$ret$1 = cur;
        break $l$block;
      }
    }
  }
  var tmp0_elvis_lhs = tmp$ret$1;
  var tmp_0;
  if (tmp0_elvis_lhs == null) {
    return Unit_instance;
  } else {
    tmp_0 = tmp0_elvis_lhs;
  }
  var closeHandler = tmp_0;
  if (typeof closeHandler !== 'function')
    THROW_CCE();
  closeHandler($this.oy());
}
function markClosed($this) {
  var tmp$ret$4;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    var this_0 = $this.nx_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.markClosed.<anonymous>' call
      // Inline function 'kotlinx.coroutines.channels.sendersCloseStatus' call
      var tmp;
      switch (cur.d3(60).j1()) {
        case 0:
          // Inline function 'kotlinx.coroutines.channels.sendersCounter' call

          var tmp$ret$1 = cur.f3(new Long(-1, 268435455));
          tmp = constructSendersAndCloseStatus(tmp$ret$1, 2);
          break;
        case 1:
          // Inline function 'kotlinx.coroutines.channels.sendersCounter' call

          var tmp$ret$2 = cur.f3(new Long(-1, 268435455));
          tmp = constructSendersAndCloseStatus(tmp$ret$2, 3);
          break;
        default:
          return Unit_instance;
      }
      var upd = tmp;
      if (this_0.atomicfu$compareAndSet(cur, upd)) {
        tmp$ret$4 = Unit_instance;
        break $l$block;
      }
    }
  }
  return tmp$ret$4;
}
function markCancelled($this) {
  var tmp$ret$2;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    var this_0 = $this.nx_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.markCancelled.<anonymous>' call
      // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
      var tmp$ret$0 = cur.f3(new Long(-1, 268435455));
      var upd = constructSendersAndCloseStatus(tmp$ret$0, 3);
      if (this_0.atomicfu$compareAndSet(cur, upd)) {
        tmp$ret$2 = Unit_instance;
        break $l$block;
      }
    }
  }
  return tmp$ret$2;
}
function markCancellationStarted($this) {
  var tmp$ret$3;
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    var this_0 = $this.nx_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.markCancellationStarted.<anonymous>' call
      var tmp;
      // Inline function 'kotlinx.coroutines.channels.sendersCloseStatus' call
      if (cur.d3(60).j1() === 0) {
        // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
        var tmp$ret$1 = cur.f3(new Long(-1, 268435455));
        tmp = constructSendersAndCloseStatus(tmp$ret$1, 1);
      } else {
        return Unit_instance;
      }
      var upd = tmp;
      if (this_0.atomicfu$compareAndSet(cur, upd)) {
        tmp$ret$3 = Unit_instance;
        break $l$block;
      }
    }
  }
  return tmp$ret$3;
}
function completeCloseOrCancel($this) {
  $this.g10();
}
function completeClose($this, sendersCur) {
  var lastSegment = closeLinkedList($this);
  if ($this.i10()) {
    var lastBufferedCellGlobalIndex = markAllEmptyCellsAsClosed($this, lastSegment);
    if (!lastBufferedCellGlobalIndex.equals(new Long(-1, -1))) {
      $this.h10(lastBufferedCellGlobalIndex);
    }
  }
  cancelSuspendedReceiveRequests($this, lastSegment, sendersCur);
  return lastSegment;
}
function completeCancel($this, sendersCur) {
  var lastSegment = completeClose($this, sendersCur);
  removeUnprocessedElements($this, lastSegment);
}
function closeLinkedList($this) {
  var lastSegment = $this.tx_1.kotlinx$atomicfu$value;
  // Inline function 'kotlin.let' call
  // Inline function 'kotlin.contracts.contract' call
  var it = $this.rx_1.kotlinx$atomicfu$value;
  if (it.yo_1.e1(lastSegment.yo_1) > 0)
    lastSegment = it;
  // Inline function 'kotlin.let' call
  // Inline function 'kotlin.contracts.contract' call
  var it_0 = $this.sx_1.kotlinx$atomicfu$value;
  if (it_0.yo_1.e1(lastSegment.yo_1) > 0)
    lastSegment = it_0;
  return close(lastSegment);
}
function markAllEmptyCellsAsClosed($this, lastSegment) {
  var segment = lastSegment;
  while (true) {
    var inductionVariable = get_SEGMENT_SIZE() - 1 | 0;
    if (0 <= inductionVariable)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        // Inline function 'kotlin.Long.plus' call
        // Inline function 'kotlin.Long.times' call
        var this_0 = segment.yo_1;
        var other = get_SEGMENT_SIZE();
        var globalIndex = this_0.v2(toLong(other)).t2(toLong(index));
        if (globalIndex.e1($this.qz()) < 0)
          return new Long(-1, -1);
        cell_update: while (true) {
          var state = segment.hx(index);
          if (state === null || state === get_IN_BUFFER()) {
            if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
              segment.zx();
              break cell_update;
            }
          } else if (state === get_BUFFERED())
            return globalIndex;
          else
            break cell_update;
        }
      }
       while (0 <= inductionVariable);
    var tmp0_elvis_lhs = segment.iy();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return new Long(-1, -1);
    } else {
      tmp = tmp0_elvis_lhs;
    }
    segment = tmp;
  }
}
function removeUnprocessedElements($this, lastSegment) {
  var onUndeliveredElement = $this.mx_1;
  var undeliveredElementException = null;
  var suspendedSenders = _InlineList___init__impl__z8n56();
  var segment = lastSegment;
  process_segments: while (true) {
    var inductionVariable = get_SEGMENT_SIZE() - 1 | 0;
    if (0 <= inductionVariable)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        // Inline function 'kotlin.Long.plus' call
        // Inline function 'kotlin.Long.times' call
        var this_0 = segment.yo_1;
        var other = get_SEGMENT_SIZE();
        var globalIndex = this_0.v2(toLong(other)).t2(toLong(index));
        update_cell: while (true) {
          var state = segment.hx(index);
          if (state === get_DONE_RCV())
            break process_segments;
          else {
            if (state === get_BUFFERED()) {
              if (globalIndex.e1($this.qz()) < 0)
                break process_segments;
              if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
                if (!(onUndeliveredElement == null)) {
                  var element = segment.ex(index);
                  undeliveredElementException = callUndeliveredElementCatchingException(onUndeliveredElement, element, undeliveredElementException);
                }
                segment.gx(index);
                segment.zx();
                break update_cell;
              }
            } else {
              if (state === get_IN_BUFFER() || state === null) {
                if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
                  segment.zx();
                  break update_cell;
                }
              } else {
                var tmp;
                if (!(state == null) ? isInterface(state, Waiter) : false) {
                  tmp = true;
                } else {
                  tmp = state instanceof WaiterEB;
                }
                if (tmp) {
                  if (globalIndex.e1($this.qz()) < 0)
                    break process_segments;
                  var tmp_0;
                  if (state instanceof WaiterEB) {
                    tmp_0 = state.sz_1;
                  } else {
                    tmp_0 = (!(state == null) ? isInterface(state, Waiter) : false) ? state : THROW_CCE();
                  }
                  var sender = tmp_0;
                  if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
                    if (!(onUndeliveredElement == null)) {
                      var element_0 = segment.ex(index);
                      undeliveredElementException = callUndeliveredElementCatchingException(onUndeliveredElement, element_0, undeliveredElementException);
                    }
                    suspendedSenders = InlineList__plus_impl_nuetvo(suspendedSenders, sender);
                    segment.gx(index);
                    segment.zx();
                    break update_cell;
                  }
                } else {
                  if (state === get_RESUMING_BY_EB() || state === get_RESUMING_BY_RCV())
                    break process_segments;
                  else {
                    if (state === get_RESUMING_BY_EB())
                      continue update_cell;
                    else {
                      break update_cell;
                    }
                  }
                }
              }
            }
          }
        }
      }
       while (0 <= inductionVariable);
    var tmp0_elvis_lhs = segment.iy();
    var tmp_1;
    if (tmp0_elvis_lhs == null) {
      break process_segments;
    } else {
      tmp_1 = tmp0_elvis_lhs;
    }
    segment = tmp_1;
  }
  $l$block: {
    // Inline function 'kotlinx.coroutines.internal.InlineList.forEachReversed' call
    var this_1 = suspendedSenders;
    var tmp154_subject = _get_holder__f6h5pd(this_1);
    if (tmp154_subject == null) {
      break $l$block;
    } else {
      if (!(tmp154_subject instanceof ArrayList)) {
        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.removeUnprocessedElements.<anonymous>' call
        var tmp_2 = _get_holder__f6h5pd(this_1);
        var it = (tmp_2 == null ? true : !(tmp_2 == null)) ? tmp_2 : THROW_CCE();
        resumeSenderOnCancelledChannel(it, $this);
      } else {
        var tmp_3 = _get_holder__f6h5pd(this_1);
        var list = tmp_3 instanceof ArrayList ? tmp_3 : THROW_CCE();
        var inductionVariable_0 = list.p() - 1 | 0;
        if (0 <= inductionVariable_0)
          do {
            var i = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + -1 | 0;
            // Inline function 'kotlinx.coroutines.channels.BufferedChannel.removeUnprocessedElements.<anonymous>' call
            var it_0 = list.u(i);
            resumeSenderOnCancelledChannel(it_0, $this);
          }
           while (0 <= inductionVariable_0);
      }
    }
  }
  var tmp100_safe_receiver = undeliveredElementException;
  if (tmp100_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    throw tmp100_safe_receiver;
  }
}
function cancelSuspendedReceiveRequests($this, lastSegment, sendersCounter) {
  var suspendedReceivers = _InlineList___init__impl__z8n56();
  var segment = lastSegment;
  process_segments: while (!(segment == null)) {
    var inductionVariable = get_SEGMENT_SIZE() - 1 | 0;
    if (0 <= inductionVariable)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        // Inline function 'kotlin.Long.plus' call
        // Inline function 'kotlin.Long.times' call
        var this_0 = segment.yo_1;
        var other = get_SEGMENT_SIZE();
        if (this_0.v2(toLong(other)).t2(toLong(index)).e1(sendersCounter) < 0)
          break process_segments;
        cell_update: while (true) {
          var state = segment.hx(index);
          if (state === null || state === get_IN_BUFFER()) {
            if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
              segment.zx();
              break cell_update;
            }
          } else {
            if (state instanceof WaiterEB) {
              if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
                suspendedReceivers = InlineList__plus_impl_nuetvo(suspendedReceivers, state.sz_1);
                segment.xx(index, true);
                break cell_update;
              }
            } else {
              if (!(state == null) ? isInterface(state, Waiter) : false) {
                if (segment.jx(index, state, get_CHANNEL_CLOSED())) {
                  suspendedReceivers = InlineList__plus_impl_nuetvo(suspendedReceivers, state);
                  segment.xx(index, true);
                  break cell_update;
                }
              } else {
                break cell_update;
              }
            }
          }
        }
      }
       while (0 <= inductionVariable);
    segment = segment.iy();
  }
  $l$block: {
    // Inline function 'kotlinx.coroutines.internal.InlineList.forEachReversed' call
    var this_1 = suspendedReceivers;
    var tmp154_subject = _get_holder__f6h5pd(this_1);
    if (tmp154_subject == null) {
      break $l$block;
    } else {
      if (!(tmp154_subject instanceof ArrayList)) {
        // Inline function 'kotlinx.coroutines.channels.BufferedChannel.cancelSuspendedReceiveRequests.<anonymous>' call
        var tmp = _get_holder__f6h5pd(this_1);
        var it = (tmp == null ? true : !(tmp == null)) ? tmp : THROW_CCE();
        resumeReceiverOnClosedChannel(it, $this);
      } else {
        var tmp_0 = _get_holder__f6h5pd(this_1);
        var list = tmp_0 instanceof ArrayList ? tmp_0 : THROW_CCE();
        var inductionVariable_0 = list.p() - 1 | 0;
        if (0 <= inductionVariable_0)
          do {
            var i = inductionVariable_0;
            inductionVariable_0 = inductionVariable_0 + -1 | 0;
            // Inline function 'kotlinx.coroutines.channels.BufferedChannel.cancelSuspendedReceiveRequests.<anonymous>' call
            var it_0 = list.u(i);
            resumeReceiverOnClosedChannel(it_0, $this);
          }
           while (0 <= inductionVariable_0);
      }
    }
  }
}
function resumeReceiverOnClosedChannel(_this__u8e3s4, $this) {
  return resumeWaiterOnClosedChannel(_this__u8e3s4, $this, true);
}
function resumeSenderOnCancelledChannel(_this__u8e3s4, $this) {
  return resumeWaiterOnClosedChannel(_this__u8e3s4, $this, false);
}
function resumeWaiterOnClosedChannel(_this__u8e3s4, $this, receiver) {
  if (_this__u8e3s4 instanceof SendBroadcast) {
    // Inline function 'kotlin.coroutines.resume' call
    var this_0 = _this__u8e3s4.zz_1;
    // Inline function 'kotlin.Companion.success' call
    var tmp$ret$0 = _Result___init__impl__xyqfz8(false);
    this_0.v8(tmp$ret$0);
  } else {
    if (isInterface(_this__u8e3s4, CancellableContinuation)) {
      // Inline function 'kotlin.coroutines.resumeWithException' call
      // Inline function 'kotlin.Companion.failure' call
      var exception = receiver ? _get_receiveException__foorc1($this) : $this.pz();
      var tmp$ret$2 = _Result___init__impl__xyqfz8(createFailure(exception));
      _this__u8e3s4.v8(tmp$ret$2);
    } else {
      if (_this__u8e3s4 instanceof ReceiveCatching) {
        // Inline function 'kotlin.coroutines.resume' call
        var this_1 = _this__u8e3s4.wz_1;
        // Inline function 'kotlin.Companion.success' call
        var value = new ChannelResult(Companion_getInstance_0().j10($this.oy()));
        var tmp$ret$4 = _Result___init__impl__xyqfz8(value);
        this_1.v8(tmp$ret$4);
      } else {
        if (_this__u8e3s4 instanceof BufferedChannelIterator) {
          _this__u8e3s4.f10();
        } else {
          if (isInterface(_this__u8e3s4, SelectInstance))
            _this__u8e3s4.xz($this, get_CHANNEL_CLOSED());
          else {
            var message = 'Unexpected waiter: ' + toString(_this__u8e3s4);
            throw IllegalStateException_init_$Create$(toString(message));
          }
        }
      }
    }
  }
}
function _get_isClosedForSend0__kxgf9m(_this__u8e3s4, $this) {
  return isClosed($this, _this__u8e3s4, false);
}
function _get_isClosedForReceive0__f7qknl(_this__u8e3s4, $this) {
  return isClosed($this, _this__u8e3s4, true);
}
function isClosed($this, sendersAndCloseStatusCur, isClosedForReceive) {
  // Inline function 'kotlinx.coroutines.channels.sendersCloseStatus' call
  var tmp;
  switch (sendersAndCloseStatusCur.d3(60).j1()) {
    case 0:
      tmp = false;
      break;
    case 1:
      tmp = false;
      break;
    case 2:
      // Inline function 'kotlinx.coroutines.channels.sendersCounter' call

      var tmp$ret$1 = sendersAndCloseStatusCur.f3(new Long(-1, 268435455));
      completeClose($this, tmp$ret$1);
      tmp = isClosedForReceive ? !$this.k10() : true;
      break;
    case 3:
      // Inline function 'kotlinx.coroutines.channels.sendersCounter' call

      var tmp$ret$2 = sendersAndCloseStatusCur.f3(new Long(-1, 268435455));
      completeCancel($this, tmp$ret$2);
      tmp = true;
      break;
    default:
      // Inline function 'kotlinx.coroutines.channels.sendersCloseStatus' call

      var message = 'unexpected close status: ' + sendersAndCloseStatusCur.d3(60).j1();
      throw IllegalStateException_init_$Create$(toString(message));
  }
  return tmp;
}
function isCellNonEmpty($this, segment, index, globalIndex) {
  while (true) {
    var state = segment.hx(index);
    if (state === null || state === get_IN_BUFFER()) {
      if (segment.jx(index, state, get_POISONED())) {
        expandBuffer($this);
        return false;
      }
    } else if (state === get_BUFFERED())
      return true;
    else if (state === get_INTERRUPTED_SEND())
      return false;
    else if (state === get_CHANNEL_CLOSED())
      return false;
    else if (state === get_DONE_RCV())
      return false;
    else if (state === get_POISONED())
      return false;
    else if (state === get_RESUMING_BY_EB())
      return true;
    else if (state === get_RESUMING_BY_RCV())
      return false;
    else
      return globalIndex.equals($this.qz());
  }
}
function findSegmentSend($this, id, startFrom) {
  // Inline function 'kotlin.let' call
  var tmp$ret$1;
  $l$block_2: {
    // Inline function 'kotlinx.coroutines.internal.findSegmentAndMoveForward' call
    var this_0 = $this.rx_1;
    var createNewSegment = createSegmentFunction();
    while (true) {
      var s = findSegmentInternal(startFrom, id, createNewSegment);
      var tmp;
      if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(s)) {
        tmp = true;
      } else {
        var tmp$ret$0;
        $l$block_1: {
          // Inline function 'kotlinx.coroutines.internal.moveForward' call
          var to = _SegmentOrClosed___get_segment__impl__jvcr9l(s);
          while (true) {
            // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
            var cur = this_0.kotlinx$atomicfu$value;
            if (cur.yo_1.e1(to.yo_1) >= 0) {
              tmp$ret$0 = true;
              break $l$block_1;
            }
            if (!to.by()) {
              tmp$ret$0 = false;
              break $l$block_1;
            }
            if (this_0.atomicfu$compareAndSet(cur, to)) {
              if (cur.cy()) {
                cur.c4();
              }
              tmp$ret$0 = true;
              break $l$block_1;
            }
            if (to.cy()) {
              to.c4();
            }
          }
          tmp$ret$0 = Unit_instance;
        }
        tmp = tmp$ret$0;
      }
      if (tmp) {
        tmp$ret$1 = s;
        break $l$block_2;
      }
    }
  }
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.findSegmentSend.<anonymous>' call
  var it = tmp$ret$1;
  var tmp_0;
  if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(it)) {
    completeCloseOrCancel($this);
    // Inline function 'kotlin.Long.times' call
    var this_1 = startFrom.yo_1;
    var other = get_SEGMENT_SIZE();
    if (this_1.v2(toLong(other)).e1($this.qz()) < 0) {
      startFrom.jy();
    }
    tmp_0 = null;
  } else {
    var segment = _SegmentOrClosed___get_segment__impl__jvcr9l(it);
    var tmp_1;
    if (segment.yo_1.e1(id) > 0) {
      // Inline function 'kotlin.Long.times' call
      var this_2 = segment.yo_1;
      var other_0 = get_SEGMENT_SIZE();
      var tmp$ret$3 = this_2.v2(toLong(other_0));
      updateSendersCounterIfLower($this, tmp$ret$3);
      // Inline function 'kotlin.Long.times' call
      var this_3 = segment.yo_1;
      var other_1 = get_SEGMENT_SIZE();
      if (this_3.v2(toLong(other_1)).e1($this.qz()) < 0) {
        segment.jy();
      }
      tmp_1 = null;
    } else {
      // Inline function 'kotlinx.coroutines.assert' call
      tmp_1 = segment;
    }
    tmp_0 = tmp_1;
  }
  return tmp_0;
}
function findSegmentReceive($this, id, startFrom) {
  // Inline function 'kotlin.let' call
  var tmp$ret$1;
  $l$block_2: {
    // Inline function 'kotlinx.coroutines.internal.findSegmentAndMoveForward' call
    var this_0 = $this.sx_1;
    var createNewSegment = createSegmentFunction();
    while (true) {
      var s = findSegmentInternal(startFrom, id, createNewSegment);
      var tmp;
      if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(s)) {
        tmp = true;
      } else {
        var tmp$ret$0;
        $l$block_1: {
          // Inline function 'kotlinx.coroutines.internal.moveForward' call
          var to = _SegmentOrClosed___get_segment__impl__jvcr9l(s);
          while (true) {
            // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
            var cur = this_0.kotlinx$atomicfu$value;
            if (cur.yo_1.e1(to.yo_1) >= 0) {
              tmp$ret$0 = true;
              break $l$block_1;
            }
            if (!to.by()) {
              tmp$ret$0 = false;
              break $l$block_1;
            }
            if (this_0.atomicfu$compareAndSet(cur, to)) {
              if (cur.cy()) {
                cur.c4();
              }
              tmp$ret$0 = true;
              break $l$block_1;
            }
            if (to.cy()) {
              to.c4();
            }
          }
          tmp$ret$0 = Unit_instance;
        }
        tmp = tmp$ret$0;
      }
      if (tmp) {
        tmp$ret$1 = s;
        break $l$block_2;
      }
    }
  }
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.findSegmentReceive.<anonymous>' call
  var it = tmp$ret$1;
  var tmp_0;
  if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(it)) {
    completeCloseOrCancel($this);
    // Inline function 'kotlin.Long.times' call
    var this_1 = startFrom.yo_1;
    var other = get_SEGMENT_SIZE();
    if (this_1.v2(toLong(other)).e1($this.py()) < 0) {
      startFrom.jy();
    }
    tmp_0 = null;
  } else {
    var segment = _SegmentOrClosed___get_segment__impl__jvcr9l(it);
    var tmp_1;
    if (!_get_isRendezvousOrUnlimited__3mdufi($this)) {
      // Inline function 'kotlin.Long.div' call
      var this_2 = _get_bufferEndCounter__2d4hee($this);
      var other_0 = get_SEGMENT_SIZE();
      var tmp$ret$3 = this_2.w2(toLong(other_0));
      tmp_1 = id.e1(tmp$ret$3) <= 0;
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      $l$block_5: {
        // Inline function 'kotlinx.coroutines.internal.moveForward' call
        var this_3 = $this.tx_1;
        while (true) {
          // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
          var cur_0 = this_3.kotlinx$atomicfu$value;
          if (cur_0.yo_1.e1(segment.yo_1) >= 0) {
            break $l$block_5;
          }
          if (!segment.by()) {
            break $l$block_5;
          }
          if (this_3.atomicfu$compareAndSet(cur_0, segment)) {
            if (cur_0.cy()) {
              cur_0.c4();
            }
            break $l$block_5;
          }
          if (segment.cy()) {
            segment.c4();
          }
        }
      }
    }
    var tmp_2;
    if (segment.yo_1.e1(id) > 0) {
      // Inline function 'kotlin.Long.times' call
      var this_4 = segment.yo_1;
      var other_1 = get_SEGMENT_SIZE();
      var tmp$ret$5 = this_4.v2(toLong(other_1));
      updateReceiversCounterIfLower($this, tmp$ret$5);
      // Inline function 'kotlin.Long.times' call
      var this_5 = segment.yo_1;
      var other_2 = get_SEGMENT_SIZE();
      if (this_5.v2(toLong(other_2)).e1($this.py()) < 0) {
        segment.jy();
      }
      tmp_2 = null;
    } else {
      // Inline function 'kotlinx.coroutines.assert' call
      tmp_2 = segment;
    }
    tmp_0 = tmp_2;
  }
  return tmp_0;
}
function findSegmentBufferEnd($this, id, startFrom, currentBufferEndCounter) {
  // Inline function 'kotlin.let' call
  var tmp$ret$1;
  $l$block_2: {
    // Inline function 'kotlinx.coroutines.internal.findSegmentAndMoveForward' call
    var this_0 = $this.tx_1;
    var createNewSegment = createSegmentFunction();
    while (true) {
      var s = findSegmentInternal(startFrom, id, createNewSegment);
      var tmp;
      if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(s)) {
        tmp = true;
      } else {
        var tmp$ret$0;
        $l$block_1: {
          // Inline function 'kotlinx.coroutines.internal.moveForward' call
          var to = _SegmentOrClosed___get_segment__impl__jvcr9l(s);
          while (true) {
            // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
            var cur = this_0.kotlinx$atomicfu$value;
            if (cur.yo_1.e1(to.yo_1) >= 0) {
              tmp$ret$0 = true;
              break $l$block_1;
            }
            if (!to.by()) {
              tmp$ret$0 = false;
              break $l$block_1;
            }
            if (this_0.atomicfu$compareAndSet(cur, to)) {
              if (cur.cy()) {
                cur.c4();
              }
              tmp$ret$0 = true;
              break $l$block_1;
            }
            if (to.cy()) {
              to.c4();
            }
          }
          tmp$ret$0 = Unit_instance;
        }
        tmp = tmp$ret$0;
      }
      if (tmp) {
        tmp$ret$1 = s;
        break $l$block_2;
      }
    }
  }
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.findSegmentBufferEnd.<anonymous>' call
  var it = tmp$ret$1;
  var tmp_0;
  if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(it)) {
    completeCloseOrCancel($this);
    moveSegmentBufferEndToSpecifiedOrLast($this, id, startFrom);
    incCompletedExpandBufferAttempts$default($this);
    tmp_0 = null;
  } else {
    var segment = _SegmentOrClosed___get_segment__impl__jvcr9l(it);
    var tmp_1;
    if (segment.yo_1.e1(id) > 0) {
      // Inline function 'kotlin.Long.plus' call
      var tmp_2 = currentBufferEndCounter.t2(toLong(1));
      // Inline function 'kotlin.Long.times' call
      var this_1 = segment.yo_1;
      var other = get_SEGMENT_SIZE();
      var tmp$ret$3 = this_1.v2(toLong(other));
      if ($this.px_1.atomicfu$compareAndSet(tmp_2, tmp$ret$3)) {
        // Inline function 'kotlin.Long.times' call
        var this_2 = segment.yo_1;
        var other_0 = get_SEGMENT_SIZE();
        var tmp$ret$4 = this_2.v2(toLong(other_0));
        incCompletedExpandBufferAttempts($this, tmp$ret$4.u2(currentBufferEndCounter));
      } else {
        incCompletedExpandBufferAttempts$default($this);
      }
      tmp_1 = null;
    } else {
      // Inline function 'kotlinx.coroutines.assert' call
      tmp_1 = segment;
    }
    tmp_0 = tmp_1;
  }
  return tmp_0;
}
function moveSegmentBufferEndToSpecifiedOrLast($this, id, startFrom) {
  var segment = startFrom;
  $l$loop: while (segment.yo_1.e1(id) < 0) {
    var tmp0_elvis_lhs = segment.fy();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      break $l$loop;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    segment = tmp;
  }
  while (true) {
    $l$loop_0: while (segment.ay()) {
      var tmp1_elvis_lhs = segment.fy();
      var tmp_0;
      if (tmp1_elvis_lhs == null) {
        break $l$loop_0;
      } else {
        tmp_0 = tmp1_elvis_lhs;
      }
      segment = tmp_0;
    }
    var tmp$ret$0;
    $l$block_1: {
      // Inline function 'kotlinx.coroutines.internal.moveForward' call
      var this_0 = $this.tx_1;
      var to = segment;
      while (true) {
        // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
        var cur = this_0.kotlinx$atomicfu$value;
        if (cur.yo_1.e1(to.yo_1) >= 0) {
          tmp$ret$0 = true;
          break $l$block_1;
        }
        if (!to.by()) {
          tmp$ret$0 = false;
          break $l$block_1;
        }
        if (this_0.atomicfu$compareAndSet(cur, to)) {
          if (cur.cy()) {
            cur.c4();
          }
          tmp$ret$0 = true;
          break $l$block_1;
        }
        if (to.cy()) {
          to.c4();
        }
      }
      tmp$ret$0 = Unit_instance;
    }
    if (tmp$ret$0)
      return Unit_instance;
  }
}
function updateSendersCounterIfLower($this, value) {
  var this_0 = $this.nx_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.updateSendersCounterIfLower.<anonymous>' call
    var cur = this_0.kotlinx$atomicfu$value;
    // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
    var curCounter = cur.f3(new Long(-1, 268435455));
    if (curCounter.e1(value) >= 0)
      return Unit_instance;
    // Inline function 'kotlinx.coroutines.channels.sendersCloseStatus' call
    var tmp$ret$1 = cur.d3(60).j1();
    var update = constructSendersAndCloseStatus(curCounter, tmp$ret$1);
    if ($this.nx_1.atomicfu$compareAndSet(cur, update))
      return Unit_instance;
  }
  return Unit_instance;
}
function updateReceiversCounterIfLower($this, value) {
  var this_0 = $this.ox_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.updateReceiversCounterIfLower.<anonymous>' call
    var cur = this_0.kotlinx$atomicfu$value;
    if (cur.e1(value) >= 0)
      return Unit_instance;
    if ($this.ox_1.atomicfu$compareAndSet(cur, value))
      return Unit_instance;
  }
  return Unit_instance;
}
function bindCancellationFunResult(_this__u8e3s4, $this) {
  return BufferedChannel$onCancellationChannelResultImplDoNotCall$ref($this);
}
function onCancellationChannelResultImplDoNotCall($this, cause, element, context) {
  callUndeliveredElement(ensureNotNull($this.mx_1), ensureNotNull(ChannelResult__getOrNull_impl_f5e07h(element)), context);
}
function bindCancellationFun(_this__u8e3s4, $this, element) {
  return BufferedChannel$bindCancellationFun$lambda(_this__u8e3s4, element);
}
function bindCancellationFun_0(_this__u8e3s4, $this) {
  return BufferedChannel$onCancellationImplDoNotCall$ref($this);
}
function onCancellationImplDoNotCall($this, cause, element, context) {
  callUndeliveredElement(ensureNotNull($this.mx_1), element, context);
}
function BufferedChannel$onUndeliveredElementReceiveCancellationConstructor$lambda$lambda($element, this$0, $select) {
  return function (_unused_var__etf5q3, _unused_var__etf5q3_0, _unused_var__etf5q3_1) {
    var tmp;
    if (!($element === get_CHANNEL_CLOSED())) {
      callUndeliveredElement(this$0.mx_1, ($element == null ? true : !($element == null)) ? $element : THROW_CCE(), $select.q8());
      tmp = Unit_instance;
    }
    return Unit_instance;
  };
}
function BufferedChannel$onUndeliveredElementReceiveCancellationConstructor$lambda(this$0) {
  return function (select, _unused_var__etf5q3, element) {
    return BufferedChannel$onUndeliveredElementReceiveCancellationConstructor$lambda$lambda(element, this$0, select);
  };
}
function BufferedChannel$onCancellationChannelResultImplDoNotCall$ref($boundThis) {
  var l = function (p0, p1, p2) {
    onCancellationChannelResultImplDoNotCall($boundThis, p0, p1.m10_1, p2);
    return Unit_instance;
  };
  l.callableName = 'onCancellationChannelResultImplDoNotCall';
  return l;
}
function BufferedChannel$bindCancellationFun$lambda($this_bindCancellationFun, $element) {
  return function (_unused_var__etf5q3, _unused_var__etf5q3_0, context) {
    callUndeliveredElement($this_bindCancellationFun, $element, context);
    return Unit_instance;
  };
}
function BufferedChannel$onCancellationImplDoNotCall$ref($boundThis) {
  var l = function (p0, p1, p2) {
    onCancellationImplDoNotCall($boundThis, p0, p1, p2);
    return Unit_instance;
  };
  l.callableName = 'onCancellationImplDoNotCall';
  return l;
}
function $sendCOROUTINE$4(_this__u8e3s4, element, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.v10_1 = _this__u8e3s4;
  this.w10_1 = element;
}
protoOf($sendCOROUTINE$4).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 11;
          this.k8_1 = 1;
          continue $sm;
        case 1:
          var tmp_0 = this;
          tmp_0.y10_1 = this.v10_1;
          var tmp_1 = this;
          tmp_1.z10_1 = this.w10_1;
          var tmp_2 = this;
          tmp_2.a11_1 = null;
          this.b11_1 = this.y10_1.rx_1.kotlinx$atomicfu$value;
          this.k8_1 = 2;
          continue $sm;
        case 2:
          if (!true) {
            this.k8_1 = 12;
            continue $sm;
          }

          this.c11_1 = this.y10_1.nx_1.atomicfu$getAndIncrement$long();
          var tmp_3 = this;
          tmp_3.d11_1 = this.c11_1.f3(new Long(-1, 268435455));
          this.e11_1 = _get_isClosedForSend0__kxgf9m(this.c11_1, this.y10_1);
          var tmp_4 = this;
          var this_0 = this.d11_1;
          var other = get_SEGMENT_SIZE();
          tmp_4.f11_1 = this_0.w2(toLong(other));
          var tmp_5 = this;
          var this_1 = this.d11_1;
          var other_0 = get_SEGMENT_SIZE();
          tmp_5.g11_1 = this_1.x2(toLong(other_0)).j1();
          if (!this.b11_1.yo_1.equals(this.f11_1)) {
            this.h11_1 = findSegmentSend(this.y10_1, this.f11_1, this.b11_1);
            if (this.h11_1 == null) {
              if (this.e11_1) {
                this.k8_1 = 10;
                suspendResult = onClosedSend(this.v10_1, this.w10_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }
                continue $sm;
              } else {
                this.k8_1 = 2;
                continue $sm;
              }
            } else {
              this.i11_1 = this.h11_1;
              this.k8_1 = 3;
              continue $sm;
            }
          } else {
            this.k8_1 = 4;
            continue $sm;
          }

        case 3:
          this.b11_1 = this.i11_1;
          this.k8_1 = 4;
          continue $sm;
        case 4:
          this.j11_1 = updateCellSend(this.y10_1, this.b11_1, this.g11_1, this.z10_1, this.d11_1, this.a11_1, this.e11_1);
          if (this.j11_1 === 0) {
            this.b11_1.jy();
            var tmp_6 = this;
            tmp_6.x10_1 = Unit_instance;
            this.k8_1 = 13;
            continue $sm;
          } else {
            if (this.j11_1 === 1) {
              var tmp_7 = this;
              tmp_7.x10_1 = Unit_instance;
              this.k8_1 = 13;
              continue $sm;
            } else {
              if (this.j11_1 === 2) {
                if (this.e11_1) {
                  this.b11_1.zx();
                  this.k8_1 = 9;
                  suspendResult = onClosedSend(this.v10_1, this.w10_1, this);
                  if (suspendResult === get_COROUTINE_SUSPENDED()) {
                    return suspendResult;
                  }
                  continue $sm;
                } else {
                  this.k8_1 = 8;
                  continue $sm;
                }
              } else {
                if (this.j11_1 === 4) {
                  if (this.d11_1.e1(this.y10_1.qz()) < 0) {
                    this.b11_1.jy();
                  }
                  this.k8_1 = 7;
                  suspendResult = onClosedSend(this.v10_1, this.w10_1, this);
                  if (suspendResult === get_COROUTINE_SUSPENDED()) {
                    return suspendResult;
                  }
                  continue $sm;
                } else {
                  if (this.j11_1 === 5) {
                    this.b11_1.jy();
                    this.k8_1 = 2;
                    continue $sm;
                  } else {
                    if (this.j11_1 === 3) {
                      var tmp_8 = this;
                      tmp_8.k11_1 = this.b11_1;
                      var tmp_9 = this;
                      tmp_9.l11_1 = this.g11_1;
                      var tmp_10 = this;
                      tmp_10.m11_1 = this.z10_1;
                      var tmp_11 = this;
                      tmp_11.n11_1 = this.d11_1;
                      this.k8_1 = 6;
                      suspendResult = sendOnNoWaiterSuspend(this.v10_1, this.k11_1, this.l11_1, this.m11_1, this.n11_1, this);
                      if (suspendResult === get_COROUTINE_SUSPENDED()) {
                        return suspendResult;
                      }
                      continue $sm;
                    } else {
                      this.k8_1 = 5;
                      continue $sm;
                    }
                  }
                }
              }
            }
          }

        case 5:
          this.k8_1 = 2;
          continue $sm;
        case 6:
          this.x10_1 = suspendResult;
          this.k8_1 = 13;
          continue $sm;
        case 7:
          this.x10_1 = suspendResult;
          this.k8_1 = 13;
          continue $sm;
        case 8:
          var tmp_12 = this.a11_1;
          var tmp83_safe_receiver = (!(tmp_12 == null) ? isInterface(tmp_12, Waiter) : false) ? tmp_12 : null;
          if (tmp83_safe_receiver == null)
            null;
          else {
            prepareSenderForSuspension(tmp83_safe_receiver, this.y10_1, this.b11_1, this.g11_1);
          }

          var tmp_13 = this;
          this.b11_1;
          this.g11_1;
          tmp_13.x10_1 = Unit_instance;
          this.k8_1 = 13;
          continue $sm;
        case 9:
          this.x10_1 = suspendResult;
          this.k8_1 = 13;
          continue $sm;
        case 10:
          this.x10_1 = suspendResult;
          this.k8_1 = 13;
          continue $sm;
        case 11:
          throw this.n8_1;
        case 12:
          if (false) {
            this.k8_1 = 1;
            continue $sm;
          }

          this.k8_1 = 13;
          continue $sm;
        case 13:
          return Unit_instance;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 11) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function $receiveCOROUTINE$5(_this__u8e3s4, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.w11_1 = _this__u8e3s4;
}
protoOf($receiveCOROUTINE$5).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 8;
          this.k8_1 = 1;
          continue $sm;
        case 1:
          var tmp_0 = this;
          tmp_0.y11_1 = this.w11_1;
          var tmp_1 = this;
          tmp_1.z11_1 = null;
          this.a12_1 = this.y11_1.sx_1.kotlinx$atomicfu$value;
          this.k8_1 = 2;
          continue $sm;
        case 2:
          if (!true) {
            this.k8_1 = 9;
            continue $sm;
          }

          if (this.y11_1.qy()) {
            var tmp_2 = this;
            throw recoverStackTrace_0(_get_receiveException__foorc1(this.w11_1));
          } else {
            this.k8_1 = 3;
            continue $sm;
          }

        case 3:
          this.b12_1 = this.y11_1.ox_1.atomicfu$getAndIncrement$long();
          var tmp_3 = this;
          var this_0 = this.b12_1;
          var other = get_SEGMENT_SIZE();
          tmp_3.c12_1 = this_0.w2(toLong(other));
          var tmp_4 = this;
          var this_1 = this.b12_1;
          var other_0 = get_SEGMENT_SIZE();
          tmp_4.d12_1 = this_1.x2(toLong(other_0)).j1();
          if (!this.a12_1.yo_1.equals(this.c12_1)) {
            this.e12_1 = findSegmentReceive(this.y11_1, this.c12_1, this.a12_1);
            if (this.e12_1 == null) {
              this.k8_1 = 2;
              var tmp_5 = this;
              continue $sm;
            } else {
              this.f12_1 = this.e12_1;
              this.k8_1 = 4;
              continue $sm;
            }
          } else {
            this.k8_1 = 5;
            continue $sm;
          }

        case 4:
          this.a12_1 = this.f12_1;
          this.k8_1 = 5;
          continue $sm;
        case 5:
          this.g12_1 = updateCellReceive(this.y11_1, this.a12_1, this.d12_1, this.b12_1, this.z11_1);
          if (this.g12_1 === _get_SUSPEND_$accessor$yt74tm_ccb8g1()) {
            var tmp_6 = this;
            var tmp_7 = this.z11_1;
            var tmp92_safe_receiver = (!(tmp_7 == null) ? isInterface(tmp_7, Waiter) : false) ? tmp_7 : null;
            if (tmp92_safe_receiver == null)
              null;
            else {
              prepareReceiverForSuspension(tmp92_safe_receiver, this.y11_1, this.a12_1, this.d12_1);
            }
            this.a12_1;
            this.d12_1;
            this.b12_1;
            var message = 'unexpected';
            throw IllegalStateException_init_$Create$(toString(message));
          } else {
            if (this.g12_1 === _get_FAILED_$accessor$yt74tm_h47uk8()) {
              if (this.b12_1.e1(this.y11_1.py()) < 0) {
                this.a12_1.jy();
              }
              this.k8_1 = 2;
              var tmp_8 = this;
              continue $sm;
            } else {
              if (this.g12_1 === _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky()) {
                var tmp_9 = this;
                tmp_9.i12_1 = this.a12_1;
                var tmp_10 = this;
                tmp_10.j12_1 = this.d12_1;
                var tmp_11 = this;
                tmp_11.k12_1 = this.b12_1;
                this.k8_1 = 6;
                suspendResult = receiveOnNoWaiterSuspend(this.w11_1, this.i12_1, this.j12_1, this.k12_1, this);
                if (suspendResult === get_COROUTINE_SUSPENDED()) {
                  return suspendResult;
                }
                continue $sm;
              } else {
                var tmp_12 = this;
                this.a12_1.jy();
                var tmp_13 = this.g12_1;
                return (tmp_13 == null ? true : !(tmp_13 == null)) ? tmp_13 : THROW_CCE();
              }
            }
          }

        case 6:
          this.h12_1 = suspendResult;
          this.k8_1 = 7;
          continue $sm;
        case 7:
          this.x11_1 = this.h12_1;
          this.k8_1 = 10;
          continue $sm;
        case 8:
          throw this.n8_1;
        case 9:
          if (false) {
            this.k8_1 = 1;
            continue $sm;
          }

          this.k8_1 = 10;
          continue $sm;
        case 10:
          return this.x11_1;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 8) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function BufferedChannel(capacity, onUndeliveredElement) {
  onUndeliveredElement = onUndeliveredElement === VOID ? null : onUndeliveredElement;
  this.lx_1 = capacity;
  this.mx_1 = onUndeliveredElement;
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.contracts.contract' call
  if (!(this.lx_1 >= 0)) {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.<anonymous>' call
    var message = 'Invalid channel capacity: ' + this.lx_1 + ', should be >=0';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.nx_1 = atomic$long$1(new Long(0, 0));
  this.ox_1 = atomic$long$1(new Long(0, 0));
  this.px_1 = atomic$long$1(initialBufferEnd(this.lx_1));
  this.qx_1 = atomic$long$1(_get_bufferEndCounter__2d4hee(this));
  var firstSegment = new ChannelSegment(new Long(0, 0), null, this, 3);
  this.rx_1 = atomic$ref$1(firstSegment);
  this.sx_1 = atomic$ref$1(firstSegment);
  var tmp = this;
  var tmp_0;
  if (_get_isRendezvousOrUnlimited__3mdufi(this)) {
    var tmp_1 = get_NULL_SEGMENT();
    tmp_0 = tmp_1 instanceof ChannelSegment ? tmp_1 : THROW_CCE();
  } else {
    tmp_0 = firstSegment;
  }
  tmp.tx_1 = atomic$ref$1(tmp_0);
  var tmp_2 = this;
  var tmp_3;
  if (this.mx_1 == null) {
    tmp_3 = null;
  } else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.onUndeliveredElementReceiveCancellationConstructor.<anonymous>' call
    tmp_3 = BufferedChannel$onUndeliveredElementReceiveCancellationConstructor$lambda(this);
  }
  tmp_2.ux_1 = tmp_3;
  this.vx_1 = atomic$ref$1(get_NO_CLOSE_CAUSE());
  this.wx_1 = atomic$ref$1(null);
}
protoOf(BufferedChannel).py = function () {
  // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
  return this.nx_1.kotlinx$atomicfu$value.f3(new Long(-1, 268435455));
};
protoOf(BufferedChannel).qz = function () {
  return this.ox_1.kotlinx$atomicfu$value;
};
protoOf(BufferedChannel).l12 = function (element, $completion) {
  var tmp = new $sendCOROUTINE$4(this, element, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
protoOf(BufferedChannel).m12 = function (element) {
  if (shouldSendSuspend0(this, this.nx_1.kotlinx$atomicfu$value))
    return Companion_getInstance_0().n12();
  var tmp$ret$4;
  $l$block_4: {
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendImpl' call
    var waiter = get_INTERRUPTED_SEND();
    var segment = this.rx_1.kotlinx$atomicfu$value;
    $l$loop_0: while (true) {
      var sendersAndCloseStatusCur = this.nx_1.atomicfu$getAndIncrement$long();
      // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
      var s = sendersAndCloseStatusCur.f3(new Long(-1, 268435455));
      var closed = _get_isClosedForSend0__kxgf9m(sendersAndCloseStatusCur, this);
      // Inline function 'kotlin.Long.div' call
      var other = get_SEGMENT_SIZE();
      var id = s.w2(toLong(other));
      // Inline function 'kotlin.Long.rem' call
      var other_0 = get_SEGMENT_SIZE();
      var i = s.x2(toLong(other_0)).j1();
      if (!segment.yo_1.equals(id)) {
        var tmp0_elvis_lhs = findSegmentSend(this, id, segment);
        var tmp;
        if (tmp0_elvis_lhs == null) {
          var tmp_0;
          if (closed) {
            // Inline function 'kotlinx.coroutines.channels.BufferedChannel.trySend.<anonymous>' call
            tmp$ret$4 = Companion_getInstance_0().j10(this.pz());
            break $l$block_4;
          } else {
            continue $l$loop_0;
          }
        } else {
          tmp = tmp0_elvis_lhs;
        }
        segment = tmp;
      }
      switch (updateCellSend(this, segment, i, element, s, waiter, closed)) {
        case 0:
          segment.jy();
          // Inline function 'kotlinx.coroutines.channels.BufferedChannel.trySend.<anonymous>' call

          tmp$ret$4 = Companion_getInstance_0().vz(Unit_instance);
          break $l$block_4;
        case 1:
          // Inline function 'kotlinx.coroutines.channels.BufferedChannel.trySend.<anonymous>' call

          tmp$ret$4 = Companion_getInstance_0().vz(Unit_instance);
          break $l$block_4;
        case 2:
          if (closed) {
            segment.zx();
            // Inline function 'kotlinx.coroutines.channels.BufferedChannel.trySend.<anonymous>' call
            tmp$ret$4 = Companion_getInstance_0().j10(this.pz());
            break $l$block_4;
          }

          var tmp83_safe_receiver = (!(waiter == null) ? isInterface(waiter, Waiter) : false) ? waiter : null;
          if (tmp83_safe_receiver == null)
            null;
          else {
            prepareSenderForSuspension(tmp83_safe_receiver, this, segment, i);
          }

          // Inline function 'kotlinx.coroutines.channels.BufferedChannel.trySend.<anonymous>' call

          segment.zx();
          tmp$ret$4 = Companion_getInstance_0().n12();
          break $l$block_4;
        case 4:
          if (s.e1(this.qz()) < 0) {
            segment.jy();
          }

          // Inline function 'kotlinx.coroutines.channels.BufferedChannel.trySend.<anonymous>' call

          tmp$ret$4 = Companion_getInstance_0().j10(this.pz());
          break $l$block_4;
        case 5:
          segment.jy();
          continue $l$loop_0;
        case 3:
          var message = 'unexpected';
          throw IllegalStateException_init_$Create$(toString(message));
      }
    }
  }
  return tmp$ret$4;
};
protoOf(BufferedChannel).o12 = function (element) {
  var tmp$ret$3;
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.sendImpl' call
  var waiter = get_BUFFERED();
  var segment = this.rx_1.kotlinx$atomicfu$value;
  $l$loop_0: while (true) {
    var sendersAndCloseStatusCur = this.nx_1.atomicfu$getAndIncrement$long();
    // Inline function 'kotlinx.coroutines.channels.sendersCounter' call
    var s = sendersAndCloseStatusCur.f3(new Long(-1, 268435455));
    var closed = _get_isClosedForSend0__kxgf9m(sendersAndCloseStatusCur, this);
    // Inline function 'kotlin.Long.div' call
    var other = get_SEGMENT_SIZE();
    var id = s.w2(toLong(other));
    // Inline function 'kotlin.Long.rem' call
    var other_0 = get_SEGMENT_SIZE();
    var i = s.x2(toLong(other_0)).j1();
    if (!segment.yo_1.equals(id)) {
      var tmp0_elvis_lhs = findSegmentSend(this, id, segment);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp_0;
        if (closed) {
          return Companion_getInstance_0().j10(this.pz());
        } else {
          continue $l$loop_0;
        }
      } else {
        tmp = tmp0_elvis_lhs;
      }
      segment = tmp;
    }
    switch (updateCellSend(this, segment, i, element, s, waiter, closed)) {
      case 0:
        segment.jy();
        return Companion_getInstance_0().vz(Unit_instance);
      case 1:
        return Companion_getInstance_0().vz(Unit_instance);
      case 2:
        if (closed) {
          segment.zx();
          return Companion_getInstance_0().j10(this.pz());
        }

        var tmp83_safe_receiver = (!(waiter == null) ? isInterface(waiter, Waiter) : false) ? waiter : null;
        if (tmp83_safe_receiver == null)
          null;
        else {
          prepareSenderForSuspension(tmp83_safe_receiver, this, segment, i);
        }

        // Inline function 'kotlin.Long.plus' call

        // Inline function 'kotlin.Long.times' call

        var this_0 = segment.yo_1;
        var other_1 = get_SEGMENT_SIZE();
        var tmp$ret$5 = this_0.v2(toLong(other_1)).t2(toLong(i));
        this.h10(tmp$ret$5);
        return Companion_getInstance_0().vz(Unit_instance);
      case 4:
        if (s.e1(this.qz()) < 0) {
          segment.jy();
        }

        return Companion_getInstance_0().j10(this.pz());
      case 5:
        segment.jy();
        continue $l$loop_0;
      case 3:
        var message = 'unexpected';
        throw IllegalStateException_init_$Create$(toString(message));
    }
  }
  return tmp$ret$3;
};
protoOf(BufferedChannel).yz = function () {
};
protoOf(BufferedChannel).rz = function () {
};
protoOf(BufferedChannel).p12 = function ($completion) {
  var tmp = new $receiveCOROUTINE$5(this, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
protoOf(BufferedChannel).h10 = function (globalCellIndex) {
  // Inline function 'kotlinx.coroutines.assert' call
  var segment = this.sx_1.kotlinx$atomicfu$value;
  $l$loop_0: while (true) {
    var r = this.ox_1.kotlinx$atomicfu$value;
    // Inline function 'kotlin.math.max' call
    // Inline function 'kotlin.Long.plus' call
    var other = this.lx_1;
    var a = r.t2(toLong(other));
    var b = _get_bufferEndCounter__2d4hee(this);
    var tmp$ret$1 = a.e1(b) >= 0 ? a : b;
    if (globalCellIndex.e1(tmp$ret$1) < 0)
      return Unit_instance;
    // Inline function 'kotlin.Long.plus' call
    var tmp$ret$2 = r.t2(toLong(1));
    if (!this.ox_1.atomicfu$compareAndSet(r, tmp$ret$2))
      continue $l$loop_0;
    // Inline function 'kotlin.Long.div' call
    var other_0 = get_SEGMENT_SIZE();
    var id = r.w2(toLong(other_0));
    // Inline function 'kotlin.Long.rem' call
    var other_1 = get_SEGMENT_SIZE();
    var i = r.x2(toLong(other_1)).j1();
    if (!segment.yo_1.equals(id)) {
      var tmp0_elvis_lhs = findSegmentReceive(this, id, segment);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        continue $l$loop_0;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      segment = tmp;
    }
    var updCellResult = updateCellReceive(this, segment, i, r, null);
    if (updCellResult === _get_FAILED_$accessor$yt74tm_h47uk8()) {
      if (r.e1(this.py()) < 0) {
        segment.jy();
      }
    } else {
      segment.jy();
      var tmp90_safe_receiver = this.mx_1;
      var tmp_0;
      if (tmp90_safe_receiver == null) {
        tmp_0 = null;
      } else {
        tmp_0 = callUndeliveredElementCatchingException(tmp90_safe_receiver, (updCellResult == null ? true : !(updCellResult == null)) ? updCellResult : THROW_CCE());
      }
      var tmp91_safe_receiver = tmp_0;
      if (tmp91_safe_receiver == null)
        null;
      else {
        // Inline function 'kotlin.let' call
        // Inline function 'kotlin.contracts.contract' call
        throw tmp91_safe_receiver;
      }
    }
  }
};
protoOf(BufferedChannel).yx = function (globalIndex) {
  if (_get_isRendezvousOrUnlimited__3mdufi(this))
    return Unit_instance;
  while (_get_bufferEndCounter__2d4hee(this).e1(globalIndex) <= 0) {
  }
  // Inline function 'kotlin.repeat' call
  var times = get_EXPAND_BUFFER_COMPLETION_WAIT_ITERATIONS();
  // Inline function 'kotlin.contracts.contract' call
  var inductionVariable = 0;
  if (inductionVariable < times)
    do {
      var index = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.waitExpandBufferCompletion.<anonymous>' call
      var b = _get_bufferEndCounter__2d4hee(this);
      // Inline function 'kotlinx.coroutines.channels.ebCompletedCounter' call
      var ebCompleted = this.qx_1.kotlinx$atomicfu$value.f3(new Long(-1, 1073741823));
      if (b.equals(ebCompleted) && b.equals(_get_bufferEndCounter__2d4hee(this)))
        return Unit_instance;
    }
     while (inductionVariable < times);
  $l$block: {
    // Inline function 'kotlinx.atomicfu.update' call
    var this_0 = this.qx_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.waitExpandBufferCompletion.<anonymous>' call
      // Inline function 'kotlinx.coroutines.channels.ebCompletedCounter' call
      var tmp$ret$1 = cur.f3(new Long(-1, 1073741823));
      var upd = constructEBCompletedAndPauseFlag(tmp$ret$1, true);
      if (this_0.atomicfu$compareAndSet(cur, upd)) {
        break $l$block;
      }
    }
  }
  while (true) {
    var b_0 = _get_bufferEndCounter__2d4hee(this);
    var ebCompletedAndBit = this.qx_1.kotlinx$atomicfu$value;
    // Inline function 'kotlinx.coroutines.channels.ebCompletedCounter' call
    var ebCompleted_0 = ebCompletedAndBit.f3(new Long(-1, 1073741823));
    // Inline function 'kotlinx.coroutines.channels.ebPauseExpandBuffers' call
    var pauseExpandBuffers = !ebCompletedAndBit.f3(new Long(0, 1073741824)).equals(new Long(0, 0));
    if (b_0.equals(ebCompleted_0) && b_0.equals(_get_bufferEndCounter__2d4hee(this))) {
      $l$block_0: {
        // Inline function 'kotlinx.atomicfu.update' call
        var this_1 = this.qx_1;
        while (true) {
          var cur_0 = this_1.kotlinx$atomicfu$value;
          // Inline function 'kotlinx.coroutines.channels.BufferedChannel.waitExpandBufferCompletion.<anonymous>' call
          // Inline function 'kotlinx.coroutines.channels.ebCompletedCounter' call
          var tmp$ret$6 = cur_0.f3(new Long(-1, 1073741823));
          var upd_0 = constructEBCompletedAndPauseFlag(tmp$ret$6, false);
          if (this_1.atomicfu$compareAndSet(cur_0, upd_0)) {
            break $l$block_0;
          }
        }
      }
      return Unit_instance;
    }
    if (!pauseExpandBuffers) {
      this.qx_1.atomicfu$compareAndSet(ebCompletedAndBit, constructEBCompletedAndPauseFlag(ebCompleted_0, true));
    }
  }
};
protoOf(BufferedChannel).m = function () {
  return new BufferedChannelIterator(this);
};
protoOf(BufferedChannel).oy = function () {
  var tmp = this.vx_1.kotlinx$atomicfu$value;
  return (tmp == null ? true : tmp instanceof Error) ? tmp : THROW_CCE();
};
protoOf(BufferedChannel).pz = function () {
  var tmp0_elvis_lhs = this.oy();
  return tmp0_elvis_lhs == null ? new ClosedSendChannelException('Channel was closed') : tmp0_elvis_lhs;
};
protoOf(BufferedChannel).q12 = function () {
};
protoOf(BufferedChannel).r12 = function (cause) {
  return this.s12(cause, false);
};
protoOf(BufferedChannel).fm = function (cause) {
  this.u12(cause);
};
protoOf(BufferedChannel).u12 = function (cause) {
  return this.s12(cause == null ? CancellationException_init_$Create$('Channel was cancelled') : cause, true);
};
protoOf(BufferedChannel).s12 = function (cause, cancel) {
  if (cancel) {
    markCancellationStarted(this);
  }
  var closedByThisOperation = this.vx_1.atomicfu$compareAndSet(get_NO_CLOSE_CAUSE(), cause);
  if (cancel) {
    markCancelled(this);
  } else {
    markClosed(this);
  }
  completeCloseOrCancel(this);
  // Inline function 'kotlin.also' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.BufferedChannel.closeOrCancelImpl.<anonymous>' call
  this.q12();
  if (closedByThisOperation) {
    invokeCloseHandler(this);
  }
  return closedByThisOperation;
};
protoOf(BufferedChannel).i10 = function () {
  return false;
};
protoOf(BufferedChannel).g10 = function () {
  return _get_isClosedForSend0__kxgf9m(this.nx_1.kotlinx$atomicfu$value, this);
};
protoOf(BufferedChannel).qy = function () {
  return _get_isClosedForReceive0__f7qknl(this.nx_1.kotlinx$atomicfu$value, this);
};
protoOf(BufferedChannel).k10 = function () {
  $l$loop: while (true) {
    var segment = this.sx_1.kotlinx$atomicfu$value;
    var r = this.qz();
    var s = this.py();
    if (s.e1(r) <= 0)
      return false;
    // Inline function 'kotlin.Long.div' call
    var other = get_SEGMENT_SIZE();
    var id = r.w2(toLong(other));
    if (!segment.yo_1.equals(id)) {
      var tmp0_elvis_lhs = findSegmentReceive(this, id, segment);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        var tmp_0;
        if (this.sx_1.kotlinx$atomicfu$value.yo_1.e1(id) < 0) {
          return false;
        } else {
          continue $l$loop;
        }
      } else {
        tmp = tmp0_elvis_lhs;
      }
      segment = tmp;
    }
    segment.jy();
    // Inline function 'kotlin.Long.rem' call
    var other_0 = get_SEGMENT_SIZE();
    var i = r.x2(toLong(other_0)).j1();
    if (isCellNonEmpty(this, segment, i, r))
      return true;
    // Inline function 'kotlin.Long.plus' call
    var tmp$ret$2 = r.t2(toLong(1));
    this.ox_1.atomicfu$compareAndSet(r, tmp$ret$2);
  }
};
protoOf(BufferedChannel).toString = function () {
  var sb = StringBuilder_init_$Create$();
  // Inline function 'kotlinx.coroutines.channels.sendersCloseStatus' call
  var tmp103_subject = this.nx_1.kotlinx$atomicfu$value.d3(60).j1();
  if (tmp103_subject === 2) {
    sb.w7('closed,');
  } else if (tmp103_subject === 3) {
    sb.w7('cancelled,');
  }
  sb.w7('capacity=' + this.lx_1 + ',');
  sb.w7('data=[');
  var tmp$ret$4;
  $l$block: {
    // Inline function 'kotlin.collections.minBy' call
    // Inline function 'kotlin.collections.filter' call
    // Inline function 'kotlin.collections.filterTo' call
    var this_0 = listOf([this.sx_1.kotlinx$atomicfu$value, this.rx_1.kotlinx$atomicfu$value, this.tx_1.kotlinx$atomicfu$value]);
    var destination = ArrayList_init_$Create$_0();
    var tmp0_iterator = this_0.m();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.toString.<anonymous>' call
      if (!(element === get_NULL_SEGMENT())) {
        destination.k(element);
      }
    }
    var iterator = destination.m();
    if (!iterator.n())
      throw NoSuchElementException_init_$Create$();
    var minElem = iterator.o();
    if (!iterator.n()) {
      tmp$ret$4 = minElem;
      break $l$block;
    }
    // Inline function 'kotlinx.coroutines.channels.BufferedChannel.toString.<anonymous>' call
    var minValue = minElem.yo_1;
    do {
      var e = iterator.o();
      // Inline function 'kotlinx.coroutines.channels.BufferedChannel.toString.<anonymous>' call
      var v = e.yo_1;
      if (compareTo(minValue, v) > 0) {
        minElem = e;
        minValue = v;
      }
    }
     while (iterator.n());
    tmp$ret$4 = minElem;
  }
  var firstSegment = tmp$ret$4;
  var r = this.qz();
  var s = this.py();
  var segment = firstSegment;
  append_elements: while (true) {
    var inductionVariable = 0;
    var last_0 = get_SEGMENT_SIZE();
    if (inductionVariable < last_0)
      process_cell: do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        // Inline function 'kotlin.Long.plus' call
        // Inline function 'kotlin.Long.times' call
        var this_1 = segment.yo_1;
        var other = get_SEGMENT_SIZE();
        var globalCellIndex = this_1.v2(toLong(other)).t2(toLong(i));
        if (globalCellIndex.e1(s) >= 0 && globalCellIndex.e1(r) >= 0)
          break append_elements;
        var cellState = segment.hx(i);
        var element_0 = segment.ex(i);
        var tmp;
        if (!(cellState == null) ? isInterface(cellState, CancellableContinuation) : false) {
          tmp = globalCellIndex.e1(r) < 0 && globalCellIndex.e1(s) >= 0 ? 'receive' : globalCellIndex.e1(s) < 0 && globalCellIndex.e1(r) >= 0 ? 'send' : 'cont';
        } else {
          if (!(cellState == null) ? isInterface(cellState, SelectInstance) : false) {
            tmp = globalCellIndex.e1(r) < 0 && globalCellIndex.e1(s) >= 0 ? 'onReceive' : globalCellIndex.e1(s) < 0 && globalCellIndex.e1(r) >= 0 ? 'onSend' : 'select';
          } else {
            if (cellState instanceof ReceiveCatching) {
              tmp = 'receiveCatching';
            } else {
              if (cellState instanceof SendBroadcast) {
                tmp = 'sendBroadcast';
              } else {
                if (cellState instanceof WaiterEB) {
                  tmp = 'EB(' + cellState.toString() + ')';
                } else {
                  if (equals(cellState, get_RESUMING_BY_RCV()) || equals(cellState, get_RESUMING_BY_EB())) {
                    tmp = 'resuming_sender';
                  } else {
                    if (cellState == null || (equals(cellState, get_IN_BUFFER()) || equals(cellState, get_DONE_RCV())) || (equals(cellState, get_POISONED()) || equals(cellState, get_INTERRUPTED_RCV()) || (equals(cellState, get_INTERRUPTED_SEND()) || equals(cellState, get_CHANNEL_CLOSED())))) {
                      continue process_cell;
                    } else {
                      tmp = toString(cellState);
                    }
                  }
                }
              }
            }
          }
        }
        var cellStateString = tmp;
        if (!(element_0 == null)) {
          sb.w7('(' + cellStateString + ',' + toString_0(element_0) + '),');
        } else {
          sb.w7(cellStateString + ',');
        }
      }
       while (inductionVariable < last_0);
    var tmp0_elvis_lhs = segment.fy();
    var tmp_0;
    if (tmp0_elvis_lhs == null) {
      break append_elements;
    } else {
      tmp_0 = tmp0_elvis_lhs;
    }
    segment = tmp_0;
  }
  if (last(sb) === _Char___init__impl__6a9atx(44)) {
    sb.ac(sb.a() - 1 | 0);
  }
  sb.w7(']');
  return sb.toString();
};
function WaiterEB(waiter) {
  this.sz_1 = waiter;
}
protoOf(WaiterEB).toString = function () {
  return 'WaiterEB(' + toString(this.sz_1) + ')';
};
function initialBufferEnd(capacity) {
  _init_properties_BufferedChannel_kt__d6uc4y();
  switch (capacity) {
    case 0:
      return new Long(0, 0);
    case 2147483647:
      return new Long(-1, 2147483647);
    default:
      return toLong(capacity);
  }
}
function ReceiveCatching() {
}
function tryResume0(_this__u8e3s4, value, onCancellation) {
  onCancellation = onCancellation === VOID ? null : onCancellation;
  _init_properties_BufferedChannel_kt__d6uc4y();
  // Inline function 'kotlin.let' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.channels.tryResume0.<anonymous>' call
  var token = _this__u8e3s4.wn(value, null, onCancellation);
  var tmp;
  if (!(token == null)) {
    _this__u8e3s4.xn(token);
    tmp = true;
  } else {
    tmp = false;
  }
  return tmp;
}
function constructEBCompletedAndPauseFlag(counter, pauseEB) {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return (pauseEB ? new Long(0, 1073741824) : new Long(0, 0)).t2(counter);
}
function constructSendersAndCloseStatus(counter, closeStatus) {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return toLong(closeStatus).c3(60).t2(counter);
}
function createSegmentFunction() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return createSegment$ref();
}
function createSegment(id, prev) {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return new ChannelSegment(id, prev, prev.bx(), 0);
}
function _get_SUSPEND_NO_WAITER_$accessor$yt74tm_n6n1ky() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return get_SUSPEND_NO_WAITER();
}
function _get_SUSPEND_$accessor$yt74tm_ccb8g1() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return get_SUSPEND();
}
function _get_FAILED_$accessor$yt74tm_h47uk8() {
  _init_properties_BufferedChannel_kt__d6uc4y();
  return get_FAILED();
}
function createSegment$ref() {
  var l = function (p0, p1) {
    return createSegment(p0, p1);
  };
  l.callableName = 'createSegment';
  return l;
}
var properties_initialized_BufferedChannel_kt_58tjvw;
function _init_properties_BufferedChannel_kt__d6uc4y() {
  if (!properties_initialized_BufferedChannel_kt_58tjvw) {
    properties_initialized_BufferedChannel_kt_58tjvw = true;
    NULL_SEGMENT = new ChannelSegment(new Long(-1, -1), null, null, 0);
    SEGMENT_SIZE = systemProp('kotlinx.coroutines.bufferedChannel.segmentSize', 32);
    EXPAND_BUFFER_COMPLETION_WAIT_ITERATIONS = systemProp('kotlinx.coroutines.bufferedChannel.expandBufferCompletionWaitIterations', 10000);
    BUFFERED = new Symbol('BUFFERED');
    IN_BUFFER = new Symbol('SHOULD_BUFFER');
    RESUMING_BY_RCV = new Symbol('S_RESUMING_BY_RCV');
    RESUMING_BY_EB = new Symbol('RESUMING_BY_EB');
    POISONED = new Symbol('POISONED');
    DONE_RCV = new Symbol('DONE_RCV');
    INTERRUPTED_SEND = new Symbol('INTERRUPTED_SEND');
    INTERRUPTED_RCV = new Symbol('INTERRUPTED_RCV');
    CHANNEL_CLOSED = new Symbol('CHANNEL_CLOSED');
    SUSPEND = new Symbol('SUSPEND');
    SUSPEND_NO_WAITER = new Symbol('SUSPEND_NO_WAITER');
    FAILED = new Symbol('FAILED');
    NO_RECEIVE_RESULT = new Symbol('NO_RECEIVE_RESULT');
    CLOSE_HANDLER_CLOSED = new Symbol('CLOSE_HANDLER_CLOSED');
    CLOSE_HANDLER_INVOKED = new Symbol('CLOSE_HANDLER_INVOKED');
    NO_CLOSE_CAUSE = new Symbol('NO_CLOSE_CAUSE');
  }
}
function Factory() {
  Factory_instance = this;
  this.w12_1 = 2147483647;
  this.x12_1 = 0;
  this.y12_1 = -1;
  this.z12_1 = -2;
  this.a13_1 = -3;
  this.b13_1 = 'kotlinx.coroutines.channels.defaultBuffer';
  this.c13_1 = systemProp('kotlinx.coroutines.channels.defaultBuffer', 64, 1, 2147483646);
}
var Factory_instance;
function Factory_getInstance() {
  if (Factory_instance == null)
    new Factory();
  return Factory_instance;
}
function _ChannelResult___init__impl__siwsuf(holder) {
  return holder;
}
function _ChannelResult___get_holder__impl__pm9gzw($this) {
  return $this;
}
function _ChannelResult___get_isSuccess__impl__odq1z9($this) {
  var tmp = _ChannelResult___get_holder__impl__pm9gzw($this);
  return !(tmp instanceof Failed);
}
function _ChannelResult___get_isClosed__impl__mg7kuu($this) {
  var tmp = _ChannelResult___get_holder__impl__pm9gzw($this);
  return tmp instanceof Closed;
}
function ChannelResult__getOrNull_impl_f5e07h($this) {
  var tmp;
  var tmp_0 = _ChannelResult___get_holder__impl__pm9gzw($this);
  if (!(tmp_0 instanceof Failed)) {
    var tmp_1 = _ChannelResult___get_holder__impl__pm9gzw($this);
    tmp = (tmp_1 == null ? true : !(tmp_1 == null)) ? tmp_1 : THROW_CCE();
  } else {
    tmp = null;
  }
  return tmp;
}
function ChannelResult__exceptionOrNull_impl_16ei30($this) {
  var tmp = _ChannelResult___get_holder__impl__pm9gzw($this);
  var tmp112_safe_receiver = tmp instanceof Closed ? tmp : null;
  return tmp112_safe_receiver == null ? null : tmp112_safe_receiver.d13_1;
}
function Failed() {
}
protoOf(Failed).toString = function () {
  return 'Failed';
};
function Closed(cause) {
  Failed.call(this);
  this.d13_1 = cause;
}
protoOf(Closed).equals = function (other) {
  var tmp;
  if (other instanceof Closed) {
    tmp = equals(this.d13_1, other.d13_1);
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(Closed).hashCode = function () {
  // Inline function 'kotlin.hashCode' call
  var tmp0_safe_receiver = this.d13_1;
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
  return tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
};
protoOf(Closed).toString = function () {
  return 'Closed(' + toString_0(this.d13_1) + ')';
};
function Companion() {
  Companion_instance_0 = this;
  this.uz_1 = new Failed();
}
protoOf(Companion).vz = function (value) {
  return _ChannelResult___init__impl__siwsuf(value);
};
protoOf(Companion).n12 = function () {
  return _ChannelResult___init__impl__siwsuf(this.uz_1);
};
protoOf(Companion).j10 = function (cause) {
  return _ChannelResult___init__impl__siwsuf(new Closed(cause));
};
var Companion_instance_0;
function Companion_getInstance_0() {
  if (Companion_instance_0 == null)
    new Companion();
  return Companion_instance_0;
}
function ChannelResult__toString_impl_rrcqu7($this) {
  var tmp;
  if (_ChannelResult___get_holder__impl__pm9gzw($this) instanceof Closed) {
    tmp = _ChannelResult___get_holder__impl__pm9gzw($this).toString();
  } else {
    tmp = 'Value(' + toString_0(_ChannelResult___get_holder__impl__pm9gzw($this)) + ')';
  }
  return tmp;
}
function ChannelResult__hashCode_impl_lilec2($this) {
  return $this == null ? 0 : hashCode($this);
}
function ChannelResult__equals_impl_f471ri($this, other) {
  if (!(other instanceof ChannelResult))
    return false;
  var tmp0_other_with_cast = other instanceof ChannelResult ? other.m10_1 : THROW_CCE();
  if (!equals($this, tmp0_other_with_cast))
    return false;
  return true;
}
function ChannelResult(holder) {
  Companion_getInstance_0();
  this.m10_1 = holder;
}
protoOf(ChannelResult).toString = function () {
  return ChannelResult__toString_impl_rrcqu7(this.m10_1);
};
protoOf(ChannelResult).hashCode = function () {
  return ChannelResult__hashCode_impl_lilec2(this.m10_1);
};
protoOf(ChannelResult).equals = function (other) {
  return ChannelResult__equals_impl_f471ri(this.m10_1, other);
};
function ClosedSendChannelException(message) {
  IllegalStateException_init_$Init$(message, this);
  captureStack(this, ClosedSendChannelException);
}
function ClosedReceiveChannelException(message) {
  NoSuchElementException_init_$Init$(message, this);
  captureStack(this, ClosedReceiveChannelException);
}
function SendChannel() {
}
function ReceiveChannel() {
}
function Channel(capacity, onBufferOverflow, onUndeliveredElement) {
  capacity = capacity === VOID ? 0 : capacity;
  onBufferOverflow = onBufferOverflow === VOID ? BufferOverflow_SUSPEND_getInstance() : onBufferOverflow;
  onUndeliveredElement = onUndeliveredElement === VOID ? null : onUndeliveredElement;
  var tmp;
  switch (capacity) {
    case 0:
      tmp = onBufferOverflow.equals(BufferOverflow_SUSPEND_getInstance()) ? new BufferedChannel(0, onUndeliveredElement) : new ConflatedBufferedChannel(1, onBufferOverflow, onUndeliveredElement);
      break;
    case -1:
      // Inline function 'kotlin.require' call

      // Inline function 'kotlin.contracts.contract' call

      if (!onBufferOverflow.equals(BufferOverflow_SUSPEND_getInstance())) {
        // Inline function 'kotlinx.coroutines.channels.Channel.<anonymous>' call
        var message = 'CONFLATED capacity cannot be used with non-default onBufferOverflow';
        throw IllegalArgumentException_init_$Create$(toString(message));
      }

      tmp = new ConflatedBufferedChannel(1, BufferOverflow_DROP_OLDEST_getInstance(), onUndeliveredElement);
      break;
    case 2147483647:
      tmp = new BufferedChannel(2147483647, onUndeliveredElement);
      break;
    case -2:
      tmp = onBufferOverflow.equals(BufferOverflow_SUSPEND_getInstance()) ? new BufferedChannel(Factory_getInstance().c13_1, onUndeliveredElement) : new ConflatedBufferedChannel(1, onBufferOverflow, onUndeliveredElement);
      break;
    default:
      tmp = onBufferOverflow === BufferOverflow_SUSPEND_getInstance() ? new BufferedChannel(capacity, onUndeliveredElement) : new ConflatedBufferedChannel(capacity, onBufferOverflow, onUndeliveredElement);
      break;
  }
  return tmp;
}
function cancelConsumed(_this__u8e3s4, cause) {
  var tmp;
  if (cause == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.channels.cancelConsumed.<anonymous>' call
    var tmp0_elvis_lhs = cause instanceof CancellationException ? cause : null;
    tmp = tmp0_elvis_lhs == null ? CancellationException_0('Channel was consumed, consumer had failed', cause) : tmp0_elvis_lhs;
  }
  _this__u8e3s4.fm(tmp);
}
function trySendImpl($this, element, isSendOp) {
  return $this.r13_1 === BufferOverflow_DROP_LATEST_getInstance() ? trySendDropLatest($this, element, isSendOp) : $this.o12(element);
}
function trySendDropLatest($this, element, isSendOp) {
  var result = protoOf(BufferedChannel).m12.call($this, element);
  if (_ChannelResult___get_isSuccess__impl__odq1z9(result) || _ChannelResult___get_isClosed__impl__mg7kuu(result))
    return result;
  if (isSendOp) {
    var tmp118_safe_receiver = $this.mx_1;
    var tmp119_safe_receiver = tmp118_safe_receiver == null ? null : callUndeliveredElementCatchingException(tmp118_safe_receiver, element);
    if (tmp119_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      // Inline function 'kotlin.contracts.contract' call
      throw tmp119_safe_receiver;
    }
  }
  return Companion_getInstance_0().vz(Unit_instance);
}
function ConflatedBufferedChannel(capacity, onBufferOverflow, onUndeliveredElement) {
  onUndeliveredElement = onUndeliveredElement === VOID ? null : onUndeliveredElement;
  BufferedChannel.call(this, capacity, onUndeliveredElement);
  this.q13_1 = capacity;
  this.r13_1 = onBufferOverflow;
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.contracts.contract' call
  if (!!(this.r13_1 === BufferOverflow_SUSPEND_getInstance())) {
    // Inline function 'kotlinx.coroutines.channels.ConflatedBufferedChannel.<anonymous>' call
    var message = 'This implementation does not support suspension for senders, use ' + getKClass(BufferedChannel).ca() + ' instead';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.contracts.contract' call
  if (!(this.q13_1 >= 1)) {
    // Inline function 'kotlinx.coroutines.channels.ConflatedBufferedChannel.<anonymous>' call
    var message_0 = 'Buffered channel capacity must be at least 1, but ' + this.q13_1 + ' was specified';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
}
protoOf(ConflatedBufferedChannel).i10 = function () {
  return this.r13_1.equals(BufferOverflow_DROP_OLDEST_getInstance());
};
protoOf(ConflatedBufferedChannel).l12 = function (element, $completion) {
  // Inline function 'kotlinx.coroutines.channels.onClosed' call
  var this_0 = trySendImpl(this, element, true);
  var tmp = _ChannelResult___get_holder__impl__pm9gzw(this_0);
  if (tmp instanceof Closed) {
    // Inline function 'kotlinx.coroutines.channels.ConflatedBufferedChannel.send.<anonymous>' call
    ChannelResult__exceptionOrNull_impl_16ei30(this_0);
    var tmp116_safe_receiver = this.mx_1;
    var tmp117_safe_receiver = tmp116_safe_receiver == null ? null : callUndeliveredElementCatchingException(tmp116_safe_receiver, element);
    if (tmp117_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      // Inline function 'kotlin.contracts.contract' call
      addSuppressed(tmp117_safe_receiver, this.pz());
      throw tmp117_safe_receiver;
    }
    throw this.pz();
  }
  return Unit_instance;
};
protoOf(ConflatedBufferedChannel).m12 = function (element) {
  return trySendImpl(this, element, false);
};
function asFlow(_this__u8e3s4) {
  // Inline function 'kotlinx.coroutines.flow.internal.unsafeFlow' call
  return new _no_name_provided__qut3iv(_this__u8e3s4);
}
function $collectCOROUTINE$11(_this__u8e3s4, collector, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.a14_1 = _this__u8e3s4;
  this.b14_1 = collector;
}
protoOf($collectCOROUTINE$11).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 4;
          var tmp_0 = this;
          tmp_0.c14_1 = this.b14_1;
          var tmp_1 = this;
          tmp_1.d14_1 = this.a14_1.h14_1;
          this.e14_1 = this.d14_1.m();
          this.k8_1 = 1;
          continue $sm;
        case 1:
          if (!this.e14_1.n()) {
            this.k8_1 = 3;
            continue $sm;
          }

          this.f14_1 = this.e14_1.o();
          var tmp_2 = this;
          tmp_2.g14_1 = this.f14_1;
          this.k8_1 = 2;
          suspendResult = this.c14_1.i14(this.g14_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 2:
          this.k8_1 = 1;
          continue $sm;
        case 3:
          return Unit_instance;
        case 4:
          throw this.n8_1;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 4) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function _no_name_provided__qut3iv($this_asFlow) {
  this.h14_1 = $this_asFlow;
}
protoOf(_no_name_provided__qut3iv).j14 = function (collector, $completion) {
  var tmp = new $collectCOROUTINE$11(this, collector, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
protoOf(_no_name_provided__qut3iv).k14 = function (collector, $completion) {
  return this.j14(collector, $completion);
};
function FlowCollector() {
}
function checkOwnership(_this__u8e3s4, owner) {
  if (!(_this__u8e3s4.l14_1 === owner))
    throw _this__u8e3s4;
}
function firstOrNull(_this__u8e3s4, predicate, $completion) {
  var tmp = new $firstOrNullCOROUTINE$17(_this__u8e3s4, predicate, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
}
function $emitCOROUTINE$18(_this__u8e3s4, value, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.h15_1 = _this__u8e3s4;
  this.i15_1 = value;
}
protoOf($emitCOROUTINE$18).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 4;
          var tmp_0 = this;
          tmp_0.j15_1 = this.i15_1;
          this.k8_1 = 1;
          suspendResult = this.h15_1.l15_1(this.j15_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          if (suspendResult) {
            var tmp_1 = this;
            this.h15_1.m15_1._v = this.j15_1;
            tmp_1.k15_1 = false;
            this.k8_1 = 2;
            continue $sm;
          } else {
            var tmp_2 = this;
            tmp_2.k15_1 = true;
            this.k8_1 = 2;
            continue $sm;
          }

        case 2:
          var ARGUMENT = this.k15_1;
          if (!ARGUMENT) {
            throw new AbortFlowException(this.h15_1);
          } else {
            this.k8_1 = 3;
            continue $sm;
          }

        case 3:
          return Unit_instance;
        case 4:
          throw this.n8_1;
      }
    } catch ($p) {
      var e = $p;
      if (this.l8_1 === 4) {
        throw e;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e;
      }
    }
   while (true);
};
function _no_name_provided__qut3iv_0($predicate, $result) {
  this.l15_1 = $predicate;
  this.m15_1 = $result;
}
protoOf(_no_name_provided__qut3iv_0).n15 = function (value, $completion) {
  var tmp = new $emitCOROUTINE$18(this, value, $completion);
  tmp.m8_1 = Unit_instance;
  tmp.n8_1 = null;
  return tmp.s8();
};
protoOf(_no_name_provided__qut3iv_0).i14 = function (value, $completion) {
  return this.n15((value == null ? true : !(value == null)) ? value : THROW_CCE(), $completion);
};
function $firstOrNullCOROUTINE$17(_this__u8e3s4, predicate, resultContinuation) {
  CoroutineImpl.call(this, resultContinuation);
  this.u14_1 = _this__u8e3s4;
  this.v14_1 = predicate;
}
protoOf($firstOrNullCOROUTINE$17).s8 = function () {
  var suspendResult = this.m8_1;
  $sm: do
    try {
      var tmp = this.k8_1;
      switch (tmp) {
        case 0:
          this.l8_1 = 4;
          this.w14_1 = {_v: null};
          var tmp_0 = this;
          tmp_0.x14_1 = this.u14_1;
          var tmp_1 = this;
          tmp_1.y14_1 = new _no_name_provided__qut3iv_0(this.v14_1, this.w14_1);
          this.l8_1 = 2;
          this.k8_1 = 1;
          suspendResult = this.x14_1.k14(this.y14_1, this);
          if (suspendResult === get_COROUTINE_SUSPENDED()) {
            return suspendResult;
          }

          continue $sm;
        case 1:
          this.l8_1 = 4;
          this.k8_1 = 3;
          continue $sm;
        case 2:
          this.l8_1 = 4;
          var tmp_2 = this.n8_1;
          if (tmp_2 instanceof AbortFlowException) {
            var e = this.n8_1;
            checkOwnership(e, this.y14_1);
            this.k8_1 = 3;
            continue $sm;
          } else {
            throw this.n8_1;
          }

        case 3:
          this.l8_1 = 4;
          return this.w14_1._v;
        case 4:
          throw this.n8_1;
      }
    } catch ($p) {
      var e_0 = $p;
      if (this.l8_1 === 4) {
        throw e_0;
      } else {
        this.k8_1 = this.l8_1;
        this.n8_1 = e_0;
      }
    }
   while (true);
};
function get_CLOSED() {
  _init_properties_ConcurrentLinkedList_kt__5gcgzy();
  return CLOSED;
}
var CLOSED;
function Segment(id, prev, pointers) {
  ConcurrentLinkedListNode.call(this, prev);
  this.yo_1 = id;
  this.zo_1 = atomic$int$1(pointers << 16);
}
protoOf(Segment).ay = function () {
  return this.zo_1.kotlinx$atomicfu$value === this.cx() && !this.hy();
};
protoOf(Segment).by = function () {
  var tmp$ret$1;
  $l$block_0: {
    // Inline function 'kotlinx.coroutines.internal.addConditionally' call
    var this_0 = this.zo_1;
    while (true) {
      var cur = this_0.kotlinx$atomicfu$value;
      // Inline function 'kotlinx.coroutines.internal.Segment.tryIncPointers.<anonymous>' call
      if (!(!(cur === this.cx()) || this.hy())) {
        tmp$ret$1 = false;
        break $l$block_0;
      }
      if (this_0.atomicfu$compareAndSet(cur, cur + 65536 | 0)) {
        tmp$ret$1 = true;
        break $l$block_0;
      }
    }
  }
  return tmp$ret$1;
};
protoOf(Segment).cy = function () {
  return this.zo_1.atomicfu$addAndGet(-65536) === this.cx() && !this.hy();
};
protoOf(Segment).zx = function () {
  if (this.zo_1.atomicfu$incrementAndGet() === this.cx()) {
    this.c4();
  }
};
function close(_this__u8e3s4) {
  _init_properties_ConcurrentLinkedList_kt__5gcgzy();
  var cur = _this__u8e3s4;
  while (true) {
    // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.nextOrIfClosed' call
    var this_0 = cur;
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.nextOrIfClosed.<anonymous>' call
    var it = _get_nextOrClosed__w0gmuv(this_0);
    var tmp;
    if (it === get_CLOSED()) {
      // Inline function 'kotlinx.coroutines.internal.close.<anonymous>' call
      return cur;
    } else {
      tmp = (it == null ? true : it instanceof ConcurrentLinkedListNode) ? it : THROW_CCE();
    }
    var next = tmp;
    if (next === null) {
      if (cur.ky())
        return cur;
    } else {
      cur = next;
    }
  }
}
function _SegmentOrClosed___init__impl__jnexvb(value) {
  return value;
}
function _get_value__a43j40($this) {
  return $this;
}
function _SegmentOrClosed___get_isClosed__impl__qmxmlo($this) {
  return _get_value__a43j40($this) === get_CLOSED();
}
function _SegmentOrClosed___get_segment__impl__jvcr9l($this) {
  var tmp;
  if (_get_value__a43j40($this) === get_CLOSED()) {
    var message = 'Does not contain segment';
    throw IllegalStateException_init_$Create$(toString(message));
  } else {
    var tmp_0 = _get_value__a43j40($this);
    tmp = tmp_0 instanceof Segment ? tmp_0 : THROW_CCE();
  }
  return tmp;
}
function SegmentOrClosed__toString_impl_pzb2an($this) {
  return 'SegmentOrClosed(value=' + toString_0($this) + ')';
}
function SegmentOrClosed__hashCode_impl_4855hs($this) {
  return $this == null ? 0 : hashCode($this);
}
function SegmentOrClosed__equals_impl_6erq1g($this, other) {
  if (!(other instanceof SegmentOrClosed))
    return false;
  var tmp0_other_with_cast = other instanceof SegmentOrClosed ? other.l10_1 : THROW_CCE();
  if (!equals($this, tmp0_other_with_cast))
    return false;
  return true;
}
function SegmentOrClosed(value) {
  this.l10_1 = value;
}
protoOf(SegmentOrClosed).toString = function () {
  return SegmentOrClosed__toString_impl_pzb2an(this.l10_1);
};
protoOf(SegmentOrClosed).hashCode = function () {
  return SegmentOrClosed__hashCode_impl_4855hs(this.l10_1);
};
protoOf(SegmentOrClosed).equals = function (other) {
  return SegmentOrClosed__equals_impl_6erq1g(this.l10_1, other);
};
function _get_nextOrClosed__w0gmuv($this) {
  return $this.dy_1.kotlinx$atomicfu$value;
}
function _get_aliveSegmentLeft__mr4ndu($this) {
  var cur = $this.iy();
  while (!(cur === null) && cur.ay())
    cur = cur.ey_1.kotlinx$atomicfu$value;
  return cur;
}
function _get_aliveSegmentRight__7ulr0b($this) {
  // Inline function 'kotlinx.coroutines.assert' call
  var cur = ensureNotNull($this.fy());
  while (cur.ay()) {
    var tmp0_elvis_lhs = cur.fy();
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return cur;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    cur = tmp;
  }
  return cur;
}
function ConcurrentLinkedListNode(prev) {
  this.dy_1 = atomic$ref$1(null);
  this.ey_1 = atomic$ref$1(prev);
}
protoOf(ConcurrentLinkedListNode).fy = function () {
  // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.nextOrIfClosed' call
  // Inline function 'kotlin.let' call
  // Inline function 'kotlin.contracts.contract' call
  // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.nextOrIfClosed.<anonymous>' call
  var it = _get_nextOrClosed__w0gmuv(this);
  var tmp;
  if (it === get_CLOSED()) {
    // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.<get-next>.<anonymous>' call
    return null;
  } else {
    tmp = (it == null ? true : it instanceof ConcurrentLinkedListNode) ? it : THROW_CCE();
  }
  return tmp;
};
protoOf(ConcurrentLinkedListNode).gy = function (value) {
  return this.dy_1.atomicfu$compareAndSet(null, value);
};
protoOf(ConcurrentLinkedListNode).hy = function () {
  return this.fy() == null;
};
protoOf(ConcurrentLinkedListNode).iy = function () {
  return this.ey_1.kotlinx$atomicfu$value;
};
protoOf(ConcurrentLinkedListNode).jy = function () {
  // Inline function 'kotlinx.atomicfu.AtomicRef.lazySet' call
  this.ey_1.kotlinx$atomicfu$value = null;
};
protoOf(ConcurrentLinkedListNode).ky = function () {
  return this.dy_1.atomicfu$compareAndSet(null, get_CLOSED());
};
protoOf(ConcurrentLinkedListNode).c4 = function () {
  // Inline function 'kotlinx.coroutines.assert' call
  if (this.hy())
    return Unit_instance;
  $l$loop_0: while (true) {
    var prev = _get_aliveSegmentLeft__mr4ndu(this);
    var next = _get_aliveSegmentRight__7ulr0b(this);
    $l$block: {
      // Inline function 'kotlinx.atomicfu.update' call
      var this_0 = next.ey_1;
      while (true) {
        var cur = this_0.kotlinx$atomicfu$value;
        // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.remove.<anonymous>' call
        var upd = cur === null ? null : prev;
        if (this_0.atomicfu$compareAndSet(cur, upd)) {
          break $l$block;
        }
      }
    }
    if (!(prev === null))
      prev.dy_1.kotlinx$atomicfu$value = next;
    if (next.ay() && !next.hy())
      continue $l$loop_0;
    if (!(prev === null) && prev.ay())
      continue $l$loop_0;
    return Unit_instance;
  }
};
function findSegmentInternal(_this__u8e3s4, id, createNewSegment) {
  _init_properties_ConcurrentLinkedList_kt__5gcgzy();
  var cur = _this__u8e3s4;
  $l$loop: while (cur.yo_1.e1(id) < 0 || cur.ay()) {
    // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.nextOrIfClosed' call
    var this_0 = cur;
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.internal.ConcurrentLinkedListNode.nextOrIfClosed.<anonymous>' call
    var it = _get_nextOrClosed__w0gmuv(this_0);
    var tmp;
    if (it === get_CLOSED()) {
      // Inline function 'kotlinx.coroutines.internal.findSegmentInternal.<anonymous>' call
      return _SegmentOrClosed___init__impl__jnexvb(get_CLOSED());
    } else {
      tmp = (it == null ? true : it instanceof ConcurrentLinkedListNode) ? it : THROW_CCE();
    }
    var next = tmp;
    if (!(next == null)) {
      cur = next;
      continue $l$loop;
    }
    // Inline function 'kotlin.Long.plus' call
    var newTail = createNewSegment(cur.yo_1.t2(toLong(1)), cur);
    if (cur.gy(newTail)) {
      if (cur.ay()) {
        cur.c4();
      }
      cur = newTail;
    }
  }
  return _SegmentOrClosed___init__impl__jnexvb(cur);
}
var properties_initialized_ConcurrentLinkedList_kt_kwt434;
function _init_properties_ConcurrentLinkedList_kt__5gcgzy() {
  if (!properties_initialized_ConcurrentLinkedList_kt_kwt434) {
    properties_initialized_ConcurrentLinkedList_kt_kwt434 = true;
    CLOSED = new Symbol('CLOSED');
  }
}
function handleUncaughtCoroutineException(context, exception) {
  var _iterator__ex2g4s = get_platformExceptionHandlers().m();
  while (_iterator__ex2g4s.n()) {
    var handler = _iterator__ex2g4s.o();
    try {
      handler.yr(context, exception);
    } catch ($p) {
      if ($p instanceof ExceptionSuccessfullyProcessed) {
        var _unused_var__etf5q3 = $p;
        return Unit_instance;
      } else {
        if ($p instanceof Error) {
          var t = $p;
          propagateExceptionFinalResort(handlerException(exception, t));
        } else {
          throw $p;
        }
      }
    }
  }
  try {
    addSuppressed(exception, new DiagnosticCoroutineContextException(context));
  } catch ($p) {
    if ($p instanceof Error) {
      var e = $p;
    } else {
      throw $p;
    }
  }
  propagateExceptionFinalResort(exception);
}
function ExceptionSuccessfullyProcessed() {
}
function get_UNDEFINED() {
  _init_properties_DispatchedContinuation_kt__tnmqc0();
  return UNDEFINED;
}
var UNDEFINED;
function get_REUSABLE_CLAIMED() {
  _init_properties_DispatchedContinuation_kt__tnmqc0();
  return REUSABLE_CLAIMED;
}
var REUSABLE_CLAIMED;
function _get_reusableCancellableContinuation__9qex09($this) {
  var tmp = $this.qo_1.kotlinx$atomicfu$value;
  return tmp instanceof CancellableContinuationImpl ? tmp : null;
}
function DispatchedContinuation(dispatcher, continuation) {
  DispatchedTask.call(this, -1);
  this.mo_1 = dispatcher;
  this.no_1 = continuation;
  this.oo_1 = get_UNDEFINED();
  this.po_1 = threadContextElements(this.q8());
  this.qo_1 = atomic$ref$1(null);
}
protoOf(DispatchedContinuation).q8 = function () {
  return this.no_1.q8();
};
protoOf(DispatchedContinuation).to = function () {
  return !(this.qo_1.kotlinx$atomicfu$value == null);
};
protoOf(DispatchedContinuation).o15 = function () {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = this.qo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.awaitReusability.<anonymous>' call
    if (!(this_0.kotlinx$atomicfu$value === get_REUSABLE_CLAIMED()))
      return Unit_instance;
  }
};
protoOf(DispatchedContinuation).xr = function () {
  this.o15();
  var tmp148_safe_receiver = _get_reusableCancellableContinuation__9qex09(this);
  if (tmp148_safe_receiver == null)
    null;
  else {
    tmp148_safe_receiver.kp();
  }
};
protoOf(DispatchedContinuation).ro = function () {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = this.qo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.claimReusableCancellableContinuation.<anonymous>' call
    var state = this_0.kotlinx$atomicfu$value;
    if (state === null) {
      this.qo_1.kotlinx$atomicfu$value = get_REUSABLE_CLAIMED();
      return null;
    } else {
      if (state instanceof CancellableContinuationImpl) {
        if (this.qo_1.atomicfu$compareAndSet(state, get_REUSABLE_CLAIMED())) {
          return state instanceof CancellableContinuationImpl ? state : THROW_CCE();
        }
      } else {
        if (state !== get_REUSABLE_CLAIMED()) {
          if (!(state instanceof Error)) {
            var message = 'Inconsistent state ' + toString_0(state);
            throw IllegalStateException_init_$Create$(toString(message));
          }
        }
      }
    }
  }
};
protoOf(DispatchedContinuation).xp = function (continuation) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = this.qo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.tryReleaseClaimedContinuation.<anonymous>' call
    var state = this_0.kotlinx$atomicfu$value;
    if (state === get_REUSABLE_CLAIMED()) {
      if (this.qo_1.atomicfu$compareAndSet(get_REUSABLE_CLAIMED(), continuation))
        return null;
    } else {
      if (state instanceof Error) {
        // Inline function 'kotlin.require' call
        // Inline function 'kotlin.contracts.contract' call
        // Inline function 'kotlin.require' call
        // Inline function 'kotlin.contracts.contract' call
        if (!this.qo_1.atomicfu$compareAndSet(state, null)) {
          // Inline function 'kotlin.require.<anonymous>' call
          var message = 'Failed requirement.';
          throw IllegalArgumentException_init_$Create$(toString(message));
        }
        return state;
      } else {
        var message_0 = 'Inconsistent state ' + toString_0(state);
        throw IllegalStateException_init_$Create$(toString(message_0));
      }
    }
  }
};
protoOf(DispatchedContinuation).vo = function (cause) {
  // Inline function 'kotlinx.atomicfu.loop' call
  var this_0 = this.qo_1;
  while (true) {
    // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.postponeCancellation.<anonymous>' call
    var state = this_0.kotlinx$atomicfu$value;
    if (equals(state, get_REUSABLE_CLAIMED())) {
      if (this.qo_1.atomicfu$compareAndSet(get_REUSABLE_CLAIMED(), cause))
        return true;
    } else {
      if (state instanceof Error)
        return true;
      else {
        if (this.qo_1.atomicfu$compareAndSet(state, null))
          return false;
      }
    }
  }
};
protoOf(DispatchedContinuation).np = function () {
  var state = this.oo_1;
  // Inline function 'kotlinx.coroutines.assert' call
  this.oo_1 = get_UNDEFINED();
  return state;
};
protoOf(DispatchedContinuation).lp = function () {
  return this;
};
protoOf(DispatchedContinuation).v8 = function (result) {
  var state = toState_0(result);
  if (this.mo_1.vr(this.q8())) {
    this.oo_1 = state;
    this.uo_1 = 0;
    this.mo_1.wr(this.q8(), this);
  } else {
    $l$block: {
      // Inline function 'kotlinx.coroutines.internal.executeUnconfined' call
      // Inline function 'kotlinx.coroutines.assert' call
      var eventLoop = ThreadLocalEventLoop_getInstance().rs();
      if (false && eventLoop.ms()) {
        break $l$block;
      }
      var tmp;
      if (eventLoop.ls()) {
        this.oo_1 = state;
        this.uo_1 = 0;
        eventLoop.ks(this);
        tmp = true;
      } else {
        // Inline function 'kotlinx.coroutines.runUnconfinedEventLoop' call
        eventLoop.ns(true);
        try {
          // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.resumeWith.<anonymous>' call
          // Inline function 'kotlinx.coroutines.withCoroutineContext' call
          this.q8();
          this.po_1;
          this.no_1.v8(result);
          $l$loop: while (eventLoop.js()) {
          }
        } catch ($p) {
          if ($p instanceof Error) {
            var e = $p;
            this.jq(e);
          } else {
            throw $p;
          }
        }
        finally {
          eventLoop.os(true);
        }
        tmp = false;
      }
    }
  }
};
protoOf(DispatchedContinuation).toString = function () {
  return 'DispatchedContinuation[' + this.mo_1.toString() + ', ' + toDebugString(this.no_1) + ']';
};
function resumeCancellableWith(_this__u8e3s4, result) {
  _init_properties_DispatchedContinuation_kt__tnmqc0();
  var tmp;
  if (_this__u8e3s4 instanceof DispatchedContinuation) {
    var state = toState_0(result);
    if (_this__u8e3s4.mo_1.vr(_this__u8e3s4.q8())) {
      _this__u8e3s4.oo_1 = state;
      _this__u8e3s4.uo_1 = 1;
      _this__u8e3s4.mo_1.wr(_this__u8e3s4.q8(), _this__u8e3s4);
    } else {
      $l$block: {
        // Inline function 'kotlinx.coroutines.internal.executeUnconfined' call
        // Inline function 'kotlinx.coroutines.assert' call
        var eventLoop = ThreadLocalEventLoop_getInstance().rs();
        if (false && eventLoop.ms()) {
          break $l$block;
        }
        var tmp_0;
        if (eventLoop.ls()) {
          _this__u8e3s4.oo_1 = state;
          _this__u8e3s4.uo_1 = 1;
          eventLoop.ks(_this__u8e3s4);
          tmp_0 = true;
        } else {
          // Inline function 'kotlinx.coroutines.runUnconfinedEventLoop' call
          eventLoop.ns(true);
          try {
            // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.resumeCancellableWith.<anonymous>' call
            var tmp$ret$3;
            $l$block_0: {
              // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.resumeCancelled' call
              var job = _this__u8e3s4.q8().x8(Key_instance_3);
              if (!(job == null) && !job.yk()) {
                var cause = job.wl();
                _this__u8e3s4.op(state, cause);
                // Inline function 'kotlin.coroutines.resumeWithException' call
                // Inline function 'kotlin.Companion.failure' call
                var tmp$ret$1 = _Result___init__impl__xyqfz8(createFailure(cause));
                _this__u8e3s4.v8(tmp$ret$1);
                tmp$ret$3 = true;
                break $l$block_0;
              }
              tmp$ret$3 = false;
            }
            if (!tmp$ret$3) {
              // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.resumeUndispatchedWith' call
              // Inline function 'kotlinx.coroutines.withContinuationContext' call
              _this__u8e3s4.no_1;
              _this__u8e3s4.po_1;
              _this__u8e3s4.no_1.v8(result);
            }
            $l$loop: while (eventLoop.js()) {
            }
          } catch ($p) {
            if ($p instanceof Error) {
              var e = $p;
              _this__u8e3s4.jq(e);
            } else {
              throw $p;
            }
          }
          finally {
            eventLoop.os(true);
          }
          tmp_0 = false;
        }
      }
    }
    tmp = Unit_instance;
  } else {
    _this__u8e3s4.v8(result);
    tmp = Unit_instance;
  }
  return tmp;
}
var properties_initialized_DispatchedContinuation_kt_2siadq;
function _init_properties_DispatchedContinuation_kt__tnmqc0() {
  if (!properties_initialized_DispatchedContinuation_kt_2siadq) {
    properties_initialized_DispatchedContinuation_kt_2siadq = true;
    UNDEFINED = new Symbol('UNDEFINED');
    REUSABLE_CLAIMED = new Symbol('REUSABLE_CLAIMED');
  }
}
function DispatchedTask(resumeMode) {
  SchedulerTask.call(this);
  this.uo_1 = resumeMode;
}
protoOf(DispatchedTask).op = function (takenState, cause) {
};
protoOf(DispatchedTask).wp = function (state) {
  return (state == null ? true : !(state == null)) ? state : THROW_CCE();
};
protoOf(DispatchedTask).gq = function (state) {
  var tmp151_safe_receiver = state instanceof CompletedExceptionally ? state : null;
  return tmp151_safe_receiver == null ? null : tmp151_safe_receiver.dl_1;
};
protoOf(DispatchedTask).iq = function () {
  // Inline function 'kotlinx.coroutines.assert' call
  var fatalException = null;
  try {
    var tmp = this.lp();
    var delegate = tmp instanceof DispatchedContinuation ? tmp : THROW_CCE();
    var continuation = delegate.no_1;
    // Inline function 'kotlinx.coroutines.withContinuationContext' call
    delegate.po_1;
    var context = continuation.q8();
    var state = this.np();
    var exception = this.gq(state);
    var job = exception == null && get_isCancellableMode(this.uo_1) ? context.x8(Key_instance_3) : null;
    if (!(job == null) && !job.yk()) {
      var cause = job.wl();
      this.op(state, cause);
      // Inline function 'kotlinx.coroutines.resumeWithStackTrace' call
      // Inline function 'kotlin.Companion.failure' call
      var exception_0 = recoverStackTrace(cause, continuation);
      var tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(exception_0));
      continuation.v8(tmp$ret$0);
    } else {
      if (!(exception == null)) {
        // Inline function 'kotlin.coroutines.resumeWithException' call
        // Inline function 'kotlin.Companion.failure' call
        var tmp$ret$1 = _Result___init__impl__xyqfz8(createFailure(exception));
        continuation.v8(tmp$ret$1);
      } else {
        // Inline function 'kotlin.coroutines.resume' call
        // Inline function 'kotlin.Companion.success' call
        var value = this.wp(state);
        var tmp$ret$3 = _Result___init__impl__xyqfz8(value);
        continuation.v8(tmp$ret$3);
      }
    }
  } catch ($p) {
    if ($p instanceof Error) {
      var e = $p;
      fatalException = e;
    } else {
      throw $p;
    }
  }
  finally {
    var tmp152_safe_receiver = fatalException;
    if (tmp152_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      // Inline function 'kotlin.contracts.contract' call
      this.jq(tmp152_safe_receiver);
    }
  }
};
protoOf(DispatchedTask).jq = function (exception) {
  var reason = new CoroutinesInternalError('Fatal exception in coroutines machinery for ' + toString(this) + '. ' + "Please read KDoc to 'handleFatalException' method and report this incident to maintainers", exception);
  handleCoroutineException(this.lp().q8(), reason);
};
function get_isReusableMode(_this__u8e3s4) {
  return _this__u8e3s4 === 2;
}
function get_isCancellableMode(_this__u8e3s4) {
  return _this__u8e3s4 === 1 || _this__u8e3s4 === 2;
}
function dispatch(_this__u8e3s4, mode) {
  // Inline function 'kotlinx.coroutines.assert' call
  var delegate = _this__u8e3s4.lp();
  var undispatched = mode === 4;
  var tmp;
  var tmp_0;
  if (!undispatched) {
    tmp_0 = delegate instanceof DispatchedContinuation;
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = get_isCancellableMode(mode) === get_isCancellableMode(_this__u8e3s4.uo_1);
  } else {
    tmp = false;
  }
  if (tmp) {
    var dispatcher = delegate.mo_1;
    var context = delegate.q8();
    if (dispatcher.vr(context)) {
      dispatcher.wr(context, _this__u8e3s4);
    } else {
      resumeUnconfined(_this__u8e3s4);
    }
  } else {
    resume(_this__u8e3s4, delegate, undispatched);
  }
}
function resumeUnconfined(_this__u8e3s4) {
  var eventLoop = ThreadLocalEventLoop_getInstance().rs();
  if (eventLoop.ls()) {
    eventLoop.ks(_this__u8e3s4);
  } else {
    // Inline function 'kotlinx.coroutines.runUnconfinedEventLoop' call
    eventLoop.ns(true);
    try {
      // Inline function 'kotlinx.coroutines.resumeUnconfined.<anonymous>' call
      resume(_this__u8e3s4, _this__u8e3s4.lp(), true);
      $l$loop: while (eventLoop.js()) {
      }
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        _this__u8e3s4.jq(e);
      } else {
        throw $p;
      }
    }
    finally {
      eventLoop.os(true);
    }
  }
}
function resume(_this__u8e3s4, delegate, undispatched) {
  var state = _this__u8e3s4.np();
  var exception = _this__u8e3s4.gq(state);
  var tmp;
  if (!(exception == null)) {
    // Inline function 'kotlin.Companion.failure' call
    tmp = _Result___init__impl__xyqfz8(createFailure(exception));
  } else {
    // Inline function 'kotlin.Companion.success' call
    var value = _this__u8e3s4.wp(state);
    tmp = _Result___init__impl__xyqfz8(value);
  }
  var result = tmp;
  if (undispatched) {
    // Inline function 'kotlinx.coroutines.internal.DispatchedContinuation.resumeUndispatchedWith' call
    var this_0 = delegate instanceof DispatchedContinuation ? delegate : THROW_CCE();
    // Inline function 'kotlinx.coroutines.withContinuationContext' call
    this_0.no_1;
    this_0.po_1;
    this_0.no_1.v8(result);
  } else {
    delegate.v8(result);
  }
}
function _InlineList___init__impl__z8n56(holder) {
  holder = holder === VOID ? null : holder;
  return holder;
}
function _get_holder__f6h5pd($this) {
  return $this;
}
function InlineList__plus_impl_nuetvo($this, element) {
  // Inline function 'kotlinx.coroutines.assert' call
  var tmp153_subject = _get_holder__f6h5pd($this);
  var tmp;
  if (tmp153_subject == null) {
    tmp = _InlineList___init__impl__z8n56(element);
  } else {
    if (tmp153_subject instanceof ArrayList) {
      var tmp_0 = _get_holder__f6h5pd($this);
      (tmp_0 instanceof ArrayList ? tmp_0 : THROW_CCE()).k(element);
      tmp = _InlineList___init__impl__z8n56(_get_holder__f6h5pd($this));
    } else {
      var list = ArrayList_init_$Create$(4);
      var tmp_1 = _get_holder__f6h5pd($this);
      list.k((tmp_1 == null ? true : !(tmp_1 == null)) ? tmp_1 : THROW_CCE());
      list.k(element);
      tmp = _InlineList___init__impl__z8n56(list);
    }
  }
  return tmp;
}
function callUndeliveredElement(_this__u8e3s4, element, context) {
  var tmp156_safe_receiver = callUndeliveredElementCatchingException(_this__u8e3s4, element, null);
  if (tmp156_safe_receiver == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    // Inline function 'kotlin.contracts.contract' call
    handleCoroutineException(context, tmp156_safe_receiver);
  }
}
function UndeliveredElementException(message, cause) {
  RuntimeException_init_$Init$(message, cause, this);
  captureStack(this, UndeliveredElementException);
}
function callUndeliveredElementCatchingException(_this__u8e3s4, element, undeliveredElementException) {
  undeliveredElementException = undeliveredElementException === VOID ? null : undeliveredElementException;
  try {
    _this__u8e3s4(element);
  } catch ($p) {
    if ($p instanceof Error) {
      var ex = $p;
      if (!(undeliveredElementException == null) && !(undeliveredElementException.cause === ex)) {
        addSuppressed(undeliveredElementException, ex);
      } else {
        return new UndeliveredElementException('Exception in undelivered element handler for ' + toString_0(element), ex);
      }
    } else {
      throw $p;
    }
  }
  return undeliveredElementException;
}
function ScopeCoroutine(context, uCont) {
  AbstractCoroutine.call(this, context, true, true);
  this.rw_1 = uCont;
}
protoOf(ScopeCoroutine).pm = function () {
  return true;
};
protoOf(ScopeCoroutine).il = function (state) {
  resumeCancellableWith(intercepted(this.rw_1), recoverResult(state, this.rw_1));
};
protoOf(ScopeCoroutine).hl = function (state) {
  this.rw_1.v8(recoverResult(state, this.rw_1));
};
function ContextScope(context) {
  this.p15_1 = context;
}
protoOf(ContextScope).xk = function () {
  return this.p15_1;
};
protoOf(ContextScope).toString = function () {
  return 'CoroutineScope(coroutineContext=' + toString(this.p15_1) + ')';
};
function Symbol(symbol) {
  this.q15_1 = symbol;
}
protoOf(Symbol).toString = function () {
  return '<' + this.q15_1 + '>';
};
function systemProp(propertyName, defaultValue, minValue, maxValue) {
  minValue = minValue === VOID ? 1 : minValue;
  maxValue = maxValue === VOID ? 2147483647 : maxValue;
  return systemProp_0(propertyName, toLong(defaultValue), toLong(minValue), toLong(maxValue)).j1();
}
function systemProp_0(propertyName, defaultValue, minValue, maxValue) {
  minValue = minValue === VOID ? new Long(1, 0) : minValue;
  maxValue = maxValue === VOID ? new Long(-1, 2147483647) : maxValue;
  var tmp0_elvis_lhs = systemProp_1(propertyName);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return defaultValue;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var value = tmp;
  var tmp1_elvis_lhs = toLongOrNull(value);
  var tmp_0;
  if (tmp1_elvis_lhs == null) {
    var message = "System property '" + propertyName + "' has unrecognized value '" + value + "'";
    throw IllegalStateException_init_$Create$(toString(message));
  } else {
    tmp_0 = tmp1_elvis_lhs;
  }
  var parsed = tmp_0;
  if (!(minValue.e1(parsed) <= 0 ? parsed.e1(maxValue) <= 0 : false)) {
    // Inline function 'kotlin.error' call
    var message_0 = "System property '" + propertyName + "' should be in range " + minValue.toString() + '..' + maxValue.toString() + ", but is '" + parsed.toString() + "'";
    throw IllegalStateException_init_$Create$(toString(message_0));
  }
  return parsed;
}
function startCoroutineCancellable(_this__u8e3s4, fatalCompletion) {
  var tmp;
  try {
    var tmp_0 = intercepted(_this__u8e3s4);
    // Inline function 'kotlin.Companion.success' call
    var tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_instance);
    resumeCancellableWith(tmp_0, tmp$ret$0);
    tmp = Unit_instance;
  } catch ($p) {
    var tmp_1;
    if ($p instanceof Error) {
      var e = $p;
      dispatcherFailure$accessor$glj1hg(fatalCompletion, e);
      tmp_1 = Unit_instance;
    } else {
      throw $p;
    }
    tmp = tmp_1;
  }
  return tmp;
}
function startCoroutineCancellable_0(_this__u8e3s4, receiver, completion) {
  var tmp;
  try {
    var tmp_0 = intercepted(createCoroutineUnintercepted(_this__u8e3s4, receiver, completion));
    // Inline function 'kotlin.Companion.success' call
    var tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_instance);
    resumeCancellableWith(tmp_0, tmp$ret$0);
    tmp = Unit_instance;
  } catch ($p) {
    var tmp_1;
    if ($p instanceof Error) {
      var e = $p;
      dispatcherFailure$accessor$glj1hg(completion, e);
      tmp_1 = Unit_instance;
    } else {
      throw $p;
    }
    tmp = tmp_1;
  }
  return tmp;
}
function dispatcherFailure(completion, e) {
  // Inline function 'kotlin.Companion.failure' call
  var tmp$ret$0 = _Result___init__impl__xyqfz8(createFailure(e));
  completion.v8(tmp$ret$0);
  throw e;
}
function startCoroutineCancellable_1(_this__u8e3s4, completion) {
  var tmp;
  try {
    var tmp_0 = intercepted(createCoroutineUnintercepted_0(_this__u8e3s4, completion));
    // Inline function 'kotlin.Companion.success' call
    var tmp$ret$0 = _Result___init__impl__xyqfz8(Unit_instance);
    resumeCancellableWith(tmp_0, tmp$ret$0);
    tmp = Unit_instance;
  } catch ($p) {
    var tmp_1;
    if ($p instanceof Error) {
      var e = $p;
      dispatcherFailure$accessor$glj1hg(completion, e);
      tmp_1 = Unit_instance;
    } else {
      throw $p;
    }
    tmp = tmp_1;
  }
  return tmp;
}
function dispatcherFailure$accessor$glj1hg(completion, e) {
  return dispatcherFailure(completion, e);
}
function startCoroutineUndispatched(_this__u8e3s4, receiver, completion) {
  // Inline function 'kotlinx.coroutines.internal.probeCoroutineCreated' call
  var actualCompletion = completion;
  var tmp;
  try {
    // Inline function 'kotlinx.coroutines.withCoroutineContext' call
    actualCompletion.q8();
    // Inline function 'kotlinx.coroutines.intrinsics.startCoroutineUndispatched.<anonymous>' call
    // Inline function 'kotlinx.coroutines.internal.probeCoroutineResumed' call
    // Inline function 'kotlin.coroutines.intrinsics.startCoroutineUninterceptedOrReturn' call
    tmp = startCoroutineUninterceptedOrReturnNonGeneratorVersion(_this__u8e3s4, receiver, actualCompletion);
  } catch ($p) {
    var tmp_0;
    if ($p instanceof Error) {
      var e = $p;
      // Inline function 'kotlin.coroutines.resumeWithException' call
      // Inline function 'kotlin.Companion.failure' call
      var tmp$ret$4 = _Result___init__impl__xyqfz8(createFailure(e));
      actualCompletion.v8(tmp$ret$4);
      return Unit_instance;
    } else {
      throw $p;
    }
  }
  var value = tmp;
  if (!(value === get_COROUTINE_SUSPENDED())) {
    // Inline function 'kotlin.coroutines.resume' call
    // Inline function 'kotlin.Companion.success' call
    var value_0 = (value == null ? true : !(value == null)) ? value : THROW_CCE();
    var tmp$ret$6 = _Result___init__impl__xyqfz8(value_0);
    actualCompletion.v8(tmp$ret$6);
  }
}
function startUndispatchedOrReturnIgnoreTimeout(_this__u8e3s4, receiver, block) {
  var tmp$ret$2;
  $l$block_0: {
    // Inline function 'kotlinx.coroutines.intrinsics.undispatchedResult' call
    var tmp;
    try {
      // Inline function 'kotlinx.coroutines.intrinsics.startUndispatchedOrReturnIgnoreTimeout.<anonymous>' call
      // Inline function 'kotlin.coroutines.intrinsics.startCoroutineUninterceptedOrReturn' call
      tmp = startCoroutineUninterceptedOrReturnNonGeneratorVersion(block, receiver, _this__u8e3s4);
    } catch ($p) {
      var tmp_0;
      if ($p instanceof Error) {
        var e = $p;
        tmp_0 = new CompletedExceptionally(e);
      } else {
        throw $p;
      }
      tmp = tmp_0;
    }
    var result = tmp;
    if (result === get_COROUTINE_SUSPENDED()) {
      tmp$ret$2 = get_COROUTINE_SUSPENDED();
      break $l$block_0;
    }
    var state = _this__u8e3s4.gl(result);
    if (state === get_COMPLETING_WAITING_CHILDREN()) {
      tmp$ret$2 = get_COROUTINE_SUSPENDED();
      break $l$block_0;
    }
    var tmp_1;
    if (state instanceof CompletedExceptionally) {
      var tmp_2;
      // Inline function 'kotlinx.coroutines.intrinsics.startUndispatchedOrReturnIgnoreTimeout.<anonymous>' call
      var e_0 = state.dl_1;
      var tmp_3;
      if (e_0 instanceof TimeoutCancellationException) {
        tmp_3 = e_0.xv_1 === _this__u8e3s4;
      } else {
        tmp_3 = false;
      }
      if (!tmp_3) {
        throw recoverStackTrace(state.dl_1, _this__u8e3s4.rw_1);
      } else {
        if (result instanceof CompletedExceptionally) {
          throw recoverStackTrace(result.dl_1, _this__u8e3s4.rw_1);
        } else {
          tmp_2 = result;
        }
      }
      tmp_1 = tmp_2;
    } else {
      tmp_1 = unboxState(state);
    }
    tmp$ret$2 = tmp_1;
  }
  return tmp$ret$2;
}
var DUMMY_PROCESS_RESULT_FUNCTION;
function get_STATE_REG() {
  _init_properties_Select_kt__zhm2jg();
  return STATE_REG;
}
var STATE_REG;
function get_STATE_COMPLETED() {
  _init_properties_Select_kt__zhm2jg();
  return STATE_COMPLETED;
}
var STATE_COMPLETED;
function get_STATE_CANCELLED() {
  _init_properties_Select_kt__zhm2jg();
  return STATE_CANCELLED;
}
var STATE_CANCELLED;
function get_NO_RESULT() {
  _init_properties_Select_kt__zhm2jg();
  return NO_RESULT;
}
var NO_RESULT;
var PARAM_CLAUSE_0;
function SelectInstance() {
}
function trySelectInternal($this, clauseObject, internalResult) {
  $l$loop: while (true) {
    var curState = $this.a10_1.kotlinx$atomicfu$value;
    if (isInterface(curState, CancellableContinuation)) {
      var tmp0_elvis_lhs = findClause($this, clauseObject);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        continue $l$loop;
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var clause = tmp;
      var onCancellation = clause.v15($this, internalResult);
      if ($this.a10_1.atomicfu$compareAndSet(curState, clause)) {
        var cont = isInterface(curState, CancellableContinuation) ? curState : THROW_CCE();
        $this.c10_1 = internalResult;
        if (tryResume_0(cont, onCancellation))
          return 0;
        $this.c10_1 = get_NO_RESULT();
        return 2;
      }
    } else {
      var tmp_0;
      if (equals(curState, get_STATE_COMPLETED())) {
        tmp_0 = true;
      } else {
        tmp_0 = curState instanceof ClauseData;
      }
      if (tmp_0)
        return 3;
      else {
        if (equals(curState, get_STATE_CANCELLED()))
          return 2;
        else {
          if (equals(curState, get_STATE_REG())) {
            if ($this.a10_1.atomicfu$compareAndSet(curState, listOf_0(clauseObject)))
              return 1;
          } else {
            if (isInterface(curState, KtList)) {
              if ($this.a10_1.atomicfu$compareAndSet(curState, plus_0(curState, clauseObject)))
                return 1;
            } else {
              var message = 'Unexpected state: ' + toString(curState);
              throw IllegalStateException_init_$Create$(toString(message));
            }
          }
        }
      }
    }
  }
}
function findClause($this, clauseObject) {
  var tmp0_elvis_lhs = $this.b10_1;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return null;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var clauses = tmp;
  // Inline function 'kotlin.collections.find' call
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.collections.firstOrNull' call
    var tmp0_iterator = clauses.m();
    while (tmp0_iterator.n()) {
      var element = tmp0_iterator.o();
      // Inline function 'kotlinx.coroutines.selects.SelectImplementation.findClause.<anonymous>' call
      if (element.s15_1 === clauseObject) {
        tmp$ret$1 = element;
        break $l$block;
      }
    }
    tmp$ret$1 = null;
  }
  var tmp1_elvis_lhs = tmp$ret$1;
  var tmp_0;
  if (tmp1_elvis_lhs == null) {
    var message = 'Clause with object ' + toString(clauseObject) + ' is not found';
    throw IllegalStateException_init_$Create$(toString(message));
  } else {
    tmp_0 = tmp1_elvis_lhs;
  }
  return tmp_0;
}
function ClauseData() {
}
protoOf(ClauseData).v15 = function (select, internalResult) {
  var tmp161_safe_receiver = this.u15_1;
  return tmp161_safe_receiver == null ? null : tmp161_safe_receiver(select, this.t15_1, internalResult);
};
function SelectImplementation() {
}
protoOf(SelectImplementation).d10 = function (clauseObject, result) {
  return TrySelectDetailedResult_0(trySelectInternal(this, clauseObject, result));
};
var TrySelectDetailedResult_SUCCESSFUL_instance;
var TrySelectDetailedResult_REREGISTER_instance;
var TrySelectDetailedResult_CANCELLED_instance;
var TrySelectDetailedResult_ALREADY_SELECTED_instance;
var TrySelectDetailedResult_entriesInitialized;
function TrySelectDetailedResult_initEntries() {
  if (TrySelectDetailedResult_entriesInitialized)
    return Unit_instance;
  TrySelectDetailedResult_entriesInitialized = true;
  TrySelectDetailedResult_SUCCESSFUL_instance = new TrySelectDetailedResult('SUCCESSFUL', 0);
  TrySelectDetailedResult_REREGISTER_instance = new TrySelectDetailedResult('REREGISTER', 1);
  TrySelectDetailedResult_CANCELLED_instance = new TrySelectDetailedResult('CANCELLED', 2);
  TrySelectDetailedResult_ALREADY_SELECTED_instance = new TrySelectDetailedResult('ALREADY_SELECTED', 3);
}
function TrySelectDetailedResult(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function TrySelectDetailedResult_0(trySelectInternalResult) {
  _init_properties_Select_kt__zhm2jg();
  var tmp;
  switch (trySelectInternalResult) {
    case 0:
      tmp = TrySelectDetailedResult_SUCCESSFUL_getInstance();
      break;
    case 1:
      tmp = TrySelectDetailedResult_REREGISTER_getInstance();
      break;
    case 2:
      tmp = TrySelectDetailedResult_CANCELLED_getInstance();
      break;
    case 3:
      tmp = TrySelectDetailedResult_ALREADY_SELECTED_getInstance();
      break;
    default:
      var message = 'Unexpected internal result: ' + trySelectInternalResult;
      throw IllegalStateException_init_$Create$(toString(message));
  }
  return tmp;
}
function tryResume_0(_this__u8e3s4, onCancellation) {
  _init_properties_Select_kt__zhm2jg();
  var tmp0_elvis_lhs = _this__u8e3s4.wn(Unit_instance, null, onCancellation);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return false;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var token = tmp;
  _this__u8e3s4.xn(token);
  return true;
}
function DUMMY_PROCESS_RESULT_FUNCTION$lambda(_unused_var__etf5q3, _unused_var__etf5q3_0, _unused_var__etf5q3_1) {
  _init_properties_Select_kt__zhm2jg();
  return null;
}
function TrySelectDetailedResult_SUCCESSFUL_getInstance() {
  TrySelectDetailedResult_initEntries();
  return TrySelectDetailedResult_SUCCESSFUL_instance;
}
function TrySelectDetailedResult_REREGISTER_getInstance() {
  TrySelectDetailedResult_initEntries();
  return TrySelectDetailedResult_REREGISTER_instance;
}
function TrySelectDetailedResult_CANCELLED_getInstance() {
  TrySelectDetailedResult_initEntries();
  return TrySelectDetailedResult_CANCELLED_instance;
}
function TrySelectDetailedResult_ALREADY_SELECTED_getInstance() {
  TrySelectDetailedResult_initEntries();
  return TrySelectDetailedResult_ALREADY_SELECTED_instance;
}
var properties_initialized_Select_kt_7rpl36;
function _init_properties_Select_kt__zhm2jg() {
  if (!properties_initialized_Select_kt_7rpl36) {
    properties_initialized_Select_kt_7rpl36 = true;
    DUMMY_PROCESS_RESULT_FUNCTION = DUMMY_PROCESS_RESULT_FUNCTION$lambda;
    STATE_REG = new Symbol('STATE_REG');
    STATE_COMPLETED = new Symbol('STATE_COMPLETED');
    STATE_CANCELLED = new Symbol('STATE_CANCELLED');
    NO_RESULT = new Symbol('NO_RESULT');
    PARAM_CLAUSE_0 = new Symbol('PARAM_CLAUSE_0');
  }
}
function get_NO_OWNER() {
  _init_properties_Mutex_kt__jod56b();
  return NO_OWNER;
}
var NO_OWNER;
var ON_LOCK_ALREADY_LOCKED_BY_OWNER;
function Mutex(locked) {
  locked = locked === VOID ? false : locked;
  _init_properties_Mutex_kt__jod56b();
  return new MutexImpl(locked);
}
function MutexImpl$CancellableContinuationWithOwner$tryResume$lambda(this$0, this$1) {
  return function (_unused_var__etf5q3, _unused_var__etf5q3_0, _unused_var__etf5q3_1) {
    this$0.d16_1.kotlinx$atomicfu$value = this$1.g16_1;
    this$0.i16(this$1.g16_1);
    return Unit_instance;
  };
}
function MutexImpl$CancellableContinuationWithOwner$resume$lambda(this$0, this$1) {
  return function (it) {
    this$0.i16(this$1.g16_1);
    return Unit_instance;
  };
}
function holdsLockImpl($this, owner) {
  $l$loop: while (true) {
    if (!$this.j16())
      return 0;
    var curOwner = $this.d16_1.kotlinx$atomicfu$value;
    if (curOwner === get_NO_OWNER())
      continue $l$loop;
    return curOwner === owner ? 1 : 2;
  }
}
function lockSuspend($this, owner, $completion) {
  // Inline function 'kotlinx.coroutines.suspendCancellableCoroutineReusable.<anonymous>' call
  var cancellable = getOrCreateCancellableContinuation(intercepted($completion));
  try {
    // Inline function 'kotlinx.coroutines.sync.MutexImpl.lockSuspend.<anonymous>' call
    var contWithOwner = new CancellableContinuationWithOwner($this, cancellable, owner);
    $this.acquireCont(contWithOwner);
  } catch ($p) {
    if ($p instanceof Error) {
      var e = $p;
      cancellable.vp();
      throw e;
    } else {
      throw $p;
    }
  }
  return cancellable.up();
}
function tryLockImpl($this, owner) {
  $l$loop: while (true) {
    if ($this.r16()) {
      // Inline function 'kotlinx.coroutines.assert' call
      $this.d16_1.kotlinx$atomicfu$value = owner;
      return 0;
    } else {
      if (owner == null)
        return 1;
      switch (holdsLockImpl($this, owner)) {
        case 1:
          return 2;
        case 2:
          return 1;
        case 0:
          continue $l$loop;
      }
    }
  }
}
function CancellableContinuationWithOwner($outer, cont, owner) {
  this.h16_1 = $outer;
  this.f16_1 = cont;
  this.g16_1 = owner;
}
protoOf(CancellableContinuationWithOwner).xn = function (token) {
  this.f16_1.xn(token);
};
protoOf(CancellableContinuationWithOwner).yn = function (handler) {
  this.f16_1.yn(handler);
};
protoOf(CancellableContinuationWithOwner).s16 = function (_this__u8e3s4, value) {
  this.f16_1.zn(_this__u8e3s4, Unit_instance);
};
protoOf(CancellableContinuationWithOwner).zn = function (_this__u8e3s4, value) {
  return this.s16(_this__u8e3s4, value instanceof Unit ? value : THROW_CCE());
};
protoOf(CancellableContinuationWithOwner).t16 = function (result) {
  this.f16_1.v8(result);
};
protoOf(CancellableContinuationWithOwner).v8 = function (result) {
  return this.t16(result);
};
protoOf(CancellableContinuationWithOwner).tl = function () {
  return this.f16_1.tl();
};
protoOf(CancellableContinuationWithOwner).q8 = function () {
  return this.f16_1.q8();
};
protoOf(CancellableContinuationWithOwner).bq = function (segment, index) {
  this.f16_1.bq(segment, index);
};
protoOf(CancellableContinuationWithOwner).u16 = function (value, idempotent, onCancellation) {
  // Inline function 'kotlinx.coroutines.assert' call
  var token = this.f16_1.wn(value, idempotent, MutexImpl$CancellableContinuationWithOwner$tryResume$lambda(this.h16_1, this));
  if (!(token == null)) {
    // Inline function 'kotlinx.coroutines.assert' call
    this.h16_1.d16_1.kotlinx$atomicfu$value = this.g16_1;
  }
  return token;
};
protoOf(CancellableContinuationWithOwner).wn = function (value, idempotent, onCancellation) {
  return this.u16(value instanceof Unit ? value : THROW_CCE(), idempotent, onCancellation);
};
protoOf(CancellableContinuationWithOwner).v16 = function (value, onCancellation) {
  // Inline function 'kotlinx.coroutines.assert' call
  this.h16_1.d16_1.kotlinx$atomicfu$value = this.g16_1;
  this.f16_1.zp(Unit_instance, MutexImpl$CancellableContinuationWithOwner$resume$lambda(this.h16_1, this));
};
protoOf(CancellableContinuationWithOwner).ao = function (value, onCancellation) {
  return this.v16(value instanceof Unit ? value : THROW_CCE(), onCancellation);
};
function MutexImpl$onSelectCancellationUnlockConstructor$lambda$lambda(this$0, $owner) {
  return function (_unused_var__etf5q3, _unused_var__etf5q3_0, _unused_var__etf5q3_1) {
    this$0.i16($owner);
    return Unit_instance;
  };
}
function MutexImpl$onSelectCancellationUnlockConstructor$lambda(this$0) {
  return function (_unused_var__etf5q3, owner, _unused_var__etf5q3_0) {
    return MutexImpl$onSelectCancellationUnlockConstructor$lambda$lambda(this$0, owner);
  };
}
function MutexImpl(locked) {
  SemaphoreAndMutexImpl.call(this, 1, locked ? 1 : 0);
  this.d16_1 = atomic$ref$1(locked ? null : get_NO_OWNER());
  var tmp = this;
  tmp.e16_1 = MutexImpl$onSelectCancellationUnlockConstructor$lambda(this);
}
protoOf(MutexImpl).j16 = function () {
  return this.w16() === 0;
};
protoOf(MutexImpl).x16 = function (owner, $completion) {
  if (this.y16(owner))
    return Unit_instance;
  return lockSuspend(this, owner, $completion);
};
protoOf(MutexImpl).y16 = function (owner) {
  var tmp;
  switch (tryLockImpl(this, owner)) {
    case 0:
      tmp = true;
      break;
    case 1:
      tmp = false;
      break;
    case 2:
      var message = 'This mutex is already locked by the specified owner: ' + toString_0(owner);
      throw IllegalStateException_init_$Create$(toString(message));
    default:
      var message_0 = 'unexpected';
      throw IllegalStateException_init_$Create$(toString(message_0));
  }
  return tmp;
};
protoOf(MutexImpl).i16 = function (owner) {
  $l$loop_0: while (true) {
    // Inline function 'kotlin.check' call
    // Inline function 'kotlin.contracts.contract' call
    if (!this.j16()) {
      // Inline function 'kotlinx.coroutines.sync.MutexImpl.unlock.<anonymous>' call
      var message = 'This mutex is not locked';
      throw IllegalStateException_init_$Create$(toString(message));
    }
    var curOwner = this.d16_1.kotlinx$atomicfu$value;
    if (curOwner === get_NO_OWNER())
      continue $l$loop_0;
    // Inline function 'kotlin.check' call
    // Inline function 'kotlin.contracts.contract' call
    if (!(curOwner === owner || owner == null)) {
      // Inline function 'kotlinx.coroutines.sync.MutexImpl.unlock.<anonymous>' call
      var message_0 = 'This mutex is locked by ' + toString_0(curOwner) + ', but ' + toString_0(owner) + ' is expected';
      throw IllegalStateException_init_$Create$(toString(message_0));
    }
    if (!this.d16_1.atomicfu$compareAndSet(curOwner, get_NO_OWNER()))
      continue $l$loop_0;
    this.z16();
    return Unit_instance;
  }
};
protoOf(MutexImpl).toString = function () {
  return 'Mutex@' + get_hexAddress(this) + '[isLocked=' + this.j16() + ',owner=' + toString_0(this.d16_1.kotlinx$atomicfu$value) + ']';
};
var properties_initialized_Mutex_kt_yv4p3j;
function _init_properties_Mutex_kt__jod56b() {
  if (!properties_initialized_Mutex_kt_yv4p3j) {
    properties_initialized_Mutex_kt_yv4p3j = true;
    NO_OWNER = new Symbol('NO_OWNER');
    ON_LOCK_ALREADY_LOCKED_BY_OWNER = new Symbol('ALREADY_LOCKED_BY_OWNER');
  }
}
function get_MAX_SPIN_CYCLES() {
  _init_properties_Semaphore_kt__t514r6();
  return MAX_SPIN_CYCLES;
}
var MAX_SPIN_CYCLES;
function get_PERMIT() {
  _init_properties_Semaphore_kt__t514r6();
  return PERMIT;
}
var PERMIT;
function get_TAKEN() {
  _init_properties_Semaphore_kt__t514r6();
  return TAKEN;
}
var TAKEN;
function get_BROKEN() {
  _init_properties_Semaphore_kt__t514r6();
  return BROKEN;
}
var BROKEN;
function get_CANCELLED() {
  _init_properties_Semaphore_kt__t514r6();
  return CANCELLED;
}
var CANCELLED;
function get_SEGMENT_SIZE_0() {
  _init_properties_Semaphore_kt__t514r6();
  return SEGMENT_SIZE_0;
}
var SEGMENT_SIZE_0;
function decPermits($this) {
  $l$loop: while (true) {
    var p = $this.p16_1.atomicfu$getAndDecrement();
    if (p > $this.k16_1)
      continue $l$loop;
    return p;
  }
}
function coerceAvailablePermitsAtMaximum($this) {
  $l$loop_0: while (true) {
    var cur = $this.p16_1.kotlinx$atomicfu$value;
    if (cur <= $this.k16_1)
      break $l$loop_0;
    if ($this.p16_1.atomicfu$compareAndSet(cur, $this.k16_1))
      break $l$loop_0;
  }
}
function addAcquireToQueue($this, waiter) {
  var curTail = $this.n16_1.kotlinx$atomicfu$value;
  var enqIdx = $this.o16_1.atomicfu$getAndIncrement$long();
  var createNewSegment = createSegment$ref_0();
  var tmp$ret$2;
  $l$block_2: {
    // Inline function 'kotlinx.coroutines.internal.findSegmentAndMoveForward' call
    var this_0 = $this.n16_1;
    // Inline function 'kotlin.Long.div' call
    var other = get_SEGMENT_SIZE_0();
    var id = enqIdx.w2(toLong(other));
    while (true) {
      var s = findSegmentInternal(curTail, id, createNewSegment);
      var tmp;
      if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(s)) {
        tmp = true;
      } else {
        var tmp$ret$1;
        $l$block_1: {
          // Inline function 'kotlinx.coroutines.internal.moveForward' call
          var to = _SegmentOrClosed___get_segment__impl__jvcr9l(s);
          while (true) {
            // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
            var cur = this_0.kotlinx$atomicfu$value;
            if (cur.yo_1.e1(to.yo_1) >= 0) {
              tmp$ret$1 = true;
              break $l$block_1;
            }
            if (!to.by()) {
              tmp$ret$1 = false;
              break $l$block_1;
            }
            if (this_0.atomicfu$compareAndSet(cur, to)) {
              if (cur.cy()) {
                cur.c4();
              }
              tmp$ret$1 = true;
              break $l$block_1;
            }
            if (to.cy()) {
              to.c4();
            }
          }
          tmp$ret$1 = Unit_instance;
        }
        tmp = tmp$ret$1;
      }
      if (tmp) {
        tmp$ret$2 = s;
        break $l$block_2;
      }
    }
  }
  var segment = _SegmentOrClosed___get_segment__impl__jvcr9l(tmp$ret$2);
  // Inline function 'kotlin.Long.rem' call
  var other_0 = get_SEGMENT_SIZE_0();
  var i = enqIdx.x2(toLong(other_0)).j1();
  // Inline function 'kotlinx.coroutines.sync.SemaphoreSegment.cas' call
  if (segment.e17_1.atomicfu$get(i).atomicfu$compareAndSet(null, waiter)) {
    waiter.bq(segment, i);
    return true;
  }
  // Inline function 'kotlinx.coroutines.sync.SemaphoreSegment.cas' call
  var expected = get_PERMIT();
  var value = get_TAKEN();
  if (segment.e17_1.atomicfu$get(i).atomicfu$compareAndSet(expected, value)) {
    if (isInterface(waiter, CancellableContinuation)) {
      if (!isInterface(waiter, CancellableContinuation))
        THROW_CCE();
      waiter.ao(Unit_instance, $this.q16_1);
    } else {
      if (isInterface(waiter, SelectInstance)) {
        waiter.r15(Unit_instance);
      } else {
        var message = 'unexpected: ' + toString(waiter);
        throw IllegalStateException_init_$Create$(toString(message));
      }
    }
    return true;
  }
  // Inline function 'kotlinx.coroutines.assert' call
  return false;
}
function tryResumeNextFromQueue($this) {
  var curHead = $this.l16_1.kotlinx$atomicfu$value;
  var deqIdx = $this.m16_1.atomicfu$getAndIncrement$long();
  // Inline function 'kotlin.Long.div' call
  var other = get_SEGMENT_SIZE_0();
  var id = deqIdx.w2(toLong(other));
  var createNewSegment = createSegment$ref_1();
  var tmp$ret$2;
  $l$block_2: {
    // Inline function 'kotlinx.coroutines.internal.findSegmentAndMoveForward' call
    var this_0 = $this.l16_1;
    while (true) {
      var s = findSegmentInternal(curHead, id, createNewSegment);
      var tmp;
      if (_SegmentOrClosed___get_isClosed__impl__qmxmlo(s)) {
        tmp = true;
      } else {
        var tmp$ret$1;
        $l$block_1: {
          // Inline function 'kotlinx.coroutines.internal.moveForward' call
          var to = _SegmentOrClosed___get_segment__impl__jvcr9l(s);
          while (true) {
            // Inline function 'kotlinx.coroutines.internal.moveForward.<anonymous>' call
            var cur = this_0.kotlinx$atomicfu$value;
            if (cur.yo_1.e1(to.yo_1) >= 0) {
              tmp$ret$1 = true;
              break $l$block_1;
            }
            if (!to.by()) {
              tmp$ret$1 = false;
              break $l$block_1;
            }
            if (this_0.atomicfu$compareAndSet(cur, to)) {
              if (cur.cy()) {
                cur.c4();
              }
              tmp$ret$1 = true;
              break $l$block_1;
            }
            if (to.cy()) {
              to.c4();
            }
          }
          tmp$ret$1 = Unit_instance;
        }
        tmp = tmp$ret$1;
      }
      if (tmp) {
        tmp$ret$2 = s;
        break $l$block_2;
      }
    }
  }
  var segment = _SegmentOrClosed___get_segment__impl__jvcr9l(tmp$ret$2);
  segment.jy();
  if (segment.yo_1.e1(id) > 0)
    return false;
  // Inline function 'kotlin.Long.rem' call
  var other_0 = get_SEGMENT_SIZE_0();
  var i = deqIdx.x2(toLong(other_0)).j1();
  // Inline function 'kotlinx.coroutines.sync.SemaphoreSegment.getAndSet' call
  var value = get_PERMIT();
  var cellState = segment.e17_1.atomicfu$get(i).atomicfu$getAndSet(value);
  if (cellState === null) {
    // Inline function 'kotlin.repeat' call
    var times = get_MAX_SPIN_CYCLES();
    // Inline function 'kotlin.contracts.contract' call
    var inductionVariable = 0;
    if (inductionVariable < times)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        // Inline function 'kotlinx.coroutines.sync.SemaphoreAndMutexImpl.tryResumeNextFromQueue.<anonymous>' call
        // Inline function 'kotlinx.coroutines.sync.SemaphoreSegment.get' call
        if (segment.e17_1.atomicfu$get(i).kotlinx$atomicfu$value === get_TAKEN())
          return true;
      }
       while (inductionVariable < times);
    // Inline function 'kotlinx.coroutines.sync.SemaphoreSegment.cas' call
    var expected = get_PERMIT();
    var value_0 = get_BROKEN();
    return !segment.e17_1.atomicfu$get(i).atomicfu$compareAndSet(expected, value_0);
  } else if (cellState === get_CANCELLED())
    return false;
  else
    return tryResumeAcquire(cellState, $this);
}
function tryResumeAcquire(_this__u8e3s4, $this) {
  var tmp;
  if (isInterface(_this__u8e3s4, CancellableContinuation)) {
    if (!isInterface(_this__u8e3s4, CancellableContinuation))
      THROW_CCE();
    var token = _this__u8e3s4.wn(Unit_instance, null, $this.q16_1);
    var tmp_0;
    if (!(token == null)) {
      _this__u8e3s4.xn(token);
      tmp_0 = true;
    } else {
      tmp_0 = false;
    }
    tmp = tmp_0;
  } else {
    if (isInterface(_this__u8e3s4, SelectInstance)) {
      tmp = _this__u8e3s4.xz($this, Unit_instance);
    } else {
      var message = 'unexpected: ' + toString(_this__u8e3s4);
      throw IllegalStateException_init_$Create$(toString(message));
    }
  }
  return tmp;
}
function SemaphoreAndMutexImpl$onCancellationRelease$lambda(this$0) {
  return function (_unused_var__etf5q3, _unused_var__etf5q3_0, _unused_var__etf5q3_1) {
    this$0.z16();
    return Unit_instance;
  };
}
function createSegment$ref_0() {
  var l = function (p0, p1) {
    return createSegment_0(p0, p1);
  };
  l.callableName = 'createSegment';
  return l;
}
function createSegment$ref_1() {
  var l = function (p0, p1) {
    return createSegment_0(p0, p1);
  };
  l.callableName = 'createSegment';
  return l;
}
function SemaphoreAndMutexImpl(permits, acquiredPermits) {
  this.k16_1 = permits;
  this.m16_1 = atomic$long$1(new Long(0, 0));
  this.o16_1 = atomic$long$1(new Long(0, 0));
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.contracts.contract' call
  if (!(this.k16_1 > 0)) {
    // Inline function 'kotlinx.coroutines.sync.SemaphoreAndMutexImpl.<anonymous>' call
    var message = 'Semaphore should have at least 1 permit, but had ' + this.k16_1;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.contracts.contract' call
  if (!(0 <= acquiredPermits ? acquiredPermits <= this.k16_1 : false)) {
    // Inline function 'kotlinx.coroutines.sync.SemaphoreAndMutexImpl.<anonymous>' call
    var message_0 = 'The number of acquired permits should be in 0..' + this.k16_1;
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  var s = new SemaphoreSegment(new Long(0, 0), null, 2);
  this.l16_1 = atomic$ref$1(s);
  this.n16_1 = atomic$ref$1(s);
  this.p16_1 = atomic$int$1(this.k16_1 - acquiredPermits | 0);
  var tmp = this;
  tmp.q16_1 = SemaphoreAndMutexImpl$onCancellationRelease$lambda(this);
}
protoOf(SemaphoreAndMutexImpl).w16 = function () {
  // Inline function 'kotlin.math.max' call
  var a = this.p16_1.kotlinx$atomicfu$value;
  return Math.max(a, 0);
};
protoOf(SemaphoreAndMutexImpl).r16 = function () {
  $l$loop: while (true) {
    var p = this.p16_1.kotlinx$atomicfu$value;
    if (p > this.k16_1) {
      coerceAvailablePermitsAtMaximum(this);
      continue $l$loop;
    }
    if (p <= 0)
      return false;
    if (this.p16_1.atomicfu$compareAndSet(p, p - 1 | 0))
      return true;
  }
};
protoOf(SemaphoreAndMutexImpl).acquireCont = function (waiter) {
  var tmp$ret$0;
  $l$block_0: {
    // Inline function 'kotlinx.coroutines.sync.SemaphoreAndMutexImpl.acquire' call
    while (true) {
      var p = decPermits(this);
      if (p > 0) {
        // Inline function 'kotlinx.coroutines.sync.SemaphoreAndMutexImpl.acquire.<anonymous>' call
        waiter.ao(Unit_instance, this.q16_1);
        tmp$ret$0 = Unit_instance;
        break $l$block_0;
      }
      // Inline function 'kotlinx.coroutines.sync.SemaphoreAndMutexImpl.acquire.<anonymous>' call
      if (addAcquireToQueue(this, isInterface(waiter, Waiter) ? waiter : THROW_CCE())) {
        tmp$ret$0 = Unit_instance;
        break $l$block_0;
      }
    }
  }
  return tmp$ret$0;
};
protoOf(SemaphoreAndMutexImpl).z16 = function () {
  while (true) {
    var p = this.p16_1.atomicfu$getAndIncrement();
    if (p >= this.k16_1) {
      coerceAvailablePermitsAtMaximum(this);
      // Inline function 'kotlin.error' call
      var message = 'The number of released permits cannot be greater than ' + this.k16_1;
      throw IllegalStateException_init_$Create$(toString(message));
    }
    if (p >= 0)
      return Unit_instance;
    if (tryResumeNextFromQueue(this))
      return Unit_instance;
  }
};
function SemaphoreSegment(id, prev, pointers) {
  Segment.call(this, id, prev, pointers);
  this.e17_1 = atomicfu$AtomicRefArray$ofNulls(get_SEGMENT_SIZE_0());
}
protoOf(SemaphoreSegment).cx = function () {
  return get_SEGMENT_SIZE_0();
};
protoOf(SemaphoreSegment).ap = function (index, cause, context) {
  // Inline function 'kotlinx.coroutines.sync.SemaphoreSegment.set' call
  var value = get_CANCELLED();
  this.e17_1.atomicfu$get(index).kotlinx$atomicfu$value = value;
  this.zx();
};
protoOf(SemaphoreSegment).toString = function () {
  return 'SemaphoreSegment[id=' + this.yo_1.toString() + ', hashCode=' + hashCode(this) + ']';
};
function createSegment_0(id, prev) {
  _init_properties_Semaphore_kt__t514r6();
  return new SemaphoreSegment(id, prev, 0);
}
var properties_initialized_Semaphore_kt_uqcwok;
function _init_properties_Semaphore_kt__t514r6() {
  if (!properties_initialized_Semaphore_kt_uqcwok) {
    properties_initialized_Semaphore_kt_uqcwok = true;
    MAX_SPIN_CYCLES = systemProp('kotlinx.coroutines.semaphore.maxSpinCycles', 100);
    PERMIT = new Symbol('PERMIT');
    TAKEN = new Symbol('TAKEN');
    BROKEN = new Symbol('BROKEN');
    CANCELLED = new Symbol('CANCELLED');
    SEGMENT_SIZE_0 = systemProp('kotlinx.coroutines.semaphore.segmentSize', 16);
  }
}
function createDefaultDispatcher() {
  var tmp;
  if (isJsdom()) {
    tmp = NodeDispatcher_getInstance();
  } else {
    var tmp_0;
    var tmp_1;
    if (!(typeof window === 'undefined')) {
      // Inline function 'kotlin.js.asDynamic' call
      tmp_1 = window != null;
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      // Inline function 'kotlin.js.asDynamic' call
      tmp_0 = !(typeof window.addEventListener === 'undefined');
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = asCoroutineDispatcher(window);
    } else {
      if (typeof process === 'undefined' || typeof process.nextTick === 'undefined') {
        tmp = SetTimeoutDispatcher_getInstance();
      } else {
        tmp = NodeDispatcher_getInstance();
      }
    }
  }
  return tmp;
}
function isJsdom() {
  return !(typeof navigator === 'undefined') && navigator != null && navigator.userAgent != null && !(typeof navigator.userAgent === 'undefined') && !(typeof navigator.userAgent.match === 'undefined') && navigator.userAgent.match('\\bjsdom\\b');
}
var counter;
function get_DEBUG() {
  return DEBUG;
}
var DEBUG;
function get_classSimpleName(_this__u8e3s4) {
  var tmp0_elvis_lhs = getKClassFromExpression(_this__u8e3s4).ca();
  return tmp0_elvis_lhs == null ? 'Unknown' : tmp0_elvis_lhs;
}
function get_hexAddress(_this__u8e3s4) {
  // Inline function 'kotlin.js.asDynamic' call
  var result = _this__u8e3s4.__debug_counter;
  if (!(typeof result === 'number')) {
    counter = counter + 1 | 0;
    result = counter;
    // Inline function 'kotlin.js.asDynamic' call
    _this__u8e3s4.__debug_counter = result;
  }
  return ((!(result == null) ? typeof result === 'number' : false) ? result : THROW_CCE()).toString();
}
function NodeDispatcher() {
  NodeDispatcher_instance = this;
  SetTimeoutBasedDispatcher.call(this);
}
protoOf(NodeDispatcher).h17 = function () {
  process.nextTick(this.o17_1.m17_1);
};
var NodeDispatcher_instance;
function NodeDispatcher_getInstance() {
  if (NodeDispatcher_instance == null)
    new NodeDispatcher();
  return NodeDispatcher_instance;
}
function ScheduledMessageQueue$processQueue$lambda(this$0) {
  return function () {
    this$0.s17();
    return Unit_instance;
  };
}
function ScheduledMessageQueue(dispatcher) {
  MessageQueue.call(this);
  this.l17_1 = dispatcher;
  var tmp = this;
  tmp.m17_1 = ScheduledMessageQueue$processQueue$lambda(this);
}
protoOf(ScheduledMessageQueue).t17 = function () {
  this.l17_1.h17();
};
protoOf(ScheduledMessageQueue).u17 = function () {
  setTimeout(this.m17_1, 0);
};
protoOf(ScheduledMessageQueue).v17 = function (timeout) {
  setTimeout(this.m17_1, timeout);
};
function w3cSetTimeout(handler, timeout) {
  return setTimeout(handler, timeout);
}
function WindowMessageQueue$lambda(this$0) {
  return function (event) {
    var tmp;
    if (event.source == this$0.g18_1 && event.data == this$0.h18_1) {
      event.stopPropagation();
      this$0.s17();
      tmp = Unit_instance;
    }
    return Unit_instance;
  };
}
function WindowMessageQueue$schedule$lambda(this$0) {
  return function (it) {
    this$0.s17();
    return Unit_instance;
  };
}
function WindowMessageQueue(window_0) {
  MessageQueue.call(this);
  this.g18_1 = window_0;
  this.h18_1 = 'dispatchCoroutine';
  this.g18_1.addEventListener('message', WindowMessageQueue$lambda(this), true);
}
protoOf(WindowMessageQueue).t17 = function () {
  var tmp = Promise.resolve(Unit_instance);
  tmp.then(WindowMessageQueue$schedule$lambda(this));
};
protoOf(WindowMessageQueue).u17 = function () {
  this.g18_1.postMessage(this.h18_1, '*');
};
function w3cSetTimeout_0(window_0, handler, timeout) {
  return setTimeout_0(window_0, handler, timeout);
}
function w3cClearTimeout(window_0, handle) {
  return window_0.clearTimeout(handle);
}
function w3cClearTimeout_0(handle) {
  return clearTimeout(handle);
}
function setTimeout_0(window_0, handler, timeout) {
  return window_0.setTimeout(handler, timeout);
}
function promise(_this__u8e3s4, context, start, block) {
  context = context === VOID ? EmptyCoroutineContext_getInstance() : context;
  start = start === VOID ? CoroutineStart_DEFAULT_getInstance() : start;
  return asPromise(async(_this__u8e3s4, context, start, block));
}
function asPromise(_this__u8e3s4) {
  var promise = new Promise(asPromise$lambda(_this__u8e3s4));
  // Inline function 'kotlin.js.asDynamic' call
  promise.deferred = _this__u8e3s4;
  return promise;
}
function asPromise$lambda$lambda($this_asPromise, $reject, $resolve) {
  return function (it) {
    var e = $this_asPromise.tm();
    var tmp;
    if (!(e == null)) {
      tmp = $reject(e);
    } else {
      tmp = $resolve($this_asPromise.qn());
    }
    return Unit_instance;
  };
}
function asPromise$lambda($this_asPromise) {
  return function (resolve, reject) {
    $this_asPromise.zl(asPromise$lambda$lambda($this_asPromise, reject, resolve));
    return Unit_instance;
  };
}
function asCoroutineDispatcher(_this__u8e3s4) {
  // Inline function 'kotlin.js.asDynamic' call
  var tmp0_elvis_lhs = _this__u8e3s4.coroutineDispatcher;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    // Inline function 'kotlin.also' call
    var this_0 = new WindowDispatcher(_this__u8e3s4);
    // Inline function 'kotlin.contracts.contract' call
    // Inline function 'kotlinx.coroutines.asCoroutineDispatcher.<anonymous>' call
    // Inline function 'kotlin.js.asDynamic' call
    _this__u8e3s4.coroutineDispatcher = this_0;
    tmp = this_0;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
}
function propagateExceptionFinalResort(exception) {
  console.error(exception.toString());
}
function createEventLoop() {
  return new UnconfinedEventLoop();
}
function UnconfinedEventLoop() {
  EventLoop.call(this);
}
protoOf(UnconfinedEventLoop).wr = function (context, block) {
  unsupported();
};
function unsupported() {
  throw UnsupportedOperationException_init_$Create$('runBlocking event loop is not supported');
}
function SetTimeoutDispatcher() {
  SetTimeoutDispatcher_instance = this;
  SetTimeoutBasedDispatcher.call(this);
}
protoOf(SetTimeoutDispatcher).h17 = function () {
  this.o17_1.v17(0);
};
var SetTimeoutDispatcher_instance;
function SetTimeoutDispatcher_getInstance() {
  if (SetTimeoutDispatcher_instance == null)
    new SetTimeoutDispatcher();
  return SetTimeoutDispatcher_instance;
}
function SetTimeoutBasedDispatcher$invokeOnTimeout$lambda($block) {
  return function () {
    $block.iq();
    return Unit_instance;
  };
}
function SetTimeoutBasedDispatcher$scheduleResumeAfterDelay$lambda($continuation, this$0) {
  return function () {
    // Inline function 'kotlin.with' call
    // Inline function 'kotlin.contracts.contract' call
    $continuation.zn(this$0, Unit_instance);
    return Unit_instance;
  };
}
function SetTimeoutBasedDispatcher() {
  CoroutineDispatcher.call(this);
  this.o17_1 = new ScheduledMessageQueue(this);
}
protoOf(SetTimeoutBasedDispatcher).wr = function (context, block) {
  this.o17_1.c18(block);
};
protoOf(SetTimeoutBasedDispatcher).ds = function (timeMillis, block, context) {
  var handle = w3cSetTimeout(SetTimeoutBasedDispatcher$invokeOnTimeout$lambda(block), delayToInt(timeMillis));
  return new ClearTimeout(handle);
};
protoOf(SetTimeoutBasedDispatcher).cs = function (timeMillis, continuation) {
  var handle = w3cSetTimeout(SetTimeoutBasedDispatcher$scheduleResumeAfterDelay$lambda(continuation, this), delayToInt(timeMillis));
  invokeOnCancellation(continuation, new ClearTimeout(handle));
};
function MessageQueue() {
  this.p17_1 = ArrayDeque_init_$Create$();
  this.q17_1 = 16;
  this.r17_1 = false;
}
protoOf(MessageQueue).w17 = function (element) {
  return this.p17_1.k(element);
};
protoOf(MessageQueue).k = function (element) {
  return this.w17((!(element == null) ? isInterface(element, Runnable) : false) ? element : THROW_CCE());
};
protoOf(MessageQueue).x17 = function (index, element) {
  this.p17_1.c2(index, element);
};
protoOf(MessageQueue).c2 = function (index, element) {
  return this.x17(index, (!(element == null) ? isInterface(element, Runnable) : false) ? element : THROW_CCE());
};
protoOf(MessageQueue).y17 = function (elements) {
  return this.p17_1.t(elements);
};
protoOf(MessageQueue).t = function (elements) {
  return this.y17(elements);
};
protoOf(MessageQueue).a2 = function () {
  this.p17_1.a2();
};
protoOf(MessageQueue).v = function (index) {
  return this.p17_1.v(index);
};
protoOf(MessageQueue).d2 = function (index) {
  return this.p17_1.d2(index);
};
protoOf(MessageQueue).z17 = function (index, element) {
  return this.p17_1.b2(index, element);
};
protoOf(MessageQueue).b2 = function (index, element) {
  return this.z17(index, (!(element == null) ? isInterface(element, Runnable) : false) ? element : THROW_CCE());
};
protoOf(MessageQueue).z1 = function (fromIndex, toIndex) {
  return this.p17_1.z1(fromIndex, toIndex);
};
protoOf(MessageQueue).a18 = function (element) {
  return this.p17_1.x1(element);
};
protoOf(MessageQueue).x1 = function (element) {
  if (!(!(element == null) ? isInterface(element, Runnable) : false))
    return false;
  return this.a18((!(element == null) ? isInterface(element, Runnable) : false) ? element : THROW_CCE());
};
protoOf(MessageQueue).b18 = function (elements) {
  return this.p17_1.y1(elements);
};
protoOf(MessageQueue).y1 = function (elements) {
  return this.b18(elements);
};
protoOf(MessageQueue).u = function (index) {
  return this.p17_1.u(index);
};
protoOf(MessageQueue).h = function () {
  return this.p17_1.h();
};
protoOf(MessageQueue).m = function () {
  return this.p17_1.m();
};
protoOf(MessageQueue).p = function () {
  return this.p17_1.bd_1;
};
protoOf(MessageQueue).c18 = function (element) {
  this.w17(element);
  if (!this.r17_1) {
    this.r17_1 = true;
    this.t17();
  }
};
protoOf(MessageQueue).s17 = function () {
  try {
    // Inline function 'kotlin.repeat' call
    var times = this.q17_1;
    // Inline function 'kotlin.contracts.contract' call
    var inductionVariable = 0;
    if (inductionVariable < times)
      do {
        var index = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        // Inline function 'kotlinx.coroutines.MessageQueue.process.<anonymous>' call
        var tmp0_elvis_lhs = removeFirstOrNull(this);
        var tmp;
        if (tmp0_elvis_lhs == null) {
          return Unit_instance;
        } else {
          tmp = tmp0_elvis_lhs;
        }
        var element = tmp;
        element.iq();
      }
       while (inductionVariable < times);
  }finally {
    if (this.h()) {
      this.r17_1 = false;
    } else {
      this.u17();
    }
  }
};
function WindowClearTimeout($outer, handle) {
  this.p18_1 = $outer;
  ClearTimeout.call(this, handle);
}
protoOf(WindowClearTimeout).ko = function () {
  w3cClearTimeout(this.p18_1.r18_1, this.t18_1);
};
function WindowDispatcher$scheduleResumeAfterDelay$lambda($continuation, this$0) {
  return function () {
    // Inline function 'kotlin.with' call
    // Inline function 'kotlin.contracts.contract' call
    $continuation.zn(this$0, Unit_instance);
    return Unit_instance;
  };
}
function Runnable$run$ref($boundThis) {
  var l = function () {
    $boundThis.iq();
    return Unit_instance;
  };
  l.callableName = 'run';
  return l;
}
function WindowDispatcher(window_0) {
  CoroutineDispatcher.call(this);
  this.r18_1 = window_0;
  this.s18_1 = new WindowMessageQueue(this.r18_1);
}
protoOf(WindowDispatcher).wr = function (context, block) {
  return this.s18_1.c18(block);
};
protoOf(WindowDispatcher).cs = function (timeMillis, continuation) {
  var handle = w3cSetTimeout_0(this.r18_1, WindowDispatcher$scheduleResumeAfterDelay$lambda(continuation, this), delayToInt(timeMillis));
  invokeOnCancellation(continuation, new WindowClearTimeout(this, handle));
};
protoOf(WindowDispatcher).ds = function (timeMillis, block, context) {
  var handle = w3cSetTimeout_0(this.r18_1, Runnable$run$ref(block), delayToInt(timeMillis));
  return new WindowClearTimeout(this, handle);
};
function delayToInt(timeMillis) {
  return coerceIn(timeMillis, new Long(0, 0), new Long(2147483647, 0)).j1();
}
function ClearTimeout(handle) {
  this.t18_1 = handle;
}
protoOf(ClearTimeout).ko = function () {
  w3cClearTimeout_0(this.t18_1);
};
protoOf(ClearTimeout).jo = function (cause) {
  this.ko();
};
protoOf(ClearTimeout).toString = function () {
  return 'ClearTimeout[' + this.t18_1 + ']';
};
function toDebugString(_this__u8e3s4) {
  return toString(_this__u8e3s4);
}
function get_DefaultDelay() {
  var tmp = Dispatchers_getInstance().pv_1;
  return isInterface(tmp, Delay) ? tmp : THROW_CCE();
}
function newCoroutineContext(_this__u8e3s4, context) {
  var combined = _this__u8e3s4.xk().se(context);
  return !(combined === Dispatchers_getInstance().pv_1) && combined.x8(Key_instance) == null ? combined.se(Dispatchers_getInstance().pv_1) : combined;
}
function get_coroutineName(_this__u8e3s4) {
  return null;
}
function Dispatchers() {
  Dispatchers_instance = this;
  this.pv_1 = createDefaultDispatcher();
  this.qv_1 = Unconfined_getInstance();
  this.rv_1 = new JsMainDispatcher(this.pv_1, false);
  this.sv_1 = null;
}
protoOf(Dispatchers).tv = function () {
  var tmp0_elvis_lhs = this.sv_1;
  return tmp0_elvis_lhs == null ? this.rv_1 : tmp0_elvis_lhs;
};
var Dispatchers_instance;
function Dispatchers_getInstance() {
  if (Dispatchers_instance == null)
    new Dispatchers();
  return Dispatchers_instance;
}
function JsMainDispatcher(delegate, invokeImmediately) {
  MainCoroutineDispatcher.call(this);
  this.v18_1 = delegate;
  this.w18_1 = invokeImmediately;
  this.x18_1 = this.w18_1 ? this : new JsMainDispatcher(this.v18_1, true);
}
protoOf(JsMainDispatcher).nv = function () {
  return this.x18_1;
};
protoOf(JsMainDispatcher).vr = function (context) {
  return !this.w18_1;
};
protoOf(JsMainDispatcher).wr = function (context, block) {
  return this.v18_1.wr(context, block);
};
protoOf(JsMainDispatcher).toString = function () {
  var tmp0_elvis_lhs = this.ov();
  return tmp0_elvis_lhs == null ? this.v18_1.toString() : tmp0_elvis_lhs;
};
function JobCancellationException(message, cause, job) {
  CancellationException_init_$Init$_0(message, cause, this);
  captureStack(this, JobCancellationException);
  this.y18_1 = job;
}
protoOf(JobCancellationException).toString = function () {
  return protoOf(CancellationException).toString.call(this) + '; job=' + toString(this.y18_1);
};
protoOf(JobCancellationException).equals = function (other) {
  var tmp;
  if (other === this) {
    tmp = true;
  } else {
    var tmp_0;
    var tmp_1;
    var tmp_2;
    if (other instanceof JobCancellationException) {
      tmp_2 = other.message == this.message;
    } else {
      tmp_2 = false;
    }
    if (tmp_2) {
      tmp_1 = equals(other.y18_1, this.y18_1);
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      tmp_0 = equals(other.cause, this.cause);
    } else {
      tmp_0 = false;
    }
    tmp = tmp_0;
  }
  return tmp;
};
protoOf(JobCancellationException).hashCode = function () {
  var tmp = imul(imul(getStringHashCode(ensureNotNull(this.message)), 31) + hashCode(this.y18_1) | 0, 31);
  var tmp0_safe_receiver = this.cause;
  var tmp0_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
  return tmp + (tmp0_elvis_lhs == null ? 0 : tmp0_elvis_lhs) | 0;
};
function CancellationException_0(message, cause) {
  return CancellationException_init_$Create$_0(message, cause);
}
function Runnable() {
}
function SchedulerTask() {
}
function AbortFlowException(owner) {
  CancellationException_init_$Init$('Flow was aborted, no more elements needed', this);
  captureStack(this, AbortFlowException);
  this.l14_1 = owner;
}
function identitySet(expectedSize) {
  return HashSet_init_$Create$(expectedSize);
}
function get_platformExceptionHandlers_() {
  _init_properties_CoroutineExceptionHandlerImpl_kt__37d7wf();
  return platformExceptionHandlers_;
}
var platformExceptionHandlers_;
function get_platformExceptionHandlers() {
  _init_properties_CoroutineExceptionHandlerImpl_kt__37d7wf();
  return get_platformExceptionHandlers_();
}
function DiagnosticCoroutineContextException(context) {
  RuntimeException_init_$Init$_0(toString(context), this);
  captureStack(this, DiagnosticCoroutineContextException);
}
var properties_initialized_CoroutineExceptionHandlerImpl_kt_qhrgvx;
function _init_properties_CoroutineExceptionHandlerImpl_kt__37d7wf() {
  if (!properties_initialized_CoroutineExceptionHandlerImpl_kt_qhrgvx) {
    properties_initialized_CoroutineExceptionHandlerImpl_kt_qhrgvx = true;
    // Inline function 'kotlin.collections.mutableSetOf' call
    platformExceptionHandlers_ = LinkedHashSet_init_$Create$();
  }
}
function LockFreeLinkedListHead() {
  LockFreeLinkedListNode.call(this);
}
function LockFreeLinkedListNode() {
  this.yq_1 = this;
  this.zq_1 = this;
  this.ar_1 = false;
}
protoOf(LockFreeLinkedListNode).br = function (node, permissionsBitmask) {
  var prev = this.zq_1;
  var tmp;
  if (prev instanceof ListClosed) {
    tmp = ((prev.c19_1 & permissionsBitmask) === 0 && prev.br(node, permissionsBitmask));
  } else {
    node.yq_1 = this;
    node.zq_1 = prev;
    prev.yq_1 = node;
    this.zq_1 = node;
    tmp = true;
  }
  return tmp;
};
protoOf(LockFreeLinkedListNode).ft = function (forbiddenElementsBit) {
  this.br(new ListClosed(forbiddenElementsBit), forbiddenElementsBit);
};
protoOf(LockFreeLinkedListNode).cr = function () {
  if (this.ar_1)
    return false;
  var prev = this.zq_1;
  var next = this.yq_1;
  prev.yq_1 = next;
  next.zq_1 = prev;
  this.ar_1 = true;
  return true;
};
protoOf(LockFreeLinkedListNode).dr = function (node) {
  if (!(this.yq_1 === this))
    return false;
  this.br(node, -2147483648);
  return true;
};
function ListClosed(forbiddenElementsBitmask) {
  LockFreeLinkedListNode.call(this);
  this.c19_1 = forbiddenElementsBitmask;
}
function unwrap(exception) {
  return exception;
}
function initCause(_this__u8e3s4, cause) {
}
function recoverStackTrace(exception, continuation) {
  return exception;
}
function recoverStackTrace_0(exception) {
  return exception;
}
function SynchronizedObject() {
}
function systemProp_1(propertyName) {
  return null;
}
function threadContextElements(context) {
  return 0;
}
function CommonThreadLocal() {
  this.ss_1 = null;
}
protoOf(CommonThreadLocal).ts = function () {
  var tmp = this.ss_1;
  return (tmp == null ? true : !(tmp == null)) ? tmp : THROW_CCE();
};
protoOf(CommonThreadLocal).us = function (value) {
  this.ss_1 = value;
};
function commonThreadLocal(name) {
  return new CommonThreadLocal();
}
//region block: post-declaration
protoOf(JobSupport).bm = invokeOnCompletion$default;
protoOf(JobSupport).gm = cancel$default;
protoOf(JobSupport).se = plus;
protoOf(JobSupport).x8 = get_0;
protoOf(JobSupport).re = fold;
protoOf(JobSupport).qe = minusKey_0;
protoOf(CoroutineDispatcher).x8 = get;
protoOf(CoroutineDispatcher).qe = minusKey;
protoOf(BufferedChannel).t12 = close$default;
protoOf(BufferedChannel).v12 = cancel$default_0;
//endregion
//region block: init
Active_instance = new Active();
Key_instance_1 = new Key_0();
Key_instance_2 = new Key_1();
GlobalScope_instance = new GlobalScope();
Key_instance_3 = new Key_2();
NonDisposableHandle_instance = new NonDisposableHandle();
Key_instance_4 = new Key_3();
counter = 0;
DEBUG = false;
//endregion
//region block: exports
export {
  CoroutineStart_UNDISPATCHED_getInstance as CoroutineStart_UNDISPATCHED_getInstance36t7e2kqqnuqp,
  firstOrNull as firstOrNull6qzpet0vqiov,
  delay as delay1f60wyf8ua1gc,
  withTimeoutOrNull as withTimeoutOrNullttha8n980jxd,
  _ChannelResult___get_isSuccess__impl__odq1z9 as _ChannelResult___get_isSuccess__impl__odq1z92rhkz5ot7gudq,
  Key_instance_1 as Key_instancey73qb3jdz7fr,
  Dispatchers_getInstance as Dispatchers_getInstance2xomc0oxzllw9,
  GlobalScope_instance as GlobalScope_instance3m5vaygder2s9,
  Key_instance_3 as Key_instance2expa55gr45sc,
  ChannelResult as ChannelResult2y4k69ac6y3du,
  Channel as Channel3r72atmcithql,
  ClosedReceiveChannelException as ClosedReceiveChannelException3ofg6gf5f5b38,
  ClosedSendChannelException as ClosedSendChannelException29m33prpq9jaw,
  cancelConsumed as cancelConsumed2i0oizqhmljf6,
  FlowCollector as FlowCollector26clgpmzihvke,
  asFlow as asFlow3ngsnn5xpz8pw,
  recoverStackTrace as recoverStackTrace2i3si2i8nvw1k,
  startCoroutineCancellable_1 as startCoroutineCancellable18shtfwdieib,
  Mutex as Mutex16li1l0asjv17,
  CancellableContinuationImpl as CancellableContinuationImpl1cx201opicavg,
  CancellationException_0 as CancellationExceptionjngvjj221x3v,
  CompletableDeferred as CompletableDeferred2lnqvsbvx74d3,
  CompletableJob as CompletableJob1w6swnu15iclo,
  CopyableThrowable as CopyableThrowable1mvc99jcyvivf,
  CoroutineName as CoroutineName2g5zosw74tf0f,
  CoroutineScope_0 as CoroutineScopelux7s7zphw7e,
  CoroutineScope as CoroutineScopefcb5f5dwqcas,
  Job_0 as Job13y4jkazwjho0,
  SupervisorJob as SupervisorJobythnfxkr3jxc,
  async as asyncz02dsa2nb2zt,
  cancel_0 as cancel36mj9lv3a0whl,
  cancel_2 as cancel2en0dn4yvpufo,
  cancel as cancel2ztysw4v4hav6,
  cancel_1 as cancel1xim2hrvjmwpn,
  get_job as get_job2zvlvce9o9a29,
  launch as launch1c91vkjzdi9sd,
  promise as promise1ky6tawqaxbt4,
};
//endregion

//# sourceMappingURL=kotlinx-coroutines-core.mjs.map
